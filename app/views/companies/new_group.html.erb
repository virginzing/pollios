<div class="row">
  <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
    <h1 class="page-title txt-color-blueDark">
      <i class="fa fa-plus fa-fw "></i> 
        Group
    </h1>
  </div>
</div>

<section id="widget-grid" class="">
  <div class="row">
    <div class="col-md-12">
      <div class="jarviswidget jarviswidget-color-blueDark" id="wid-company-new-group" data-widget-colorbutton="false" data-widget-editbutton="false">

      <header>
        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
        <h2><strong>Form</strong></h2>       
        
      </header>
      <!-- widget div-->
      <div>
    
        <!-- widget content -->
        <div class="widget-body">
          <%= simple_form_for @group, :html => { :multipart => true, class: "smart-form", id: "form-input" } do |f| %>
          <header>
            Group Detail
          </header>

          <fieldset>
            
            <section>
              <div class="row">
                <section class="col col-9">

                  <section>
                    <label class="label">Name</label>
                    <label class="input">
                      <%= f.input :name, label: false, input_html: { :"data-parsley-required" => "true" }  %>
                    </label>
                  </section>

                  <section>
                    <label class="label">Description</label>
                    <label class="textarea">
                      <%= f.input :description, label: false  %>
                    </label>
                  </section>

                </section>

                <section class="col col-3">
                  <div class="form-group">
                    <input type="file" class="default" name="group[photo_group]" id="drop_photo_each_group" accept="image/png, image/jpeg, image/gif"/>
                  </div>
                </section>

              </div>
            </section>

          </fieldset>

          <header>
            Select Member
          </header>
          <br>
          <fieldset>
            <section>
            <table id="select_member_company" class="table table-striped table-border" width="100%">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Avatar</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Joined at</th>
                </tr>
              </thead>
              <tbody>
                <% @members.each do |member| %>
                  <tr>
                    <td><%= member.id %></td>
                    <td><%= image_tag(member.avatar.url(:thumbnail), size: '50x50') %></td>
                    <td><%= member.get_name %></td>
                    <td><%= member.email %></td>
                    <td><span data-livestamp="<%= member.joined_at.to_i %>"></span></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
            </section>
          </fieldset>

          <footer>
            <button type="submit" class="btn btn-primary">
              Submit
            </button>
            <button type="button" class="btn btn-default" onclick="window.history.back();">
              Back
            </button>
          </footer>
          <% end %>

    
      </div>
      <!-- end widget div -->
      </div>
    </div>
  </div>

</section>

<button id="button">Row count</button>

<script type="text/javascript">
  $("#form-input").parsley();
  $(document).ready( function () {
      $('#select_member_company').dataTable({
        retrieve: true,
        iDisplayLength: 10,
        order: [[0, 'desc']]
      });

    var table = $('#select_member_company').DataTable();
 
    $('#select_member_company tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('selected');
    } );
 
    $('#button').click( function () {
        alert( table.rows('.selected').data().length +' row(s) selected' );
    } )
  });
</script>

<style type="text/css">
  .dataTables_filter .input-group-addon {
    width: 14px;
    margin-top: 0;
    float: left;
    height: 16px;
    padding-top: 8px;
  }
  .selected:after {
    width: 0;
    height: 0;
    border-top: 35px solid #0091d9;
    border-left: 35px solid rgba(0,0,0,0);
    position: static; 
    display: block;
    right: 0;
    content: "";
    top: 0;
    z-index: 1;
  }
</style>
