/* Responsive 1.0.2-dev
 * 2014 SpryMedia Ltd - datatables.net/license
 */
(function(d,c,a){var b=function(e,f){var h=function(j,i){if(!f.versionCheck||!f.versionCheck("1.10.1")){throw"DataTables Responsive requires DataTables 1.10.1 or newer"}else{if(j.responsive){return}}this.s={dt:new f.Api(j),columns:[]};if(i&&typeof i.details==="string"){i.details={type:i.details}}this.c=e.extend(true,{},h.defaults,i);j.responsive=this;this._constructor()};h.prototype={_constructor:function(){var i=this;var k=this.s.dt;k.settings()[0]._responsive=this;e(d).on("resize.dtr orientationchange.dtr",k.settings()[0].oApi._fnThrottle(function(){i._resize()}));k.on("destroy.dtr",function(){e(d).off("resize.dtr orientationchange.dtr")});this.c.breakpoints.sort(function(m,l){return m.width<l.width?1:m.width>l.width?-1:0});this._classLogic();this._resizeAuto();this._resize();var j=this.c.details;if(j.type){i._detailsInit();this._detailsVis();k.on("column-visibility.dtr",function(){i._detailsVis()});e(k.table().node()).addClass("dtr-"+j.type)}},_columnsVisiblity:function(m){var k=this.s.dt;var n=this.s.columns;var q,o;var p=e.map(n,function(i){return i.auto&&i.minWidth===null?false:i.auto===true?"-":e.inArray(m,i.includeIn)!==-1});var l=0;for(q=0,o=p.length;q<o;q++){if(p[q]===true){l+=n[q].minWidth}}var r=k.table().container().offsetWidth;var s=r-l;for(q=0,o=p.length;q<o;q++){if(n[q].control){s-=n[q].minWidth}else{if(p[q]==="-"){p[q]=s-n[q].minWidth<0?false:true;s-=n[q].minWidth}}}var j=false;for(q=0,o=n.length;q<o;q++){if(!n[q].control&&!p[q]){j=true;break}}for(q=0,o=n.length;q<o;q++){if(n[q].control){p[q]=j}}return p},_classLogic:function(){var n=this;var l={};var i=this.c.breakpoints;var m=this.s.dt.columns().eq(0).map(function(o){return{className:this.column(o).header().className,includeIn:[],auto:false,control:false}});var k=function(q,p){var o=m[q].includeIn;if(e.inArray(p,o)===-1){o.push(p)}};var j=function(q,p,u,t){var o,s,r;if(!u){m[q].includeIn.push(p)}else{if(u==="max-"){o=n._find(p).width;for(s=0,r=i.length;s<r;s++){if(i[s].width<=o){k(q,i[s].name)}}}else{if(u==="min-"){o=n._find(p).width;for(s=0,r=i.length;s<r;s++){if(i[s].width>=o){k(q,i[s].name)}}}else{if(u==="not-"){for(s=0,r=i.length;s<r;s++){if(i[s].name.indexOf(t)===-1){k(q,i[s].name)}}}}}}};m.each(function(u,s){var r=u.className.split(" ");var t=false;for(var q=0,o=r.length;q<o;q++){var p=e.trim(r[q]);if(p==="all"){t=true;u.includeIn=e.map(i,function(v){return v.name});return}else{if(p==="none"||p==="never"){t=true;return}else{if(p==="control"){t=true;u.control=true;return}}}e.each(i,function(y,v){var w=v.name.split("-");var z=new RegExp("(min\\-|max\\-|not\\-)?("+w[0]+")(\\-[_a-zA-Z0-9])?");var x=p.match(z);if(x){t=true;if(x[2]===w[0]&&x[3]==="-"+w[1]){j(s,v.name,x[1],x[2]+x[3])}else{if(x[2]===w[0]&&!x[3]){j(s,v.name,x[1],x[2])}}}})}if(!t){u.auto=true}});this.s.columns=m},_detailsInit:function(){var i=this;var m=this.s.dt;var k=this.c.details;if(k.type==="inline"){k.target="td:first-child"}var l=k.target;var j=typeof l==="string"?l:"td";e(m.table().body()).on("click",j,function(o){if(!e(m.table().node()).hasClass("collapsed")){return}if(typeof l==="number"){var n=l<0?m.columns().eq(0).length+l:l;if(m.cell(this).index().column!==n){return}}var p=m.row(e(this).closest("tr"));if(p.child.isShown()){p.child(false);e(p.node()).removeClass("parent")}else{var q=i.c.details.renderer(m,p[0]);p.child(q,"child").show();e(p.node()).addClass("parent")}})},_detailsVis:function(){var i=this;var l=this.s.dt;var k=l.columns(":hidden").indexes().flatten();var j=true;if(k.length===0||(k.length===1&&this.s.columns[k[0]].control)){j=false}if(j){e(l.table().node()).addClass("collapsed");l.rows().eq(0).each(function(n){var m=l.row(n);if(m.child()){var o=i.c.details.renderer(l,m[0]);if(o===false){m.child.hide()}else{m.child(o,"child").show()}}})}else{e(l.table().node()).removeClass("collapsed");l.rows().eq(0).each(function(m){l.row(m).child.hide()})}},_find:function(l){var k=this.c.breakpoints;for(var m=0,j=k.length;m<j;m++){if(k[m].name===l){return k[m]}}},_resize:function(){var k=this.s.dt;var o=e(d).width();var j=this.c.breakpoints;var l=j[0].name;for(var n=j.length-1;n>=0;n--){if(o<=j[n].width){l=j[n].name;break}}var m=this._columnsVisiblity(l);k.columns().eq(0).each(function(q,p){k.column(q).visible(m[p])})},_resizeAuto:function(){var k=this.s.dt;var m=this.s.columns;if(!this.c.auto){return}if(e.inArray(true,e.map(m,function(r){return r.auto}))===-1){return}var o=k.table().node().offsetWidth;var l=k.columns;var q=k.table().node().cloneNode(false);var j=e(k.table().header().cloneNode(false)).appendTo(q);var p=e(k.table().body().cloneNode(false)).appendTo(q);k.rows({page:"current"}).indexes().flatten().each(function(s){var r=k.row(s).node().cloneNode(true);if(k.columns(":hidden").flatten().length){e(r).append(k.cells(s,":hidden").nodes().to$().clone())}e(r).appendTo(p)});var n=k.columns().header().to$().clone(false).wrapAll("tr").appendTo(j);var i=e("<div/>").css({width:1,height:1,overflow:"hidden"}).append(q).insertBefore(k.table().node());k.columns().eq(0).each(function(r){m[r].minWidth=n[r].offsetWidth||0});i.remove()}};h.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];h.defaults={breakpoints:h.breakpoints,auto:true,details:{renderer:function(j,i){var k=j.cells(i,":hidden").eq(0).map(function(n){var m=e(j.column(n.column).header());var p=j.cell(n).index();console.log(m[0].className);if(m.hasClass("control")||m.hasClass("never")){return""}var o=j.settings()[0];var l=o.oApi._fnGetCellData(o,p.row,p.column,"display");return'<li><span class="dtr-title">'+m.text()+':</span> <span class="dtr-data">'+l+"</span></li>"}).toArray().join("");return k?e("<ul/>").append(k):false},target:0,type:"inline"}};var g=e.fn.dataTable.Api;g.register("responsive()",function(){return this});g.register("responsive.recalc()",function(i,k,j){this.iterator("table",function(l){if(l._responsive){l._responsive._resizeAuto();l._responsive._resize()}})});h.version="1.0.2-dev";e.fn.dataTable.Responsive=h;e.fn.DataTable.Responsive=h;e(c).on("init.dt.dtr",function(j,i,k){if(e(i.nTable).hasClass("responsive")||e(i.nTable).hasClass("dt-responsive")||i.oInit.responsive){var l=i.oInit.responsive;if(l!==false){new h(i,e.isPlainObject(l)?l:{})}}});return h};if(typeof define==="function"&&define.amd){define(["jquery","datatables"],b)}else{if(typeof exports==="object"){b(require("jquery"),require("datatables"))}else{if(jQuery&&!jQuery.fn.dataTable.Responsive){b(jQuery,jQuery.fn.dataTable)}}}})(window,document);