!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,s,o,a,l,u,d,c;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===e?null:a,u=i.data("with-credentials")||null,d=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),s=i.attr("action"),o=i.serializeArray();var h=i.data("ujs:submit-button");h&&(o.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),o=i.data("params")||null);c={type:r||"GET",data:o,dataType:d,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},u&&(c.xhrFields={withCredentials:u}),s&&(c.url=s);var f=n.ajax(c);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var r=n.href(i),s=i.data("method"),o=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&a!==e&&(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&u.attr("target",o),u.hide().append(d).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,s,o=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(r=t(this),s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!s==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),s=r.data("method"),o=r.data("params"),a=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(a&&(!s||"GET"===s)&&!o)return!0;var l=n.handleRemote(r);return l===!1?n.enableElement(r):l.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),s=r.data("remote")!==e,o=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(o&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[o]))return n.stopEverything(i);if(s){if(a){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,s;for(s=0;null!=(r=n[s]);s++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(o){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,s,o,a,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},s=t[u][e],o=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,s,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=s,e}}()):void(l[e]=i)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||e:e},l,{constructor:o,namespace:u,widgetName:e,widgetFullName:r}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,r,s=n.call(arguments,1),o=0,a=s.length;a>o;o++)for(i in s[o])r=s[o][i],s[o].hasOwnProperty(i)&&void 0!==r&&(e[i]=t.isPlainObject(r)?t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(s){var o="string"==typeof s,a=n.call(arguments,1),l=this;return s=!o&&a.length?t.widget.extend.apply(null,[s].concat(a)):s,this.each(o?function(){var n,i=t.data(this,r);return"instance"===s?(l=i,!1):i?t.isFunction(i[s])&&"_"!==s.charAt(0)?(n=i[s].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}:function(){var e=t.data(this,r);e?(e.option(s||{}),e._init&&e._init()):t.data(this,r,new i(s,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},i=e.split("."),e=i.shift(),i.length){for(r=o[e]=t.widget.extend({},this.options[e]),s=0;s<i.length-1;s++)r[i[s]]=r[i[s]]||{},r=r[i[s]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=n}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,o){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+s.eventNamespace,d=l[2];d?r.delegate(d,u,a):n.bind(u,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,s,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}});t.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,s,o=n.initialIframeSrc||"javascript:false;";return{send:function(a,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),s=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+s+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+s+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+s+"_method=PATCH",n.type="POST"),e+=1,r=t('<iframe src="'+o+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,s=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+o+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",s[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",o),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==t.inArray("Files",r.types)&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return e.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],s=e.multipart||!t.support.xhrFileUpload,o="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),s&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),s?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:o,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||o,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(o,e.blob,r.name):t.each(e.files,function(r,s){(i._isInstanceOf("File",s)||i._isInstanceOf("Blob",s))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||o,s,s.uploadName||s.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),s=r.promise();return n=n||this.options.context||s,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),s.abort=r.promise,this._enhancePromise(s)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,s){return(e||s)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(e,s)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,s=this,o=e.files[0],a=o.size,l=e.uploadedBytes,u=e.maxChunkSize||a,d=this._blobSlice,c=t.Deferred(),h=c.promise();return this._isXHRUpload(e)&&d&&(l||a>u)&&!e.data?n?!0:l>=a?(o.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",o.error])):(r=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=d.call(o,l,l+u,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,s._initXHRData(n),s._initProgressListener(n),i=(s._trigger("chunksend",null,n)!==!1&&t.ajax(n)||s._getXHRPromise(!1,n.context)).done(function(i,o,u){l=s._getUploadedBytes(u)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&s._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=o,n.jqXHR=u,s._trigger("chunkdone",null,n),s._trigger("chunkalways",null,n),a>l?r():c.resolveWith(n.context,[i,o,u])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,s._trigger("chunkfail",null,n),s._trigger("chunkalways",null,n),c.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var s=r._progress.total,o=r._response;r._progress.loaded<s&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:s,total:s}),r),o.result=r.result=e,o.textStatus=r.textStatus=n,o.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,s,o,a=this,l=a._getAJAXSettings(n),u=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=t.Deferred(),this._slots.push(s),o=s.pipe(u)):(this._sequence=this._sequence.pipe(u,u),o=this._sequence),o.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(s&&s.rejectWith(l.context,r),u())},this._enhancePromise(o)):u()},_onAdd:function(e,n){var i,r,s,o,a=this,l=!0,u=t.extend({},this.options,n),d=n.files,c=d.length,h=u.limitMultiFileUploads,f=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!f||c&&void 0!==d[0].size||(f=void 0),(u.singleFileUploads||h||f)&&this._isXHRUpload(u))if(u.singleFileUploads||f||!h)if(!u.singleFileUploads&&f)for(s=[],i=[],o=0;c>o;o+=1)m+=d[o].size+p,(o+1===c||m+d[o+1].size+p>f||h&&o+1-v>=h)&&(s.push(d.slice(v,o+1)),r=g.slice(v,o+1),r.length||(r=g),i.push(r),v=o+1,m=0);else i=g;else for(s=[],i=[],o=0;c>o;o+=h)s.push(d.slice(o,o+h)),r=g.slice(o,o+h),r.length||(r=g),i.push(r);else s=[d],i=[g];return n.originalFiles=d,t.each(s||d,function(r,o){var u=t.extend({},n);return u.files=s?o:[o],u.paramName=i[r],a._initResponseObject(u),a._initProgressObject(u),a._addConvenienceMethods(e,u),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,s=t.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),s.resolve([t])},a=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){s.resolve(t)}).fail(o)},l=function(){i.readEntries(function(t){t.length?(u=u.concat(t),l()):a(u)},o)},u=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,s.resolve(e._file)):e.file(function(t){t.relativePath=n,s.resolve(t)},o):e.isDirectory?(i=e.createReader(),l()):s.resolve([]),s.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=t(this.element[0].cloneNode(!1)),r=i.data();i.remove(),t.each(r,function(t,r){var s="data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();i.attr(s)&&(e._isRegExpOption(t,r)&&(r=e._getRegExp(r)),n[t]=r)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,s=t.Deferred(),o=s.promise();return o.abort=function(){return i=!0,n?n.abort():(s.reject(null,"abort","abort"),o)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void s.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){s.resolve(t,e,n)},function(t,e,n){s.reject(t,e,n)})}}),this._enhancePromise(o)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)
}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","jquery.ui.widget","jquery.iframe-transport","jquery.fileupload"],t);else{var e=window.jQuery;t(e),e(function(){void 0!==e.fn.cloudinary_fileupload&&e("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()})}}(function(t){"use strict";function e(t){if(null===t||"undefined"==typeof t)return"";var e,n,i=t+"",r="",s=0;e=n=0,s=i.length;for(var o=0;s>o;o++){var a=i.charCodeAt(o),l=null;128>a?n++:l=a>127&&2048>a?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==l&&(n>e&&(r+=i.slice(e,n)),r+=l,e=n=o+1)}return n>e&&(r+=i.slice(e,s)),r}function n(t){t=e(t);var n="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=0,r=0,s=0;i=-1^i;for(var o=0,a=t.length;a>o;o++)s=255&(i^t.charCodeAt(o)),r="0x"+n.substr(9*s,8),i=i>>>8^r;return i=-1^i,0>i&&(i+=4294967296),i}function i(t,e,n){var i=t[e];return delete t[e],"undefined"==typeof i?n:i}function r(e){return null===e||"undefined"==typeof e?[]:t.isArray(e)?e:[e]}function s(t){return function(e){return r(e).join(t)}}function o(t){return"undefined"!=typeof t&&(""+t).length>0}function a(e){for(var n=r(e.transformation),i=!0,s=0;s<n.length;s++)i=i&&"string"==typeof n[s];if(i)return[];delete e.transformation;for(var o=[],s=0;s<n.length;s++){var a=n[s];o.push("string"==typeof a?"t_"+a:d(t.extend({},a)))}return o}function l(t){var e=i(t,"size");if(e){var n=e.split("x");t.width=n[0],t.height=n[1]}}function u(t){var e=t.width,n=t.height,i=t.overlay||t.underlay,r=t.crop,s=!i&&!t.angle&&"fit"!=r&&"limit"!=r&&"lfill"!=r;s&&(e&&!t.html_width&&"auto"!==e&&parseFloat(e)>=1&&(t.html_width=e),n&&!t.html_height&&parseFloat(n)>=1&&(t.html_height=n)),r||i||(delete t.width,delete t.height)}function d(t){var e=a(t);if(l(t),u(t),void 0!==t.offset){var n=c(t.offset);delete t.offset,null!==n&&(t.start_offset=n[0],t.end_offset=n[1])}var r=[];for(var s in k){var d=i(t,s);o(d)&&(S[s]&&(d=S[s](d)),o(d)&&r.push(k[s]+"_"+d))}r.sort();var h=i(t,"raw_transformation");o(h)&&r.push(h);var f=r.join(",");return o(f)&&e.push(f),e.join("/")}function c(t){var e=t;if("string"==typeof t){var n="(([0-9]*)\\.([0-9]+)|([0-9]+))([%pP])?",i="("+n+")..("+n+")";t.match(i)&&(e=t.split(".."))}return e}function h(t){var e=t.match(new RegExp("^"+p()+"$"));if(e){var n=o(e[5])?"p":"";t=(e[1]||e[4])+n}return t}function f(){return"([0-9]*)\\.([0-9]+)|([0-9]+)"}function p(){return"("+f()+")([%pP])?"}function m(t){if(!t.match(/^https?:\//)){var e=document.location.protocol+"//"+document.location.host;"?"==t[0]?e+=document.location.pathname:"/"!=t[0]&&(e+=document.location.pathname.replace(/\/[^\/]*$/,"/")),t=e+t}return t}function g(t,e,i,r,s,o,a,l,u){if(e.match(/^\//)&&!a)return"/res"+e;var d=a?"https://":"file:"===window.location.protocol?"file://":"http://";d=u?u+"//":d;var c=!i;if(a)l&&l!=x||(l=i?e+"-res.cloudinary.com":$),c=c||l==$,null==s&&c&&(s=r),s&&(l=l.replace("res.cloudinary.com","res-"+(n(t)%5+1)+".cloudinary.com")),d+=l;else if(o){var h=r?"a"+(n(t)%5+1)+".":"";d+=h+o}else d+=i?e+"-res":"res",d+=r?"-"+(n(t)%5+1):"",d+=".cloudinary.com";return c&&(d+="/"+e),d}function v(t,e,n,i,r){var s=t+"/"+e;if(n)if("image/upload"==s)s="images";else{if("raw/upload"!=s)throw"URL Suffix only supported for image/upload and raw/upload";s="files"}if(i){if("image/upload"!=s&&"images"!=s)throw"Root path only supported for image/upload";s=""}return r&&"image/upload"==s&&(s="iu"),s}function y(e,n){n=n||{};var r=i(n,"type","upload");"fetch"==r&&(n.fetch_format=n.fetch_format||i(n,"format"));var s=d(n),a=i(n,"resource_type","image"),l=i(n,"version"),u=i(n,"format"),c=i(n,"cloud_name",t.cloudinary.config().cloud_name);if(!c)throw"Unknown cloud_name";var h=i(n,"private_cdn",t.cloudinary.config().private_cdn),f=i(n,"secure_distribution",t.cloudinary.config().secure_distribution),p=i(n,"cname",t.cloudinary.config().cname),y=i(n,"cdn_subdomain",t.cloudinary.config().cdn_subdomain),_=i(n,"secure_cdn_subdomain",t.cloudinary.config().secure_cdn_subdomain),w=i(n,"shorten",t.cloudinary.config().shorten),b=i(n,"secure","https:"==window.location.protocol),C=i(n,"protocol",t.cloudinary.config().protocol),A=i(n,"trust_public_id"),F=i(n,"url_suffix"),x=i(n,"use_root_path",t.cloudinary.config().use_root_path);if(F&&!h)throw"URL Suffix only supported in private CDN";if("fetch"==r&&(e=m(e)),e.search("/")>=0&&!e.match(/^v[0-9]+/)&&!e.match(/^https?:\//)&&!o(l)&&(l=1),e.match(/^https?:/)){if("upload"==r||"asset"==r)return e;e=encodeURIComponent(e).replace(/%3A/g,":").replace(/%2F/g,"/")}else{if(e=encodeURIComponent(decodeURIComponent(e)).replace(/%3A/g,":").replace(/%2F/g,"/"),F){if(F.match(/[\.\/]/))throw"url_suffix should not include . or /";e=e+"/"+F}u&&(A||(e=e.replace(/\.(jpg|png|gif|webp)$/,"")),e=e+"."+u)}var E=v(a,r,F,x,w),$=g(e,c,h,y,_,p,b,f,C),D=[$,E,s,l?"v"+l:"",e].join("/").replace(/([^:])\/+/g,"$1/");return D}function _(t){return 10*Math.ceil(t/10)}function w(e,n){t.cloudinary.config("dpr")&&!n.dpr&&(n.dpr=t.cloudinary.config("dpr"));var r=y(e,n),s=i(n,"html_width"),o=i(n,"html_height");return s&&(n.width=s),o&&(n.height=o),r}function b(e,n,i){var r=n[e]||t.cloudinary.config(e);return"undefined"==typeof r&&(r=i),r}function C(t,e){for(var n=t.length-2;n>=0&&t[n]>=e;)n--;return t[n+1]}function A(t){switch(typeof t){case"object":var e="";return void 0!==t.codec&&(e=t.codec,void 0!==t.profile&&(e+=":"+t.profile,void 0!==t.level&&(e+=":"+t.level))),e;case"string":return t;default:return null}}var F="d3jpl91pxevbkh.cloudfront.net",x="cloudinary-a.akamaihd.net",E="res.cloudinary.com",$=E,D={format:"jpg",resource_type:"video"},k={angle:"a",audio_codec:"ac",audio_frequency:"af",background:"b",bit_rate:"br",border:"bo",color:"co",color_space:"cs",crop:"c",default_image:"d",delay:"dl",density:"dn",duration:"du",dpr:"dpr",effect:"e",end_offset:"eo",fetch_format:"f",flags:"fl",gravity:"g",height:"h",opacity:"o",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",start_offset:"so",transformation:"t",underlay:"u",video_codec:"vc",video_sampling:"vs",width:"w",x:"x",y:"y",zoom:"z"},S={angle:function(t){return r(t).join(".")},background:function(t){return t.replace(/^#/,"rgb:")},border:function(e){if(t.isPlainObject(e)){var n=""+(e.width||2),i=(e.color||"black").replace(/^#/,"rgb:");e=n+"px_solid_"+i}return e},color:function(t){return t.replace(/^#/,"rgb:")},dpr:function(t){return t=t.toString(),"auto"===t?"1.0":t.match(/^\d+$/)?t+".0":t},effect:s(":"),flags:s("."),transformation:s("."),video_codec:A,start_offset:h,end_offset:h,duration:h},T=null,P=null,O=!1,B={};t.cloudinary={CF_SHARED_CDN:F,OLD_AKAMAI_SHARED_CDN:x,AKAMAI_SHARED_CDN:E,SHARED_CDN:$,DEFAULT_POSTER_OPTIONS:D,config:function(e,n){if(T||(T={},t('meta[name^="cloudinary_"]').each(function(){T[t(this).attr("name").replace("cloudinary_","")]=t(this).attr("content")})),"undefined"!=typeof n)T[e]=n;else{if("string"==typeof e)return T[e];e&&(T=e)}return T},url:function(e,n){return n=t.extend({},n),y(e,n)},video_url:function(e,n){return n=t.extend({resource_type:"video"},n),y(e,n)},video_thumbnail_url:function(e,n){return n=t.extend(D,n),y(e,n)},url_internal:y,transformation_string:function(e){return e=t.extend({},e),d(e)},image:function(e,n){n=t.extend({},n);var i=w(e,n),r=t("<img/>").data("src-cache",i).attr(n).cloudinary_update(n);return r},video_thumbnail:function(e,n){image(e,t.merge(D,n))},facebook_profile_image:function(e,n){return t.cloudinary.image(e,t.extend({type:"facebook"},n))},twitter_profile_image:function(e,n){return t.cloudinary.image(e,t.extend({type:"twitter"},n))},twitter_name_profile_image:function(e,n){return t.cloudinary.image(e,t.extend({type:"twitter_name"},n))},gravatar_image:function(e,n){return t.cloudinary.image(e,t.extend({type:"gravatar"},n))},fetch_image:function(e,n){return t.cloudinary.image(e,t.extend({type:"fetch"},n))},sprite_css:function(e,n){return n=t.extend({type:"sprite"},n),e.match(/.css$/)||(n.format="css"),t.cloudinary.url(e,n)},responsive:function(e){P=t.extend(P||{},e),t("img.cld-responsive, img.cld-hidpi").cloudinary_update(P);var n=b("responsive_resize",P,!0);if(n&&!O){P.resizing=O=!0;var i=null;t(window).on("resize",function(){function e(){i&&(clearTimeout(i),i=null)}function n(){t("img.cld-responsive").cloudinary_update(P)}function r(){e(),setTimeout(function(){e(),n()},s)}var s=b("responsive_debounce",P,100);s?r():n()})}},calc_stoppoint:function(e,n){var i=t(e).data("stoppoints")||t.cloudinary.config().stoppoints||_;return"function"==typeof i?i(n):("string"==typeof i&&(i=t.map(i.split(","),function(t){return parseInt(t)})),C(i,n))},device_pixel_ratio:function(){var e=window.devicePixelRatio||1,n=B[e];if(!n){var i=C(t.cloudinary.supported_dpr_values,e);n=i.toString(),n.match(/^\d+$/)&&(n+=".0"),B[e]=n}return n},supported_dpr_values:[.75,1,1.3,1.5,2,3]},t.fn.cloudinary=function(e){return this.filter("img").each(function(){var n=t.extend({width:t(this).attr("width"),height:t(this).attr("height"),src:t(this).attr("src")},t(this).data(),e),r=i(n,"source",i(n,"src")),s=w(r,n);t(this).data("src-cache",s).attr({width:n.width,height:n.height})}).cloudinary_update(e),this},t.fn.cloudinary_update=function(e){e=e||{};var n=b("responsive_use_stoppoints",e,"resize"),i=n===!1||"resize"==n&&!e.resizing;return this.filter("img").each(function(){e.responsive&&t(this).addClass("cld-responsive");var n={},r=t(this).data("src-cache")||t(this).data("src");if(r){var s=t(this).hasClass("cld-responsive")&&r.match(/\bw_auto\b/);if(s){var o,a,l=t(this).parents(),u=l.length,d=0;for(a=0;u>a;a+=1)if(o=l[a],o&&o.clientWidth){d=o.clientWidth;break}if(0==d)return;var c=i?d:t.cloudinary.calc_stoppoint(this,d),h=t(this).data("width")||0;c>h?t(this).data("width",c):c=h,r=r.replace(/\bw_auto\b/g,"w_"+c),n.width=null,n.height=null}n.src=r.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+t.cloudinary.device_pixel_ratio()),t(this).attr(n)}}),this};var I=null;t.fn.webpify=function(e,n){var i=this;if(e=e||{},n=n||e,!I){I=t.Deferred();var r=new Image;r.onerror=I.reject,r.onload=I.resolve,r.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}return t(function(){I.done(function(){t(i).cloudinary(t.extend({},n,{format:"webp"}))}).fail(function(){t(i).cloudinary(e)})}),this},t.fn.fetchify=function(e){return this.cloudinary(t.extend(e,{type:"fetch"}))},t.fn.fileupload&&(t.cloudinary.delete_by_token=function(e,n){n=n||{};var i=n.url;if(!i){var r=n.cloud_name||t.cloudinary.config().cloud_name;i="https://api.cloudinary.com/v1_1/"+r+"/delete_by_token"}var s=t.support.xhrFileUpload?"json":"iframe json";return t.ajax({url:i,method:"POST",data:{token:e},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:s})},t.fn.cloudinary_fileupload=function(e){var n=!this.data("blueimpFileupload");if(n&&(e=t.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},e)),this.fileupload(e),n&&(this.bind("fileuploaddone",function(e,n){if(!n.result.error){if(n.result.path=["v",n.result.version,"/",n.result.public_id,n.result.format?"."+n.result.format:""].join(""),n.cloudinaryField&&n.form.length>0){var i=[n.result.resource_type,n.result.type,n.result.path].join("/")+"#"+n.result.signature,r=t(e.target).prop("multiple"),s=function(){t("<input/>").attr({type:"hidden",name:n.cloudinaryField}).val(i).appendTo(n.form)};if(r)s();else{var o=t(n.form).find('input[name="'+n.cloudinaryField+'"]');o.length>0?o.val(i):s()}}t(e.target).trigger("cloudinarydone",n)}}),this.bind("fileuploadsend",function(t,e){e.headers["X-Unique-Upload-Id"]=(1e10*Math.random()).toString(16)}),this.bind("fileuploadstart",function(e){t(e.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(e){t(e.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(e,n){t(e.target).trigger("cloudinaryprogress",n)}),this.bind("fileuploadprogressall",function(e,n){t(e.target).trigger("cloudinaryprogressall",n)}),this.bind("fileuploadfail",function(e,n){t(e.target).trigger("cloudinaryfail",n)}),this.bind("fileuploadalways",function(e,n){t(e.target).trigger("cloudinaryalways",n)}),!this.fileupload("option").url)){var i=e.cloud_name||t.cloudinary.config().cloud_name,r="https://api.cloudinary.com/v1_1/"+i+"/upload";this.fileupload("option","url",r)}return this},t.fn.cloudinary_upload_url=function(t){this.fileupload("option","formData").file=t,this.fileupload("add",{files:[t]}),delete this.fileupload("option","formData").file},t.fn.unsigned_cloudinary_upload=function(e,n,i){i=i||{},n=t.extend({},n)||{},n.cloud_name&&(i.cloud_name=n.cloud_name,delete n.cloud_name);for(var r in n){var s=n[r];t.isPlainObject(s)?n[r]=t.map(s,function(t,e){return e+"="+t}).join("|"):t.isArray(s)&&(n[r]=s.length>0&&t.isArray(s[0])?t.map(s,function(t){return t.join(",")}).join("|"):s.join(","))}n.callback||(n.callback="/cloudinary_cors.html"),n.upload_preset=e,i.formData=n,i.cloudinary_field&&(i.cloudinaryField=i.cloudinary_field,delete i.cloudinary_field);var o=i.html||{};return o["class"]="cloudinary_fileupload "+(o["class"]||""),i.multiple&&(o.multiple=!0),this.attr(o).cloudinary_fileupload(i),this},t.cloudinary.unsigned_upload_tag=function(e,n,i){return t("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(e,n,i)})}),function(t,e){"function"==typeof define&&define.amd?define(["is"],function(n){return t.is=e(n)}):"object"==typeof exports?module.exports=e(require("is_js")):t.is=e(t.is)}(this,function(t){function e(t){return function(){return!t.apply(null,u.call(arguments))}}function n(e){return function(){var n=u.call(arguments),i=n.length;1===i&&t.array(n[0])&&(n=n[0],i=n.length);for(var r=[],s=0;i>s;s++)r.push(e.call(null,n[s]));for(s=0;s<r.length;s++)if(!r[s])return!1;return!0}}function i(e){return function(){var n=u.call(arguments),i=n.length;1===i&&t.array(n[0])&&(n=n[0],i=n.length);for(var r=[],s=0;i>s;s++)r.push(e.call(null,n[s]));for(s=0;s<r.length;s++)if(r[s])return!0;return!1}}function r(e,n){t[e]=function(t){return n[e].test(t)}}function s(){var r=t;for(var s in r)if(d.call(r,s)&&t["function"](r[s]))for(var o=r[s].api||["not","all","any"],a=0;a<o.length;a++)"not"===o[a]&&(t.not[s]=e(t[s])),"all"===o[a]&&(t.all[s]=n(t[s])),"any"===o[a]&&(t.any[s]=i(t[s]))}var o=this,a=o.is;t={},t.VERSION="0.2.3",t.not={},t.all={},t.any={};var l=Object.prototype.toString,u=Array.prototype.slice,d=Object.prototype.hasOwnProperty;t.arguments=function(e){return t.not["null"](e)&&("[object Arguments]"===l.call(e)||"object"==typeof e&&"callee"in e)},t.array=Array.isArray||function(t){return"[object Array]"===l.call(t)},t["boolean"]=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},t.date=function(t){return"[object Date]"===l.call(t)},t.error=function(t){return"[object Error]"===l.call(t)},t["function"]=function(t){return"[object Function]"===l.call(t)||"function"==typeof t},t.nan=function(e){return t.number(e)&&e!==e},t["null"]=function(t){return null===t||"[object Null]"===l.call(t)},t.number=function(t){return"[object Number]"===l.call(t)},t.object=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},t.regexp=function(t){return"[object RegExp]"===l.call(t)},t.sameType=function(e,n){return t.nan(e)||t.nan(n)?t.nan(e)===t.nan(n):l.call(e)===l.call(n)},t.sameType.api=["not"],t.string=function(t){return"[object String]"===l.call(t)},t["char"]=function(e){return t.string(e)&&1===e.length},t.undefined=function(t){return void 0===t},t.empty=function(e){if(t.object(e)){var n=Object.getOwnPropertyNames(e).length;return 0===n||1===n&&t.array(e)||2===n&&t.arguments(e)?!0:!1}return""===e},t.existy=function(t){return null!==t&&void 0!==t},t.truthy=function(e){return t.existy(e)&&e!==!1&&t.not.nan(e)&&""!==e&&0!==e},t.falsy=e(t.truthy),t.space=function(e){if(t.string(e)){var n=e.charCodeAt(0);return n>8&&14>n||32===n}return!1},t.equal=function(e,n){return t.all.number(e,n)?e===n&&1/e===1/n:t.all.string(e,n)||t.all.regexp(e,n)?""+e==""+n:t.all["boolean"](e,n)?e===n:!1},t.equal.api=["not"],t.even=function(e){return t.number(e)&&e%2===0},t.odd=function(e){return t.number(e)&&e%2!==0},t.positive=function(e){return t.number(e)&&e>0},t.negative=function(e){return t.number(e)&&0>e},t.above=function(e,n){return t.all.number(e,n)&&e>n},t.above.api=["not"],t.under=function(e,n){return t.all.number(e,n)&&n>e},t.under.api=["not"],t.within=function(e,n,i){return t.all.number(e,n,i)&&e>n&&i>e},t.within.api=["not"],t.decimal=function(e){return t.number(e)&&e%1!==0},t.integer=function(e){return t.number(e)&&e%1===0},t.finite=isFinite||function(e){return 1/0!==e&&e!==-1/0&&t.not.nan(e)},t.infinite=e(t.finite);var c={url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/};for(var h in c)c.hasOwnProperty(h)&&r(h,c);t.include=String.prototype.includes||function(t,e){return t.indexOf(e)>-1},t.include.api=["not"],t.upperCase=function(e){return t.string(e)&&e===e.toUpperCase()},t.lowerCase=function(e){return t.string(e)&&e===e.toLowerCase()},t.startWith=function(e,n){return t.string(e)&&0===e.indexOf(n)},t.startWith.api=["not"],t.endWith=function(e,n){return t.string(e)&&e.indexOf(n)===e.length-n.length},t.endWith.api=["not"],t.capitalized=function(e){if(t.not.string(e))return!1;for(var n=e.split(" "),i=[],r=0;r<n.length;r++)i.push(n[r][0]===n[r][0].toUpperCase());return t.all.truthy.apply(null,i)};var f=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],p=["january","february","march","april","may","june","july","august","september","october","november","december"];if(t.today=function(e){var n=new Date,i=n.toDateString();return t.date(e)&&e.toDateString()===i},t.yesterday=function(e){var n=new Date,i=new Date(n.setDate(n.getDate()-1)).toDateString();return t.date(e)&&e.toDateString()===i},t.tomorrow=function(e){var n=new Date,i=new Date(n.setDate(n.getDate()+1)).toDateString();return t.date(e)&&e.toDateString()===i},t.past=function(e){var n=new Date;return t.date(e)&&e.getTime()<n.getTime()},t.future=e(t.past),t.day=function(e,n){return t.date(e)&&n.toLowerCase()===f[e.getDay()]},t.day.api=["not"],t.month=function(e,n){return t.date(e)&&n.toLowerCase()===p[e.getMonth()]},t.month.api=["not"],t.year=function(e,n){return t.date(e)&&t.number(n)&&n===e.getFullYear()},t.year.api=["not"],t.weekend=function(e){return t.date(e)&&(6===e.getDay()||0===e.getDay())},t.weekday=e(t.weekend),t.inDateRange=function(e,n,i){if(t.not.date(e)||t.not.date(n)||t.not.date(i))return!1;var r=e.getTime(),s=n.getTime(),o=i.getTime();return r>s&&o>r},t.inDateRange.api=["not"],t.inLastWeek=function(e){return t.inDateRange(e,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},t.inLastMonth=function(e){return t.inDateRange(e,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},t.inLastYear=function(e){return t.inDateRange(e,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},t.inNextWeek=function(e){return t.inDateRange(e,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},t.inNextMonth=function(e){return t.inDateRange(e,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},t.inNextYear=function(e){return t.inDateRange(e,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},t.quarterOfYear=function(e,n){return t.date(e)&&t.number(n)&&n===Math.floor((e.getMonth()+3)/3)},t.quarterOfYear.api=["not"],t.dayLightSavingTime=function(t){var e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1),i=Math.max(e.getTimezoneOffset(),n.getTimezoneOffset());return t.getTimezoneOffset()<i},"undefined"!=typeof window){var m="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",g="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",v="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";t.chrome=function(){return/chrome|chromium/i.test(m)&&/google inc/.test(g)},t.chrome.api=["not"],t.firefox=function(){return/firefox/i.test(m)},t.firefox.api=["not"],t.ie=function(t){return t?new RegExp("msie "+t).test(m):/msie/i.test(m)},t.ie.api=["not"],t.opera=function(){return/opr/i.test(m)},t.opera.api=["not"],t.safari=function(){return/safari/i.test(m)&&/apple computer/i.test(g)},t.safari.api=["not"],t.ios=function(){return t.iphone()||t.ipad()||t.ipod()},t.ios.api=["not"],t.iphone=function(){return/iphone/i.test(m)},t.iphone.api=["not"],t.ipad=function(){return/ipad/i.test(m)},t.ipad.api=["not"],t.ipod=function(){return/ipod/i.test(m)},t.ipod.api=["not"],t.android=function(){return/android/i.test(m)},t.android.api=["not"],t.androidPhone=function(){return/android/i.test(m)&&/mobile/i.test(m)},t.androidPhone.api=["not"],t.androidTablet=function(){return/android/i.test(m)&&!/mobile/i.test(m)},t.androidTablet.api=["not"],t.blackberry=function(){return/blackberry/i.test(m)},t.blackberry.api=["not"],t.desktop=function(){return t.not.mobile()&&t.not.tablet()},t.desktop.api=["not"],t.linux=function(){return/linux/i.test(v)},t.linux.api=["not"],t.mac=function(){return/mac/i.test(v)},t.mac.api=["not"],t.windows=function(){return/win/i.test(v)},t.windows.api=["not"],t.windowsPhone=function(){return t.windows()&&/phone/i.test(m)},t.windowsPhone.api=["not"],t.windowsTablet=function(){return t.windows()&&t.not.windowsPhone()&&/touch/i.test(m)},t.windowsTablet.api=["not"],t.mobile=function(){return t.iphone()||t.ipod()||t.androidPhone()||t.blackberry()||t.windowsPhone()},t.mobile.api=["not"],t.tablet=function(){return t.ipad()||t.androidTablet()||t.windowsTablet()},t.tablet.api=["not"],t.online=function(){return navigator.onLine},t.online.api=["not"],t.offline=e(t.online),t.offline.api=["not"]}return t.propertyCount=function(e,n){if(!t.object(e)||!t.number(n))return!1;if(Object.keys)return Object.keys(e).length===n;var i,r=[];for(i in e)d.call(e,i)&&r.push(i);return r.length===n},t.propertyCount.api=["not"],t.propertyDefined=function(e,n){return t.object(e)&&t.string(n)&&n in e},t.propertyDefined.api=["not"],t.windowObject=function(t){return"object"==typeof t&&"setInterval"in t},t.inArray=function(e,n){if(t.not.array(n))return!1;for(var i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},t.inArray.api=["not"],t.sorted=function(e){if(t.not.array(e))return!1;for(var n=0;n<e.length;n++)if(e[n]>e[n+1])return!1;return!0},s(),t.setRegexp=function(t,e){for(var n in c)d.call(c,n)&&e===n&&(c[n]=t)},t.setNamespace=function(){return o.is=a,this},t}),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),r=t("#"+t(n).data("blueprint-id")),s=r.data("blueprint"),o=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(o)for(var a=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=o.match(/[0-9]+/g)||[],u=0;u<a.length;u++)l[u]&&(s=s.replace(new RegExp("(_"+a[u]+")_.+?_","g"),"$1_"+l[u]+"_"),s=s.replace(new RegExp("(\\["+a[u]+"\\])\\[.+?\\]","g"),"$1["+l[u]+"]"));var d=new RegExp("new_"+i,"g"),c=this.newId();s=t.trim(s.replace(d,c));var h=this.insertFields(s,i,n);return h.trigger({type:"nested:fieldAdded",field:h}).trigger({type:"nested:fieldAdded:"+i,field:h}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var r=t(i).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),r=n.prev("input[type=hidden]");r.val("1");var s=n.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+i,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),r=i.children(),s=0;s<r.length;++s){var o=t(r[s]);if(o.is(e))return o;n.push(o)}}return t()}}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=g[p.locale];return e?e[t]:g.en[t]}function r(t,n,i){t.stopPropagation(),t.preventDefault();var r=e.isFunction(i)&&i(t)===!1;r||n.modal("hide")}function s(t){var e,n=0;for(e in t)n++;return n}function o(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function a(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},p,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,n=t.buttons,i=s(n),o(n,function(t,r,s){if(e.isFunction(r)&&(r=n[t]={callback:r}),"object"!==e.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t),r.className||(r.className=2>=i&&s===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function u(t,n,i){return e.extend(!0,{},t,l(n,i))}function d(t,e,n,i){var r={className:"bootbox-"+t,buttons:c.apply(null,e)};return h(u(r,i,n),e)}function c(){for(var t={},e=0,n=arguments.length;n>e;e++){var r=arguments[e],s=r.toLowerCase(),o=r.toUpperCase();t[s]={label:i(o)}}return t}function h(t,e){var i={};return o(e,function(t,e){i[e]=!0}),o(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=d("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},m.dialog(t)},m.confirm=function(){var t;if(t=d("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,r,s,a,l,d;s=e(f.form),i={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},t=h(u(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n?!0:t.show;var p=["date","time","number"],g=document.createElement("input");if(g.setAttribute("type",t.inputType),p[t.inputType]&&(t.inputType=g.type),t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=a.val();break;case"checkbox":var i=a.find("input:checked");n=[],o(i,function(t,i){n.push(e(i).val())})}return t.callback(n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");
switch(a=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(t.value);break;case"select":var v={};if(d=t.inputOptions||[],!d.length)throw new Error("prompt with select requires options");o(d,function(t,i){var r=a;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(v[i.group]||(v[i.group]=e("<optgroup/>").attr("label",i.group)),r=v[i.group]),r.append("<option value='"+i.value+"'>"+i.text+"</option>")}),o(v,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var y=e.isArray(t.value)?t.value:[t.value];if(d=t.inputOptions||[],!d.length)throw new Error("prompt with checkbox requires options");if(!d[0].value||!d[0].text)throw new Error("given options in wrong format");a=e("<div/>"),o(d,function(n,i){var r=e(f.inputs[t.inputType]);r.find("input").attr("value",i.value),r.find("label").append(i.text),o(y,function(t,e){e===i.value&&r.find("input").prop("checked",!0)}),a.append(r)})}return t.placeholder&&a.attr("placeholder",t.placeholder),t.pattern&&a.attr("pattern",t.pattern),s.append(a),s.on("submit",function(t){t.preventDefault(),r.find(".btn-primary").click()}),r=m.dialog(t),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){a.focus()}),l===!0&&r.modal("show"),r},m.dialog=function(t){t=a(t);var n=e(f.dialog),i=n.find(".modal-body"),s=t.buttons,l="",u={onEscape:t.onEscape};if(o(s,function(t,e){l+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",u[t]=e.callback}),i.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),t.title&&i.before(f.header),t.closeButton){var d=e(f.closeButton);t.title?n.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(i)}return t.title&&n.find(".modal-title").html(t.title),l.length&&(i.after(f.footer),n.find(".modal-footer").html(l)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){u.onEscape&&r(t,n,u.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");r(t,n,u[i])}),n.on("click",".bootbox-close-button",function(t){r(t,n,u.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},m.hideAll=function(){e(".bootbox").modal("hide")};var g={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return m.init=function(n){return t(n||e)},m}),$(document).ready(function(){function t(t,e){bootbox.confirm(t,function(t){t&&e()})}$.rails.allowAction=function(e){var n,i=e.data("confirm"),r=!1;return i?($.rails.fire(e,"confirm")&&t(i,function(){if(n=$.rails.fire(e,"confirm:complete",[r])){var t=$.rails.allowAction;$.rails.allowAction=function(){return!0},e.trigger("click"),$.rails.allowAction=t}}),!1):!0}}),function(t){function e(t,e){return function(n){return l(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function i(){}function r(t){o(this,t)}function s(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,s=t.hours||t.hour||t.h||0,o=t.minutes||t.minute||t.m||0,a=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=+l+1e3*a+6e4*o+36e5*s,this._days=+r+7*i,this._months=+n+12*e,this._data={},this._bubble()}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function u(t,e,n,i){var r,s,o=e._milliseconds,a=e._days,l=e._months;o&&t._d.setTime(+t._d+o*n),(a||l)&&(r=t.minute(),s=t.hour()),a&&t.date(t.date()+a*n),l&&t.month(t.month()+l*n),o&&!i&&R.updateOffset(t),(a||l)&&(t.minute(r),t.hour(s))}function d(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;i>n;n++)~~t[n]!==~~e[n]&&s++;return s+r}function h(t){return t?le[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function f(t,e){return e.abbr=t,V[t]||(V[t]=new i),V[t].set(e),V[t]}function p(t){delete V[t]}function m(t){if(!t)return R.fn._lang;if(!V[t]&&L)try{require("./lang/"+t)}catch(e){return R.fn._lang}return V[t]||R.fn._lang}function g(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function v(t){var e,n,i=t.match(U);for(e=0,n=i.length;n>e;e++)i[e]=he[i[e]]?he[i[e]]:g(i[e]);return function(r){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function y(t,e){return e=_(e,t.lang()),ue[e]||(ue[e]=v(e)),ue[e](t)}function _(t,e){function n(t){return e.longDateFormat(t)||t}for(var i=5;i--&&(W.lastIndex=0,W.test(t));)t=t.replace(W,n);return t}function w(t,e){switch(t){case"DDDD":return K;case"YYYY":return G;case"YYYYY":return X;case"S":case"SS":case"SSS":case"DDD":return Q;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Z;case"a":case"A":return m(e._l)._meridiemParse;case"X":return ee;case"Z":case"ZZ":return J;case"T":return te;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return Y;default:return new RegExp(t.replace("\\",""))}}function b(t){var e=(J.exec(t)||[])[0],n=(e+"").match(se)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function C(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":null!=e&&(r[1]=~~e-1);break;case"MMM":case"MMMM":i=m(n._l).monthsParse(e),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":null!=e&&(r[2]=~~e);break;case"DDD":case"DDDD":null!=e&&(r[1]=0,r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=m(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(e)}null==e&&(n._isValid=!1)}function A(t){var e,n,i,r=[];if(!t._d){for(i=x(t),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];r[3]+=~~((t._tzm||0)/60),r[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),t._d=n}}function F(t){var e=t._i;t._d||(t._a=[e.years||e.year||e.y,e.months||e.month||e.M,e.days||e.day||e.d,e.hours||e.hour||e.h,e.minutes||e.minute||e.m,e.seconds||e.second||e.s,e.milliseconds||e.millisecond||e.ms],A(t))}function x(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function E(t){var e,n,i,r=m(t._l),s=""+t._i;for(i=_(t._f,r).match(U),t._a=[],e=0;e<i.length;e++)n=(w(i[e],t).exec(s)||[])[0],n&&(s=s.slice(s.indexOf(n)+n.length)),he[i[e]]&&C(i[e],n,t);s&&(t._il=s),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),A(t)}function $(t){var e,n,i,s,a,l=99;for(s=0;s<t._f.length;s++)e=o({},t),e._f=t._f[s],E(e),n=new r(e),a=c(e._a,n.toArray()),n._il&&(a+=n._il.length),l>a&&(l=a,i=n);o(t,i)}function D(t){var e,n=t._i,i=ne.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;4>e;e++)if(re[e][1].exec(n)){t._f+=re[e][0];break}J.exec(n)&&(t._f+=" Z"),E(t)}else t._d=new Date(n)}function k(e){var n=e._i,i=H.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?D(e):d(n)?(e._a=n.slice(0),A(e)):n instanceof Date?e._d=new Date(+n):"object"==typeof n?F(e):e._d=new Date(n)}function S(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function T(t,e,n){var i=z(Math.abs(t)/1e3),r=z(i/60),s=z(r/60),o=z(s/24),a=z(o/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",z(o/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=n,S.apply({},l)}function P(t,e,n){var i,r=n-e,s=n-t.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=R(t).add("d",s),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function O(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=m().preparse(e)),R.isMoment(e)?(t=o({},e),t._d=new Date(+e._d)):n?d(n)?$(t):E(t):k(t),new r(t))}function B(t,e){R.fn[t]=R.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),R.updateOffset(this),this):this._d["get"+n+e]()}}function I(t){R.duration.fn[t]=function(){return this._data[t]}}function M(t,e){R.duration.fn["as"+t]=function(){return+this/e}}for(var R,N,j="2.2.1",z=Math.round,V={},L="undefined"!=typeof module&&module.exports,H=/^\/?Date\((\-?\d+)/i,q=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,U=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Y=/\d\d?/,Q=/\d{1,3}/,K=/\d{3}/,G=/\d{1,4}/,X=/[+\-]?\d{1,6}/,Z=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J=/Z|[\+\-]\d\d:?\d\d/i,te=/T/i,ee=/[\+\-]?\d+(\.\d{1,3})?/,ne=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ie="YYYY-MM-DDTHH:mm:ssZ",re=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],se=/([\+\-]|\d\d)/gi,oe="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ae={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},le={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},ue={},de="DDD w W M D d".split(" "),ce="M D H h m s w W".split(" "),he={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};de.length;)N=de.pop(),he[N+"o"]=n(he[N],N);for(;ce.length;)N=ce.pop(),he[N+N]=e(he[N],2);for(he.DDDD=e(he.DDD,3),o(i.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=R.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=R([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return P(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),R=function(t,e,n){return O({_i:t,_f:e,_l:n,_isUTC:!1})},R.utc=function(t,e,n){return O({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e}).utc()},R.unix=function(t){return R(1e3*t)},R.duration=function(t,e){var n,i,r=R.isDuration(t),o="number"==typeof t,a=r?t._input:o?{}:t,l=q.exec(t);return o?e?a[e]=t:a.milliseconds=t:l&&(n="-"===l[1]?-1:1,a={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new s(a),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},R.version=j,R.defaultFormat=ie,R.updateOffset=function(){},R.lang=function(t,e){return t?(t=t.toLowerCase(),t=t.replace("_","-"),e?f(t,e):null===e?(p(t),t="en"):V[t]||m(t),void(R.duration.fn._lang=R.fn._lang=m(t))):R.fn._lang._abbr},R.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),m(t)},R.isMoment=function(t){return t instanceof r},R.isDuration=function(t){return t instanceof s},o(R.fn=r.prototype,{clone:function(){return R(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return y(R(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?R.utc(this._a):R(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var t,e=this._a,n=(this._isUTC?R.utc(this._a):R(this._a)).toArray();for(t=6;t>=0&&e[t]===n[t];--t);return t},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=y(this,t||R.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?R.duration(+e,t):R.duration(t,e),u(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?R.duration(+e,t):R.duration(t,e),u(this,n,-1),this},diff:function(t,e,n){var i,r,s=this._isUTC?R(t).zone(this._offset||0):R(t).local(),o=6e4*(this.zone()-s.zone());return e=h(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),r+=(this-R(this).startOf("month")-(s-R(s).startOf("month")))/i,r-=6e4*(this.zone()-R(this).startOf("month").zone()-(s.zone()-R(s).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-o)/864e5:"week"===e?(i-o)/6048e5:i),n?r:a(r)},from:function(t,e){return R.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(R(),t)},calendar:function(){var t=this.diff(R().zone(this.zone()).startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),R.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=h(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoweek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=h(t),this.startOf(t).add("isoweek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+R(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+R(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+R(t).startOf(e)},min:function(t){return t=R.apply(null,arguments),this>t?this:t},max:function(t){return t=R.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=b(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&u(this,R.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(t){return t=t?R(t).zone():0,0===(this.zone()-t)%60},daysInMonth:function(){return R.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=z((R(this).startOf("day")-R(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=P(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=P(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=P(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=h(t),this[t.toLowerCase()]()},set:function(t,e){t=h(t),this[t.toLowerCase()](e)},lang:function(e){return e===t?this._lang:(this._lang=m(e),this)}}),N=0;N<oe.length;N++)B(oe[N].toLowerCase().replace(/s$/,""),oe[N]);B("year","FullYear"),R.fn.days=R.fn.day,R.fn.months=R.fn.month,R.fn.weeks=R.fn.week,R.fn.isoWeeks=R.fn.isoWeek,R.fn.toJSON=R.fn.toISOString,o(R.duration.fn=s.prototype,{_bubble:function(){var t,e,n,i,r=this._milliseconds,s=this._days,o=this._months,l=this._data;l.milliseconds=r%1e3,t=a(r/1e3),l.seconds=t%60,e=a(t/60),l.minutes=e%60,n=a(e/60),l.hours=n%24,s+=a(n/24),l.days=s%30,o+=a(s/30),l.months=o%12,i=a(o/12),l.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=T(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=R.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=R.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=h(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=h(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:R.fn.lang});for(N in ae)ae.hasOwnProperty(N)&&(M(N,ae[N]),I(N.toLowerCase()));M("Weeks",6048e5),R.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},R.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),L&&(module.exports=R),"undefined"==typeof ender&&(this.moment=R),"function"==typeof define&&define.amd&&define("moment",[],function(){return R})}.call(this),function(t,e){var n=1e3,i=!1,r=t([]),s=function(n,i){var s=n.data("livestampdata");"number"==typeof i&&(i*=1e3),n.removeAttr("data-livestamp").removeData("livestamp"),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(s=t.extend({},{original:n.contents()},s),s.moment=e(i),n.data("livestampdata",s).empty(),r.push(n[0]))},o=function(){i||(a.update(),setTimeout(o,n))},a={update:function(){t("[data-livestamp]").each(function(){var e=t(this);s(e,e.data("livestamp"))});var n=[];r.each(function(){var i=t(this),r=i.data("livestampdata");if(void 0===r)n.push(this);else if(e.isMoment(r.moment)){var s=i.html(),r=r.moment.fromNow();if(s!=r){var o=t.Event("change.livestamp");i.trigger(o,[s,r]),o.isDefaultPrevented()||i.html(r)}}}),r=r.not(n)},pause:function(){i=!0},resume:function(){i=!1,o()},interval:function(t){return void 0===t?n:void(n=t)}},l={add:function(n,i){return"number"==typeof i&&(i*=1e3),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(n.each(function(){s(t(this),i)}),a.update()),n},destroy:function(e){return r=r.not(e),e.each(function(){var n=t(this),i=n.data("livestampdata");return void 0===i?e:void n.html(i.original?i.original:"").removeData("livestampdata")}),e},isLivestamp:function(t){return void 0!==t.data("livestampdata")}};t.livestamp=a,t(function(){a.resume()}),t.fn.livestamp=function(t,e){return l[t]||(e=t,t="add"),l[t](this,e)}}(jQuery,moment),window.ParsleyExtend=window.ParsleyExtend||{},window.ParsleyExtend=$.extend(window.ParsleyExtend,{asyncSupport:!0,asyncValidators:$.extend({"default":{fn:function(t){return"resolved"===t.state()},url:!1},reverse:{fn:function(t){return"rejected"===t.state()},url:!1}},window.ParsleyExtend.asyncValidators),addAsyncValidator:function(t,e,n,i){return this.asyncValidators[t.toLowerCase()]={fn:e,url:n||!1,options:i||{}},this},asyncValidate:function(){return"ParsleyForm"===this.__class__?this._asyncValidateForm.apply(this,arguments):this._asyncValidateField.apply(this,arguments)},asyncIsValid:function(){return"ParsleyField"===this.__class__?this._asyncIsValidField.apply(this,arguments):this._asyncIsValidForm.apply(this,arguments)},onSubmitValidate:function(t){var e=this;if(!0!==t.parsley)return this.submitEvent=$.extend(!0,{},t),t instanceof $.Event&&(t.stopImmediatePropagation(),t.preventDefault()),this._asyncValidateForm(void 0,t).done(function(){e.submitEvent.isDefaultPrevented()||e.$element.trigger($.extend($.Event("submit"),{parsley:!0}))})},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.asyncValidate())},_asyncValidateForm:function(t){var e=this,n=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var i=0;i<this.fields.length;i++)t&&t!==this.fields[i].options.group||n.push(this.fields[i]._asyncValidateField());return $.when.apply($,n).always(function(){$.emit("parsley:form:validated",e)})},_asyncIsValidForm:function(t,e){var n=[];this._refreshFields();for(var i=0;i<this.fields.length;i++)t&&t!==this.fields[i].options.group||n.push(this.fields[i]._asyncIsValidField(e));return $.when.apply($,n)},_asyncValidateField:function(t){var e=this;return $.emit("parsley:field:validate",this),this._asyncIsValidField(t).done(function(){$.emit("parsley:field:success",e)}).fail(function(){$.emit("parsley:field:error",e)}).always(function(){$.emit("parsley:field:validated",e)})},_asyncIsValidField:function(t,e){var n=$.Deferred();return!1===this.isValid(t,e)?n.rejectWith(this):"undefined"!=typeof this.constraintsByName.remote?this._remote(n):n.resolveWith(this),n.promise()},_remote:function(t){var e,n,i=this,r={},s=this.options.remoteValidator||(!0===this.options.remoteReverse?"reverse":"default");if(s=s.toLowerCase(),"undefined"==typeof this.asyncValidators[s])throw new Error("Calling an undefined async validator: `"+s+"`");r[this.$element.attr("name")||this.$element.attr("id")]=this.getValue(),this.options.remoteOptions=$.extend(!0,this.options.remoteOptions||{},this.asyncValidators[s].options),e=$.extend(!0,{},{url:this.asyncValidators[s].url||this.options.remote,data:r,type:"GET"},this.options.remoteOptions||{}),n=$.param(e),"undefined"==typeof this._remoteCache&&(this._remoteCache={}),this._remoteCache[n]||(this._xhr&&"pending"===this._xhr.state()&&this._xhr.abort(),this._xhr=$.ajax(e),this._remoteCache[n]=this._xhr),this._remoteCache[n].done(function(e,n,r){i._handleRemoteResult(s,r,t)}).fail(function(e,n){"abort"!==n&&i._handleRemoteResult(s,e,t)})},_handleRemoteResult:function(t,e,n){return"function"==typeof this.asyncValidators[t].fn&&this.asyncValidators[t].fn(e)?void n.resolveWith(this):(this.validationResult=[new window.ParsleyValidator.Validator.Violation(this.constraintsByName.remote,this.getValue(),null)],void n.rejectWith(this))}}),window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.validators=window.ParsleyConfig.validators||{},window.ParsleyConfig.validators.remote={fn:function(){return!0},priority:-1},!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"undefined"==typeof t&&"undefined"!=typeof window.jQuery&&(t=window.jQuery);var e={attr:function(t,e,n){var i,r={},s=this.msieversion(),o=new RegExp("^"+e,"i");if("undefined"==typeof t||"undefined"==typeof t[0])return{};for(var a in t[0].attributes)if(i=t[0].attributes[a],"undefined"!=typeof i&&null!==i&&(!s||s>=8||i.specified)&&o.test(i.name)){if("undefined"!=typeof n&&new RegExp(n+"$","i").test(i.name))return!0;r[this.camelize(i.name.replace(e,""))]=this.deserializeValue(i.value)}return"undefined"==typeof n?r:!1},setAttr:function(t,e,n,i){t[0].setAttribute(this.dasherize(e+n),String(i))},get:function(t,e){for(var n=0,i=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[i[n++]],n===i.length)return t;return void 0},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(e){var n;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return e>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0}},n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,n){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,n])},subscribe:function(e,n){return t.listenTo(this,e.toLowerCase(),n),this},unsubscribe:function(e){return t.unsubscribeTo(this,e.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return t.emit("parsley:field:reset",this);for(var e=0;e<this.fields.length;e++)t.emit("parsley:field:reset",this.fields[e]);t.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void t.emit("parsley:field:destroy",this);for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),t.emit("parsley:form:destroy",this)}},function(t){var e=function(t){return this.__class__="Validator",this.__version__="0.5.8",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};e.prototype={constructor:e,validate:function(t,e,n){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||o(t)?this._validateString(t,e,n):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,n)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new n(e),this},unbind:function(t){return"undefined"==typeof t._validatorjsConstraint?this:(delete t[this.bindingKey],this)},isBinded:function(t){return"undefined"!=typeof t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,n){var s,a=[];o(e)||(e=[e]);for(var l=0;l<e.length;l++){if(!(e[l]instanceof r))throw new Error("You must give an Assert or an Asserts array to validate a string");s=e[l].check(t,n),s instanceof i&&a.push(s)}return a.length?a:!0},_validateObject:function(t,e,i){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof n?e.check(t,i):new n(e).check(t,i)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},e.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(t,e){if(this.__class__="Constraint",this.options=e||{},this.nodes={},t)try{this._bootstrap(t)
}catch(n){throw new Error("Should give a valid mapping object to Constraint",n,t)}return this};n.prototype={constructor:n,check:function(t,e){var n,i={};for(var a in this.options.strict?this.nodes:t)if(this.options.strict?this.has(a,t):this.has(a))n=this._check(a,t[a],e),(o(n)&&n.length>0||!o(n)&&!s(n))&&(i[a]=n);else if(this.options.strict)try{(new r).HaveProperty(a).validate(t)}catch(l){i[a]=l}return s(i)?!0:i},add:function(t,e){if(e instanceof r||o(e)&&e[0]instanceof r)return this.nodes[t]=e,this;if("object"==typeof e&&!o(e))return this.nodes[t]=e instanceof n?e:new n(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return e="undefined"!=typeof e?e:this.nodes,"undefined"!=typeof e[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var n in this.nodes)n!==t&&(e[n]=this.nodes[n]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof n)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,i){if(this.nodes[t]instanceof r)return this._checkAsserts(e,[this.nodes[t]],i);if(o(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],i);if(this.nodes[t]instanceof n)return this.nodes[t].check(e,i);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,n){for(var i,r=[],s=0;s<e.length;s++)i=e[s].check(t,n),"undefined"!=typeof i&&!0!==i&&r.push(i);return r}};var i=function(t,e,n){if(this.__class__="Violation",!(t instanceof r))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,"undefined"!=typeof n&&(this.violation=n)};i.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var r=function(t){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof t&&this.addGroup(t),this};r.prototype={construct:r,check:function(t,e){if(!(e&&!this.hasGroup(e)||!e&&this.hasGroups()))try{return this.validate(t,e)}catch(n){return n}},hasGroup:function(t){return o(t)?this.hasOneOf(t):"Any"===t?!0:this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(t){return o(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],n=0;n<this.groups.length;n++)t!==this.groups[n]&&e.push(this.groups[n]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if("undefined"==typeof t[this.node])throw new i(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new i(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!o(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,n=0;n<e.length;n++)if(t===e[n])return!0;throw new i(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint="undefined"!=typeof t?new n(t):!1,this.validate=function(t,n){var r,a=new e,l=0,u={},d=this.groups.length?this.groups:n;if(!o(t))throw new i(this,array,{value:e.errorCode.must_be_an_array});for(var c=0;c<t.length;c++)r=this.constraint?a.validate(t[c],this.constraint,d):a.validate(t[c],d),s(r)||(u[l]=r),l++;return s(u)?!0:u},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!o(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});var n="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(n)))throw new Error("Count must be a valid interger",n);if(n!==t.length)throw new i(this,t,{count:n});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Eql:function(t){if(this.__class__="Eql","undefined"==typeof t)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=t,this.validate=function(t){var e="function"==typeof this.eql?this.eql(t):this.eql;if(!a.eql(e,t))throw new i(this,t,{eql:e});return!0},this},EqualTo:function(t){if(this.__class__="EqualTo","undefined"==typeof t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new i(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>=t)throw new i(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>t)throw new i(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf","undefined"==typeof t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new i(this,t,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(t){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!o(t))throw new i(this,t,{value:e.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&t.length!==this.min)throw new i(this,t,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&t.length>this.max)throw new i(this,t,{max:this.max});if("undefined"!=typeof this.min&&t.length<this.min)throw new i(this,t,{min:this.min});return!0},this},LessThan:function(t){if(this.__class__="LessThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<=t)throw new i(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<t)throw new i(this,t,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(t){var n=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null===t||"undefined"==typeof t)throw new i(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new i(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range","undefined"==typeof t||"undefined"==typeof e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(t){try{return"string"==typeof t&&isNaN(Number(t))||o(t)?(new r).Length({min:this.min,max:this.max}).validate(t):(new r).GreaterThanOrEqual(this.min).validate(t)&&(new r).LessThanOrEqual(this.max).validate(t),!0}catch(e){throw new i(this,t,e.violation)}return!0},this},Regexp:function(t,n){if(this.__class__="Regexp","undefined"==typeof t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=n||"",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new i(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(t){if("undefined"==typeof t)throw new i(this,t);try{"string"==typeof t?(new r).NotNull().validate(t)&&(new r).NotBlank().validate(t):!0===o(t)&&(new r).Length({min:1}).validate(t)}catch(e){throw new i(this,t)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var n,r=[];if(!o(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});for(var s=0;s<t.length;s++)if(n="object"==typeof t[s]?t[s][this.key]:t[s],"undefined"!=typeof n){if(-1!==r.indexOf(n))throw new i(this,t,{value:n});r.push(n)}return!0},this}},t.Assert=r,t.Validator=e,t.Violation=i,t.Constraint=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1});var s=function(t){for(var e in t)return!1;return!0},o=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={eql:function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:this.objEquiv(t,e)},isUndefinedOrNull:function(t){return null===t||"undefined"==typeof t},isArguments:function(t){return"[object Arguments]"==Object.prototype.toString.call(t)},keys:function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},objEquiv:function(t,e){if(this.isUndefinedOrNull(t)||this.isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(this.isArguments(t))return this.isArguments(e)?eql(pSlice.call(t),pSlice.call(e)):!1;try{var n,i,r=this.keys(t),s=this.keys(e);if(r.length!==s.length)return!1;for(r.sort(),s.sort(),i=r.length-1;i>=0;i--)if(r[i]!=s[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!this.eql(t[n],e[n]))return!1;return!0}catch(o){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return t})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var r=function(t,e){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(t||{},e||{})};r.prototype={init:function(e,n){this.catalog=n;for(var i in e)this.addValidator(i,e[i].fn,e[i].priority,e[i].requirementsTransformer);t.emit("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return"undefined"==typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=n,this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(e,n,i,r){return this.validators[e.toLowerCase()]=function(e){return t.extend((new Validator.Assert).Callback(n,e),{priority:i,requirementsTransformer:r})},this},updateValidator:function(t,e,n,i){return this.addValidator(t,e,n,i)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements),""!==e?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:function(){return t.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return t.extend((new Validator.Assert).Required(),{priority:512})},type:function(e){var n;switch(e){case"email":n=(new Validator.Assert).Email();break;case"range":case"number":n=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":n=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":n=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":n=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":n=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+e+"` is not supported")}return t.extend(n,{priority:256})},pattern:function(e){var n="";return/^\/.*\/(?:[gimy]*)$/.test(e)&&(n=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+n+"$"),"$1")),t.extend((new Validator.Assert).Regexp(e,n),{priority:64})},minlength:function(e){return t.extend((new Validator.Assert).Length({min:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},maxlength:function(e){return t.extend((new Validator.Assert).Length({max:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},length:function(e){return t.extend((new Validator.Assert).Length({min:e[0],max:e[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(e){return t.extend((new Validator.Assert).GreaterThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},max:function(e){return t.extend((new Validator.Assert).LessThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},range:function(e){return t.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(e){return t.extend((new Validator.Assert).EqualTo(e),{priority:256,requirementsTransformer:function(){return t(e).length?t(e).val():e}})}}};var s=function(){this.__class__="ParsleyUI"};s.prototype={listen:function(){return t.listen("parsley:form:init",this,this.setupForm),t.listen("parsley:field:init",this,this.setupField),t.listen("parsley:field:validated",this,this.reflow),t.listen("parsley:form:validated",this,this.focus),t.listen("parsley:field:reset",this,this.reset),t.listen("parsley:form:destroy",this,this.destroy),t.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&"undefined"==typeof t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],n=0;n<t.validationResult.length;n++)e.push(this._getErrorMessage(t,t.validationResult[n].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,n){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return n.added.length||n.kept.length?(0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<n.removed.length;i++)this.removeError(e,n.removed[i].assert.name,!0);for(i=0;i<n.added.length;i++)this.addError(e,n.added[i].assert.name,void 0,n.added[i].assert,!0);for(i=0;i<n.kept.length;i++)this.updateError(e,n.kept[i].assert.name,void 0,n.kept[i].assert,!0)}},addError:function(e,n,i,r,s){e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+n).html(i||this._getErrorMessage(e,r))),!0!==s&&this._errorClass(e)},updateError:function(t,e,n,i,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(t,i)),!0!==r&&this._errorClass(t)},removeError:function(t,e,n){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==n&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&t.fields[e].validationResult.length>0&&"undefined"==typeof t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var n=e.name+"Message";return"undefined"!=typeof t.options[n]?window.ParsleyValidator.formatMessage(t.options[n],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,n){for(var i=[],r=[],s=0;s<t.length;s++){for(var o=!1,a=0;a<e.length;a++)if(t[s].assert.name===e[a].assert.name){o=!0;break}o?r.push(t[s]):i.push(t[s])}return{kept:r,added:i,removed:n?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var n={active:!1};!1!==e.options.uiEnabled&&(n.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),n.$errorClassHandler=this._manageClassHandler(e),n.errorsWrapperId="parsley-id-"+("undefined"!=typeof e.options.multiple?"multiple-"+e.options.multiple:e.__id__),n.$errorsWrapper=t(e.options.errorsWrapper).attr("id",n.errorsWrapperId),n.lastValidationResult=[],n.validatedOnce=!1,n.validationInformationVisible=!1,e._ui=n,this._insertErrorWrapper(e),this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);var n=e.options.classHandler(e);return"undefined"!=typeof n&&n.length?n:"undefined"==typeof e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var n;if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer).length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof e.options.errorsContainer&&(n=e.options.errorsContainer(e));return"undefined"!=typeof n&&n.length?n.append(e._ui.$errorsWrapper):"undefined"==typeof e.options.multiple?e.$element.after(e._ui.$errorsWrapper):e.$element.parent().after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var n=this;if(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).off(".Parsley")}):e.$element.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:n.eventValidate,e))}):e.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.children().each(function(){t(this).remove()}),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&("undefined"!=typeof t._ui&&t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var o=function(n,i,r,s){this.__class__="OptionsFactory",this.__id__=e.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=t.extend(!0,{},n,i,r,{namespace:s})};o.prototype={get:function(t){if("undefined"==typeof t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(n){return this.formOptions=e.attr(n.$element,this.staticOptions.namespace),t.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(n){return this.fieldOptions=e.attr(n.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof n.parent&&(this.formOptions=this.getFormOptions(n.parent)),t.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var a=function(n,i){if(this.__class__="ParsleyForm",this.__id__=e.hash(4),"OptionsFactory"!==e.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=t(n),this.validationResult=null,this.options=this.OptionsFactory.get(this)};a.prototype={onSubmitValidate:function(e){return this.validate(void 0,void 0,e),!1===this.validationResult&&e instanceof t.Event&&(e.stopImmediatePropagation(),e.preventDefault()),this},validate:function(e,n,i){this.submitEvent=i,this.validationResult=!0;var r=[];this._refreshFields(),t.emit("parsley:form:validate",this);for(var s=0;s<this.fields.length;s++)e&&e!==this.fields[s].options.group||(r=this.fields[s].validate(n),!0!==r&&r.length>0&&this.validationResult&&(this.validationResult=!1));return t.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var n=0;n<this.fields.length;n++)if((!t||t===this.fields[n].options.group)&&!1===this.fields[n].isValid(e))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var e=new window.Parsley(this,{},t);"ParsleyField"!==e.__class__&&"ParsleyFieldMultiple"!==e.__class__||e.$element.is(e.options.excluded)||"undefined"==typeof t.fieldsMappedById[e.__class__+"-"+e.__id__]&&(t.fieldsMappedById[e.__class__+"-"+e.__id__]=e,t.fields.push(e))}),this}};var l=function(n,i,r,s,o){if(!new RegExp("ParsleyField").test(e.get(n,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](r).__parentClass__)throw new Error("Valid validator expected");var a=function(t,n){return"undefined"!=typeof t.options[n+"Priority"]?t.options[n+"Priority"]:e.get(window.ParsleyValidator.validators[n](r),"priority")||2};return s=s||a(n,i),"function"==typeof window.ParsleyValidator.validators[i](r).requirementsTransformer&&(r=window.ParsleyValidator.validators[i](r).requirementsTransformer()),t.extend(window.ParsleyValidator.validators[i](r),{name:i,requirements:r,priority:s,groups:[s],isDomConstraint:o||e.attr(n.$element,n.options.namespace,i)})},u=function(n,i,r){this.__class__="ParsleyField",this.__id__=e.hash(4),this.$element=t(n),"undefined"!=typeof r?(this.parent=r,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};u.prototype={validate:function(e){return this.value=this.getValue(),t.emit("parsley:field:validate",this),t.emit("parsley:field:"+(this.isValid(e,this.value)?"success":"error"),this),t.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var n=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var i=0;i<n.length;i++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,n[i])))return!1;return!0},getValue:function(){var t;return t="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var r=new l(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);this.constraints=t;for(var n in this.options)this.addConstraint(n,this.options[n]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var d=function(){this.__class__="ParsleyFieldMultiple"};d.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var e;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(t("html").has(this.$elements[n]).length){e=this.$elements[n].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var i=0;i<e.length;i++)this.addConstraint(e[i].name,e[i].requirements,e[i].priority,e[i].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){e.push(t(this).val())}),e.length?e:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var c=t({}),h={};t.listen=function(t){if("undefined"==typeof h[t]&&(h[t]=[]),"function"==typeof arguments[1])return h[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return h[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},t.listenTo=function(t,e,n){if("undefined"==typeof h[e]&&(h[e]=[]),!(t instanceof u||t instanceof a))throw new Error("Must give Parsley instance");
if("string"!=typeof e||"function"!=typeof n)throw new Error("Wrong parameters");h[e].push({instance:t,fn:n})},t.unsubscribe=function(t,e){if("undefined"!=typeof h[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var n=0;n<h[t].length;n++)if(h[t][n].fn===e)return h[t].splice(n,1)}},t.unsubscribeTo=function(t,e){if("undefined"!=typeof h[e]){if(!(t instanceof u||t instanceof a))throw new Error("Must give Parsley instance");for(var n=0;n<h[e].length;n++)if("undefined"!=typeof h[e][n].instance&&h[e][n].instance.__id__===t.__id__)return h[e].splice(n,1)}},t.unsubscribeAll=function(t){"undefined"!=typeof h[t]&&delete h[t]},t.emit=function(t,e){if("undefined"!=typeof h[t])for(var n=0;n<h[t].length;n++)if("undefined"!=typeof h[t][n].instance){if(e instanceof u||e instanceof a)if(h[t][n].instance.__id__!==e.__id__){if(h[t][n].instance instanceof a&&e instanceof u)for(var i=0;i<h[t][n].instance.fields.length;i++)if(h[t][n].instance.fields[i].__id__===e.__id__){h[t][n].fn.apply(c,Array.prototype.slice.call(arguments,1));continue}}else h[t][n].fn.apply(c,Array.prototype.slice.call(arguments,1))}else h[t][n].fn.apply("undefined"!=typeof h[t][n].ctxt?h[t][n].ctxt:c,Array.prototype.slice.call(arguments,1))},t.subscribed=function(){return h},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=t.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var f=function(n,i,r){if(this.__class__="Parsley",this.__version__="2.0.3",this.__id__=e.hash(4),"undefined"==typeof n)throw new Error("You must give an element");if("undefined"!=typeof r&&"ParsleyForm"!==r.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(t(n),i,r)};f.prototype={init:function(t,i,r){if(!t.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=t,this.$element.data("Parsley")){var s=this.$element.data("Parsley");return"undefined"!=typeof r&&(s.parent=r),s}return this.OptionsFactory=new o(n,e.get(window,"ParsleyConfig")||{},i,this.getNamespace(i)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||e.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(r):this.bind("parsleyField",r):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(n){var i,r,s,o=this;if(this.options=t.extend(this.options,n?n.OptionsFactory.get(n):{},e.attr(this.$element,this.options.namespace)),this.options.multiple?r=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?r=i=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(r=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",n,r||this.__id__);if("undefined"==typeof r)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(r=r.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof i&&t('input[name="'+i+'"]').each(function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(o.options.namespace+"multiple",r)}),t("["+this.options.namespace+"multiple="+r+"]").length)for(var a=0;a<t("["+this.options.namespace+"multiple="+r+"]").length;a++)if("undefined"!=typeof t(t("["+this.options.namespace+"multiple="+r+"]").get(a)).data("Parsley")){s=t(t("["+this.options.namespace+"multiple="+r+"]").get(a)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(s.addElement(this.$element),this.$element.attr(this.options.namespace+"id",s.__id__));break}return this.bind("parsleyField",n,r,!0),s||this.bind("parsleyFieldMultiple",n,r)},getNamespace:function(t){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof e.get(t,"namespace")?t.namespace:"undefined"!=typeof e.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:n.namespace},bind:function(n,r,s,o){var l;switch(n){case"parsleyForm":l=t.extend(new a(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,new d,window.ParsleyExtend)._init(s);break;default:throw new Error(n+"is not a supported Parsley type")}return"undefined"!=typeof s&&e.setAttr(this.$element,this.options.namespace,"multiple",s),"undefined"!=typeof o?(this.$element.data("ParsleyFieldMultiple",l),l):(new RegExp("ParsleyF","i").test(l.__class__)&&(this.$element.data("Parsley",l),t.emit("parsley:"+("parsleyForm"===n?"form":"field")+":init",l)),l)}},t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new f(this,e):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof e.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new s).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=f,window.ParsleyUtils=e,window.ParsleyValidator=new r(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==e.get(window,"ParsleyConfig.autoBind")&&t(document).ready(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()})}),!function(t){var e={attr:function(t,e,n){var i,r={},s=new RegExp("^"+e,"i");if("undefined"==typeof t||"undefined"==typeof t[0])return{};for(var o in t[0].attributes)if(i=t[0].attributes[o],"undefined"!=typeof i&&null!==i&&i.specified&&s.test(i.name)){if("undefined"!=typeof n&&new RegExp(n+"$","i").test(i.name))return!0;r[this.camelize(i.name.replace(e,""))]=this.deserializeValue(i.value)}return"undefined"==typeof n?r:!1},setAttr:function(t,e,n,i){t[0].setAttribute(this.dasherize(e+n),String(i))},get:function(t,e){for(var n=0,i=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[i[n++]],n===i.length)return t;return void 0},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(e){var n;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}},n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,n){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,n])},subscribe:function(e,n){return t.listenTo(this,e.toLowerCase(),n),this},unsubscribe:function(e){return t.unsubscribeTo(this,e.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return t.emit("parsley:field:reset",this);for(var e=0;e<this.fields.length;e++)t.emit("parsley:field:reset",this.fields[e]);t.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void t.emit("parsley:field:destroy",this);for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),t.emit("parsley:form:destroy",this)}},function(t){var e=function(t){return this.__class__="Validator",this.__version__="0.5.8",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};e.prototype={constructor:e,validate:function(t,e,n){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||o(t)?this._validateString(t,e,n):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,n)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new n(e),this},unbind:function(t){return"undefined"==typeof t._validatorjsConstraint?this:(delete t[this.bindingKey],this)},isBinded:function(t){return"undefined"!=typeof t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,n){var s,a=[];o(e)||(e=[e]);for(var l=0;l<e.length;l++){if(!(e[l]instanceof r))throw new Error("You must give an Assert or an Asserts array to validate a string");s=e[l].check(t,n),s instanceof i&&a.push(s)}return a.length?a:!0},_validateObject:function(t,e,i){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof n?e.check(t,i):new n(e).check(t,i)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},e.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(t,e){if(this.__class__="Constraint",this.options=e||{},this.nodes={},t)try{this._bootstrap(t)}catch(n){throw new Error("Should give a valid mapping object to Constraint",n,t)}return this};n.prototype={constructor:n,check:function(t,e){var n,i={};for(var a in this.options.strict?this.nodes:t)if(this.options.strict?this.has(a,t):this.has(a))n=this._check(a,t[a],e),(o(n)&&n.length>0||!o(n)&&!s(n))&&(i[a]=n);else if(this.options.strict)try{(new r).HaveProperty(a).validate(t)}catch(l){i[a]=l}return s(i)?!0:i},add:function(t,e){if(e instanceof r||o(e)&&e[0]instanceof r)return this.nodes[t]=e,this;if("object"==typeof e&&!o(e))return this.nodes[t]=e instanceof n?e:new n(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return e="undefined"!=typeof e?e:this.nodes,"undefined"!=typeof e[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var n in this.nodes)n!==t&&(e[n]=this.nodes[n]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof n)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,i){if(this.nodes[t]instanceof r)return this._checkAsserts(e,[this.nodes[t]],i);if(o(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],i);if(this.nodes[t]instanceof n)return this.nodes[t].check(e,i);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,n){for(var i,r=[],s=0;s<e.length;s++)i=e[s].check(t,n),"undefined"!=typeof i&&!0!==i&&r.push(i);return r}};var i=function(t,e,n){if(this.__class__="Violation",!(t instanceof r))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,"undefined"!=typeof n&&(this.violation=n)};i.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var r=function(t){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof t&&this.addGroup(t),this};r.prototype={construct:r,check:function(t,e){if(!(e&&!this.hasGroup(e)||!e&&this.hasGroups()))try{return this.validate(t,e)}catch(n){return n}},hasGroup:function(t){return o(t)?this.hasOneOf(t):"Any"===t?!0:this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(t){return o(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],n=0;n<this.groups.length;n++)t!==this.groups[n]&&e.push(this.groups[n]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if("undefined"==typeof t[this.node])throw new i(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new i(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!o(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,n=0;n<e.length;n++)if(t===e[n])return!0;throw new i(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint="undefined"!=typeof t?new n(t):!1,this.validate=function(t,n){var r,a=new e,l=0,u={},d=this.groups.length?this.groups:n;if(!o(t))throw new i(this,array,{value:e.errorCode.must_be_an_array});for(var c=0;c<t.length;c++)r=this.constraint?a.validate(t[c],this.constraint,d):a.validate(t[c],d),s(r)||(u[l]=r),l++;return s(u)?!0:u},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!o(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});var n="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(n)))throw new Error("Count must be a valid interger",n);if(n!==t.length)throw new i(this,t,{count:n});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Eql:function(t){if(this.__class__="Eql","undefined"==typeof t)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=t,this.validate=function(t){var e="function"==typeof this.eql?this.eql(t):this.eql;if(!a.eql(e,t))throw new i(this,t,{eql:e});return!0},this},EqualTo:function(t){if(this.__class__="EqualTo","undefined"==typeof t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new i(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>=t)throw new i(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>t)throw new i(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf","undefined"==typeof t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new i(this,t,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(t){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!o(t))throw new i(this,t,{value:e.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&t.length!==this.min)throw new i(this,t,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&t.length>this.max)throw new i(this,t,{max:this.max});if("undefined"!=typeof this.min&&t.length<this.min)throw new i(this,t,{min:this.min});return!0},this},LessThan:function(t){if(this.__class__="LessThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<=t)throw new i(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<t)throw new i(this,t,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(t){var n=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null===t||"undefined"==typeof t)throw new i(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new i(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range","undefined"==typeof t||"undefined"==typeof e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(t){try{return"string"==typeof t&&isNaN(Number(t))||o(t)?(new r).Length({min:this.min,max:this.max}).validate(t):(new r).GreaterThanOrEqual(this.min).validate(t)&&(new r).LessThanOrEqual(this.max).validate(t),!0}catch(e){throw new i(this,t,e.violation)}return!0},this},Regexp:function(t,n){if(this.__class__="Regexp","undefined"==typeof t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=n||"",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new i(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(t){if("undefined"==typeof t)throw new i(this,t);try{"string"==typeof t?(new r).NotNull().validate(t)&&(new r).NotBlank().validate(t):!0===o(t)&&(new r).Length({min:1}).validate(t)}catch(e){throw new i(this,t)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var n,r=[];if(!o(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});for(var s=0;s<t.length;s++)if(n="object"==typeof t[s]?t[s][this.key]:t[s],"undefined"!=typeof n){if(-1!==r.indexOf(n))throw new i(this,t,{value:n});r.push(n)}return!0},this}},t.Assert=r,t.Validator=e,t.Violation=i,t.Constraint=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1});var s=function(t){for(var e in t)return!1;return!0},o=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={eql:function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:this.objEquiv(t,e)},isUndefinedOrNull:function(t){return null===t||"undefined"==typeof t},isArguments:function(t){return"[object Arguments]"==Object.prototype.toString.call(t)},keys:function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},objEquiv:function(t,e){if(this.isUndefinedOrNull(t)||this.isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(this.isArguments(t))return this.isArguments(e)?eql(pSlice.call(t),pSlice.call(e)):!1;try{var n,i,r=this.keys(t),s=this.keys(e);if(r.length!==s.length)return!1;for(r.sort(),s.sort(),i=r.length-1;i>=0;i--)if(r[i]!=s[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!this.eql(t[n],e[n]))return!1;return!0}catch(o){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return t})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var r=function(t,e){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(t||{},e||{})};r.prototype={init:function(e,n){this.catalog=n;for(var i in e)this.addValidator(i,e[i].fn,e[i].priority);t.emit("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return void 0===typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=n,this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(e,n,i){return this.validators[e.toLowerCase()]=function(e){return t.extend((new Validator.Assert).Callback(n,e),{priority:i})},this},updateValidator:function(t,e,n){return addValidator(t,e,n)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements),""!==e?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:function(){return t.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return t.extend((new Validator.Assert).Required(),{priority:512})},type:function(e){var n;switch(e){case"email":n=(new Validator.Assert).Email();break;case"number":n=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":n=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":n=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":n=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":n=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+e+"` is not supported")}return t.extend(n,{priority:256})},pattern:function(e){var n="";return/^\/.*\/(?:[gimy]*)$/.test(e)&&(n=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+n+"$"),"$1")),t.extend((new Validator.Assert).Regexp(e,n),{priority:64})},minlength:function(e){return t.extend((new Validator.Assert).Length({min:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},maxlength:function(e){return t.extend((new Validator.Assert).Length({max:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},length:function(e){return t.extend((new Validator.Assert).Length({min:e[0],max:e[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(e){return t.extend((new Validator.Assert).GreaterThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},max:function(e){return t.extend((new Validator.Assert).LessThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},range:function(e){return t.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(e){return t.extend((new Validator.Assert).EqualTo(e),{priority:256,requirementsTransformer:function(){return t(e).length?t(e).val():e}})}}};var s=function(){this.__class__="ParsleyUI"};s.prototype={listen:function(){return t.listen("parsley:form:init",this,this.setupForm),t.listen("parsley:field:init",this,this.setupField),t.listen("parsley:field:validated",this,this.reflow),t.listen("parsley:form:validated",this,this.focus),t.listen("parsley:field:reset",this,this.reset),t.listen("parsley:form:destroy",this,this.destroy),t.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&"undefined"==typeof t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],n=0;n<t.validationResult.length;n++)e.push(this._getErrorMessage(t,t.validationResult[n].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,n){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return n.added.length||n.kept.length?(0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<n.removed.length;i++)this.removeError(e,n.removed[i].assert.name,!0);for(i=0;i<n.added.length;i++)this.addError(e,n.added[i].assert.name,void 0,n.added[i].assert,!0);for(i=0;i<n.kept.length;i++)this.updateError(e,n.kept[i].assert.name,void 0,n.kept[i].assert,!0)}},addError:function(e,n,i,r,s){e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+n).html(i||this._getErrorMessage(e,r))),!0!==s&&this._errorClass(e)},updateError:function(t,e,n,i,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(t,i)),!0!==r&&this._errorClass(t)},removeError:function(t,e,n){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==n&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&t.fields[e].validationResult.length>0&&"undefined"==typeof t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var n=e.name+"Message";return"undefined"!=typeof t.options[n]?window.ParsleyValidator.formatMessage(t.options[n],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,n){for(var i=[],r=[],s=0;s<t.length;s++){for(var o=!1,a=0;a<e.length;a++)if(t[s].assert.name===e[a].assert.name){o=!0;break}o?r.push(t[s]):i.push(t[s])}return{kept:r,added:i,removed:n?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var n={active:!1};!1!==e.options.uiEnabled&&(n.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),n.$errorClassHandler=this._manageClassHandler(e),n.errorsWrapperId="parsley-id-"+("undefined"!=typeof e.options.multiple?"multiple-"+e.options.multiple:e.__id__),n.$errorsWrapper=t(e.options.errorsWrapper).attr("id",n.errorsWrapperId),n.lastValidationResult=[],n.validatedOnce=!1,n.validationInformationVisible=!1,e._ui=n,this._insertErrorWrapper(e),this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);
var n=e.options.classHandler(e);return"undefined"!=typeof n&&n.length?n:"undefined"==typeof e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var n;if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer+"").length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}return"function"==typeof e.options.errorsContainer&&(n=e.options.errorsContainer(e)),"undefined"!=typeof n&&n.length?n.append(e._ui.$errorsWrapper):"undefined"==typeof e.options.multiple?e.$element.after(e._ui.$errorsWrapper):e.$element.parent().after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var n=this;if(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).off(".Parsley")}):e.$element.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:n.eventValidate,e))}):e.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.children().each(function(){t(this).remove()}),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var o=function(n,i,r,s){this.__class__="OptionsFactory",this.__id__=e.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=t.extend(!0,{},n,i,r,{namespace:s})};o.prototype={get:function(t){if("undefined"==typeof t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(n){return this.formOptions=e.attr(n.$element,this.staticOptions.namespace),t.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(n){return this.fieldOptions=e.attr(n.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof n.parent&&(this.formOptions=this.getFormOptions(n.parent)),t.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var a=function(n,i){if(this.__class__="ParsleyForm",this.__id__=e.hash(4),"OptionsFactory"!==e.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=t(n),this.validationResult=null,this.options=this.OptionsFactory.get(this)};a.prototype={onSubmitValidate:function(e){return this.validate(void 0,void 0,e),!1===this.validationResult&&e instanceof t.Event&&(e.stopImmediatePropagation(),e.preventDefault()),this},validate:function(e,n,i){this.submitEvent=i,this.validationResult=!0;var r=[];this._refreshFields(),t.emit("parsley:form:validate",this);for(var s=0;s<this.fields.length;s++)e&&e!==this.fields[s].options.group||(r=this.fields[s].validate(n),!0!==r&&r.length>0&&this.validationResult&&(this.validationResult=!1));return t.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var n=0;n<this.fields.length;n++)if((!t||t===this.fields[n].options.group)&&!1===this.fields[n].isValid(e))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var e=new window.Parsley(this,{},t);"ParsleyField"!==e.__class__&&"ParsleyFieldMultiple"!==e.__class__||e.$element.is(e.options.excluded)||"undefined"==typeof t.fieldsMappedById[e.__class__+"-"+e.__id__]&&(t.fieldsMappedById[e.__class__+"-"+e.__id__]=e,t.fields.push(e))}),this}};var l=function(n,i,r,s,o){if(!new RegExp("ParsleyField").test(e.get(n,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](r).__parentClass__)throw new Error("Valid validator expected");var a=function(t,n){return"undefined"!=typeof t.options[n+"Priority"]?t.options[n+"Priority"]:e.get(window.ParsleyValidator.validators[n](r),"priority")||2};return s=s||a(n,i),"function"==typeof window.ParsleyValidator.validators[i](r).requirementsTransformer&&(r=window.ParsleyValidator.validators[i](r).requirementsTransformer()),t.extend(window.ParsleyValidator.validators[i](r),{name:i,requirements:r,priority:s,groups:[s],isDomConstraint:o||e.attr(n.$element,n.options.namespace,i)})},u=function(n,i,r){this.__class__="ParsleyField",this.__id__=e.hash(4),this.$element=t(n),"undefined"!=typeof r?(this.parent=r,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};u.prototype={validate:function(e){return this.value=this.getValue(),t.emit("parsley:field:validate",this),t.emit("parsley:field:"+(this.isValid(e,this.value)?"success":"error"),this),t.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var n=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var i=0;i<n.length;i++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,n[i])))return!1;return!0},getValue:function(){var t;return t="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var r=new l(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);this.constraints=t;for(var n in this.options)this.addConstraint(n,this.options[n]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var d=function(){this.__class__="ParsleyFieldMultiple"};d.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++){t=this.$elements[e].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<t.length;n++)this.addConstraint(t[n].name,t[n].requirements,t[n].priority,t[n].isDomConstraint)}return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){e.push(t(this).val())}),e.length?e:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var c=t({}),h={};t.listen=function(t){if("undefined"==typeof h[t]&&(h[t]=[]),"function"==typeof arguments[1])return h[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return h[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},t.listenTo=function(t,e,n){if("undefined"==typeof h[e]&&(h[e]=[]),!(t instanceof u||t instanceof a))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof n)throw new Error("Wrong parameters");h[e].push({instance:t,fn:n})},t.unsubscribe=function(t,e){if("undefined"!=typeof h[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var n=0;n<h[t].length;n++)if(h[t][n].fn===e)return h[t].splice(n,1)}},t.unsubscribeTo=function(t,e){if("undefined"!=typeof h[e]){if(!(t instanceof u||t instanceof a))throw new Error("Must give Parsley instance");for(var n=0;n<h[e].length;n++)if("undefined"!=typeof h[e][n].instance&&h[e][n].instance.__id__===t.__id__)return h[e].splice(n,1)}},t.unsubscribeAll=function(t){"undefined"!=typeof h[t]&&delete h[t]},t.emit=function(t,e){if("undefined"!=typeof h[t])for(var n=0;n<h[t].length;n++)if("undefined"!=typeof h[t][n].instance){if(e instanceof u||e instanceof a)if(h[t][n].instance.__id__!==e.__id__){if(h[t][n].instance instanceof a&&e instanceof u)for(var i=0;i<h[t][n].instance.fields.length;i++)if(h[t][n].instance.fields[i].__id__===e.__id__){h[t][n].fn.apply(c,Array.prototype.slice.call(arguments,1));continue}}else h[t][n].fn.apply(c,Array.prototype.slice.call(arguments,1))}else h[t][n].fn.apply("undefined"!=typeof h[t][n].ctxt?h[t][n].ctxt:c,Array.prototype.slice.call(arguments,1))},t.subscribed=function(){return h},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=t.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var f=function(n,i,r){if(this.__class__="Parsley",this.__version__="2.0.0",this.__id__=e.hash(4),"undefined"==typeof n)throw new Error("You must give an element");if("undefined"!=typeof r&&"ParsleyForm"!==r.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(t(n),i,r)};f.prototype={init:function(t,i,r){if(!t.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=t,this.$element.data("Parsley")){var s=this.$element.data("Parsley");return"undefined"!=typeof r&&(s.parent=r),s}return this.OptionsFactory=new o(n,e.get(window,"ParsleyConfig")||{},i,this.getNamespace(i)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||e.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(r):this.bind("parsleyField",r):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(n){var i,r,s,o=this;if(this.options=t.extend(this.options,n?n.OptionsFactory.get(n):{},e.attr(this.$element,this.options.namespace)),this.options.multiple?r=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?r=i=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(r=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",n,r||this.__id__);if("undefined"==typeof r)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(r=r.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof i&&t('input[name="'+i+'"]').each(function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(o.options.namespace+"multiple",r)}),t("["+this.options.namespace+"multiple="+r+"]").length)for(var a=0;a<t("["+this.options.namespace+"multiple="+r+"]").length;a++)if("undefined"!=typeof t(t("["+this.options.namespace+"multiple="+r+"]").get(a)).data("Parsley")){s=t(t("["+this.options.namespace+"multiple="+r+"]").get(a)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(s.addElement(this.$element),this.$element.attr(this.options.namespace+"id",s.__id__));break}return this.bind("parsleyField",n,r,!0),s||this.bind("parsleyFieldMultiple",n,r)},getNamespace:function(t){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof e.get(t,"namespace")?t.namespace:"undefined"!=typeof e.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:n.namespace},bind:function(n,r,s,o){var l;switch(n){case"parsleyForm":l=t.extend(new a(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,new d,window.ParsleyExtend)._init(s);break;default:throw new Error(n+"is not a supported Parsley type")}return"undefined"!=typeof s&&e.setAttr(this.$element,this.options.namespace,"multiple",s),"undefined"!=typeof o?(this.$element.data("ParsleyFieldMultiple",l),l):(new RegExp("ParsleyF","i").test(l.__class__)&&(this.$element.data("Parsley",l),t.emit("parsley:"+("parsleyForm"===n?"form":"field")+":init",l)),l)}},t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new f(this,e):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof e.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new s).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=f,window.ParsleyUtils=e,window.ParsleyValidator=new r(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==e.get(window,"ParsleyConfig.autoBind")&&t(document).ready(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()}),"function"==typeof define&&define.amd&&define("parsley",function(){return window.Parsley})}(window.jQuery),$(document).on("page:change",function(){$.form_new_member=$(".new_member"),$.form_new_camapagin=$(".new_campaign"),$.form_new_feedback=$(".new_feedback"),$.form_new_member.length>0&&$.form_new_member.parsley(),$.form_new_camapagin.length>0&&$.form_new_camapagin.parsley(),$.form_new_feedback.length>0&&$.form_new_feedback.parsley()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e={className:"",text:"Drop a file",previewImage:!0,value:null,classes:{main:"ezdz-dropzone",enter:"ezdz-enter",reject:"ezdz-reject",accept:"ezdz-accept",focus:"ezdz-focus"},validators:{maxSize:null,width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},init:function(){},enter:function(){},leave:function(){},reject:function(){},accept:function(){},format:function(t){return t}};t.ezdz=function(n,i){this.settings=t.extend(!0,{},e,t.ezdz.defaults,i),this.$input=t(n);var r=this,s=r.settings,o=r.$input;if(o.is('input[type="file"]')&&t.ezdz.isBrowserCompatible()){var a=function(){var e,n,i;n=t('<div class="'+s.classes.main+'" />').on("dragover.ezdz",function(){t(this).addClass(s.classes.enter),t.isFunction(s.enter)&&s.enter.apply(this)}).on("dragleave.ezdz",function(){t(this).removeClass(s.classes.enter),t.isFunction(s.leaved)&&s.leaved.apply(this)}).addClass(s.className),o.wrap(n).before("<div>"+s.text+"</div>"),e=o.parent("."+s.classes.main),i=s.value||o.data("value"),i&&r.preview(i),t.isFunction(s.init)&&s.init.apply(o,[i]),o.on("focus.ezdz",function(){e.addClass(s.classes.focus)}).on("blur.ezdz",function(){e.removeClass(s.classes.focus)}).on("change.ezdz",function(){var n=this.files[0];if(n){var i=n.name.replace(/\\/g,"/").replace(/.*\//,""),r=n.name.split(".").pop(),a=s.format(i);n.extension=r;var l=o.attr("accept"),u=!1;if(valid=!0,errors={mimeType:!1,maxSize:!1,width:!1,minWidth:!1,maxWidth:!1,height:!1,minHeight:!1,maxHeight:!1},l){var d=l.split(/[,|]/);t.each(d,function(e,i){if(i=t.trim(i),n.type==i)return u=!0,!1;if(i.indexOf("/*")!==!1){var r=i.replace("/*",""),s=n.type.replace(/(\/.*)$/g,"");if(r===s)return u=!0,!1}}),u===!1&&(errors.mimeType=!0)}else u=!0;if(e.removeClass(s.classes.reject+" "+s.classes.accept),u!==!0)return o.val(""),e.addClass(s.classes.reject),t.isFunction(s.reject)&&s.reject.apply(o,[n,errors]),!1;var c=new FileReader(n);c.readAsDataURL(n),c.onload=function(i){var r,l=new Image;n.data=i.target.result,l.src=n.data,setTimeout(function(){r=l.width&&l.height,s.validators.maxSize&&n.size>s.validators.maxSize&&(valid=!1,errors.maxSize=!0),r&&(n.width=l.width,n.height=l.height,s.validators.width&&l.width!=s.validators.width&&(valid=!1,errors.width=!0),s.validators.maxWidth&&l.width>s.validators.maxWidth&&(valid=!1,errors.maxWidth=!0),s.validators.minWidth&&l.width<s.validators.minWidth&&(valid=!1,errors.minWidth=!0),s.validators.height&&l.height!=s.validators.height&&(valid=!1,errors.height=!0),s.validators.maxHeight&&l.height>s.validators.maxHeight&&(valid=!1,errors.maxHeight=!0),s.validators.minHeight&&l.height<s.validators.minHeight&&(valid=!1,errors.minHeight=!0)),valid===!0?(e.find("img").remove(),e.find("div").html(r&&s.previewImage===!0?t(l).fadeIn():"<span>"+a+"</span>"),e.addClass(s.classes.accept),t.isFunction(s.accept)&&s.accept.apply(o,[n])):(o.val(""),e.addClass(s.classes.reject),t.isFunction(s.reject)&&s.reject.apply(o,[n,errors]))},250)}}})};a()}},t.ezdz.prototype.preview=function(e,n){var i=this.settings,r=this.$input,s=r.parent("."+i.classes.main);basename=e.replace(/\\/g,"/").replace(/.*\//,""),formatted=i.format(basename);var o=new Image;o.src=e,o.onload=function(){s.find("div").html(t(o).fadeIn()),t.isFunction(n)&&n.apply(this)},o.onerror=function(){s.find("div").html("<span>"+formatted+"</span>"),t.isFunction(n)&&n.apply(this)},s.addClass(i.classes.accept)},t.ezdz.prototype.destroy=function(){var t=this.settings,e=this.$input;e.parent("."+t.classes.main).replaceWith(e),e.off("*.ezdz"),e.removeData("ezdz")},t.ezdz.prototype.options=function(e){var n=this.settings;return e?void t.extend(!0,this.settings,e):n},t.ezdz.prototype.container=function(){var t=this.settings,e=this.$input;return e.parent("."+t.classes.main)},t.ezdz.isBrowserCompatible=function(){return!!(window.File&&window.FileList&&window.FileReader)},t.ezdz.defaults=e,t.fn.ezdz=function(e){var n=arguments,i=t(this).data("ezdz");return i?i[e]?i[e].apply(i,Array.prototype.slice.call(n,1)):void t.error("Ezdz error - Method "+e+" does not exist."):t(this).data("ezdz",new t.ezdz(this,e))}});var IASCallbacks=function(){return this.list=[],this.fireStack=[],this.isFiring=!1,this.isDisabled=!1,this.fire=function(t){var e=t[0],n=t[1],i=t[2];this.isFiring=!0;for(var r=0,s=this.list.length;s>r;r++)if(!1===this.list[r].fn.apply(e,i)){n.reject();break}this.isFiring=!1,n.resolve(),this.fireStack.length&&this.fire(this.fireStack.shift())},this.inList=function(t,e){e=e||0;for(var n=e,i=this.list.length;i>n;n++)if(this.list[n].fn===t||t.guid&&this.list[n].fn.guid&&t.guid===this.list[n].fn.guid)return n;return-1},this};IASCallbacks.prototype={add:function(t,e){var n={fn:t,priority:e};e=e||0;for(var i=0,r=this.list.length;r>i;i++)if(e>this.list[i].priority)return this.list.splice(i,0,n),this;return this.list.push(n),this},remove:function(t){for(var e=0;(e=this.inList(t,e))>-1;)this.list.splice(e,1);return this},has:function(t){return this.inList(t)>-1},fireWith:function(t,e){var n=$.Deferred();return this.isDisabled?n.reject():(e=e||[],e=[t,n,e.slice?e.slice():e],this.isFiring?this.fireStack.push(e):this.fire(e),n)},disable:function(){this.isDisabled=!0},enable:function(){this.isDisabled=!1}},function(t){"use strict";var e=-1,n=function(n,i){return this.itemsContainerSelector=i.container,this.itemSelector=i.item,this.nextSelector=i.next,this.paginationSelector=i.pagination,this.$scrollContainer=n,this.$itemsContainer=t(this.itemsContainerSelector),this.$container=window===n.get(0)?t(document):n,this.defaultDelay=i.delay,this.negativeMargin=i.negativeMargin,this.nextUrl=null,this.isBound=!1,this.listeners={next:new IASCallbacks,load:new IASCallbacks,loaded:new IASCallbacks,render:new IASCallbacks,rendered:new IASCallbacks,scroll:new IASCallbacks,noneLeft:new IASCallbacks,ready:new IASCallbacks},this.extensions=[],this.scrollHandler=function(){var t=this.getCurrentScrollOffset(this.$scrollContainer),n=this.getScrollThreshold();this.isBound&&e!=n&&(this.fire("scroll",[t,n]),t>=n&&this.next())},this.getLastItem=function(){return t(this.itemSelector,this.$itemsContainer.get(0)).last()},this.getFirstItem=function(){return t(this.itemSelector,this.$itemsContainer.get(0)).first()},this.getScrollThreshold=function(t){var n;return t=t||this.negativeMargin,t=t>=0?-1*t:t,n=this.getLastItem(),0===n.size()?e:n.offset().top+n.height()+t},this.getCurrentScrollOffset=function(t){var e=0,n=t.height();return e=window===t.get(0)?t.scrollTop():t.offset().top,(-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod"))&&(n+=80),e+n},this.getNextUrl=function(e){return e||(e=this.$container),t(this.nextSelector,e).last().attr("href")},this.load=function(e,n,i){var r,s,o=this,a=[],l=+new Date;i=i||this.defaultDelay;var u={url:e};return o.fire("load",[u]),t.get(u.url,null,t.proxy(function(e){r=t(this.itemsContainerSelector,e).eq(0),0===r.length&&(r=t(e).filter(this.itemsContainerSelector).eq(0)),r&&r.find(this.itemSelector).each(function(){a.push(this)}),o.fire("loaded",[e,a]),n&&(s=+new Date-l,i>s?setTimeout(function(){n.call(o,e,a)},i-s):n.call(o,e,a))},o),"html")},this.render=function(e,n){var i=this,r=this.getLastItem(),s=0,o=this.fire("render",[e]);o.done(function(){t(e).hide(),r.after(e),t(e).fadeIn(400,function(){++s<e.length||(i.fire("rendered",[e]),n&&n())})})},this.hidePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).hide()},this.restorePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).show()},this.throttle=function(e,n){var i,r,s=0;return i=function(){function t(){s=+new Date,e.apply(i,o)}var i=this,o=arguments,a=+new Date-s;r?clearTimeout(r):t(),a>n?t():r=setTimeout(t,n)},t.guid&&(i.guid=e.guid=e.guid||t.guid++),i},this.fire=function(t,e){return this.listeners[t].fireWith(this,e)},this};n.prototype.initialize=function(){var t=this.getCurrentScrollOffset(this.$scrollContainer),e=this.getScrollThreshold();this.hidePagination(),this.bind();for(var n=0,i=this.extensions.length;i>n;n++)this.extensions[n].bind(this);return this.fire("ready"),this.nextUrl=this.getNextUrl(),t>=e&&this.next(),this},n.prototype.bind=function(){this.isBound||(this.$scrollContainer.on("scroll",t.proxy(this.throttle(this.scrollHandler,150),this)),this.isBound=!0)},n.prototype.unbind=function(){this.isBound&&(this.$scrollContainer.off("scroll",this.scrollHandler),this.isBound=!1)},n.prototype.destroy=function(){this.unbind()},n.prototype.on=function(e,n,i){if("undefined"==typeof this.listeners[e])throw new Error('There is no event called "'+e+'"');return i=i||0,this.listeners[e].add(t.proxy(n,this),i),this},n.prototype.one=function(t,e){var n=this,i=function(){n.off(t,e),n.off(t,i)};return this.on(t,e),this.on(t,i),this},n.prototype.off=function(t,e){if("undefined"==typeof this.listeners[t])throw new Error('There is no event called "'+t+'"');return this.listeners[t].remove(e),this},n.prototype.next=function(){var t=this.nextUrl,e=this;if(this.unbind(),!t)return this.fire("noneLeft",[this.getLastItem()]),this.listeners.noneLeft.disable(),e.bind(),!1;var n=this.fire("next",[t]);return n.done(function(){e.load(t,function(t,n){e.render(n,function(){e.nextUrl=e.getNextUrl(t),e.bind()})})}),n.fail(function(){e.bind()}),!0},n.prototype.extension=function(t){if("undefined"==typeof t.bind)throw new Error('Extension doesn\'t have required method "bind"');return"undefined"!=typeof t.initialize&&t.initialize(this),this.extensions.push(t),this},t.ias=function(){var e=t(window);return e.ias.apply(e,arguments)},t.fn.ias=function(e){var i=Array.prototype.slice.call(arguments),r=this;return this.each(function(){var s=t(this),o=s.data("ias"),a=t.extend({},t.fn.ias.defaults,s.data(),"object"==typeof e&&e);if(o||(s.data("ias",o=new n(s,a)),t(document).ready(t.proxy(o.initialize,o))),"string"==typeof e){if("function"!=typeof o[e])throw new Error('There is no method called "'+e+'"');i.shift(),o[e].apply(o,i),"destroy"===e&&s.data("ias",null)}r=s.data("ias")}),r},t.fn.ias.defaults={item:".item",container:".listing",next:".next",pagination:!1,delay:600,negativeMargin:10}}(jQuery);var IASHistoryExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.prevSelector=t.prev,this.prevUrl=null,this.listeners={prev:new IASCallbacks},this.onPageChange=function(t,e,n){var i={};window.history&&window.history.replaceState&&history.replaceState(i,document.title,n)},this.onScroll=function(t){var e=this.getScrollThresholdFirstItem();this.prevUrl&&(t-=this.ias.$scrollContainer.height(),e>=t&&this.prev())},this.getPrevUrl=function(t){return t||(t=this.ias.$container),$(this.prevSelector,t).last().attr("href")},this.getScrollThresholdFirstItem=function(){var t;return t=this.ias.getFirstItem(),0===t.size()?-1:t.offset().top},this.renderBefore=function(t,e){var n=this.ias,i=n.getFirstItem(),r=0;n.fire("render",[t]),$(t).hide(),i.before(t),$(t).fadeIn(400,function(){++r<t.length||(n.fire("rendered",[t]),e&&e())})},this};IASHistoryExtension.prototype.initialize=function(t){var e=this;this.ias=t,jQuery.extend(t.listeners,this.listeners),t.prev=function(){return e.prev()},this.prevUrl=this.getPrevUrl()},IASHistoryExtension.prototype.bind=function(t){var e=this;t.on("pageChange",$.proxy(this.onPageChange,this)),t.on("scroll",$.proxy(this.onScroll,this)),t.on("ready",function(){var n=t.getCurrentScrollOffset(t.$scrollContainer),i=e.getScrollThresholdFirstItem();n-=t.$scrollContainer.height(),i>=n&&e.prev()})},IASHistoryExtension.prototype.prev=function(){var t=this.prevUrl,e=this,n=this.ias;if(!t)return!1;n.unbind();var i=n.fire("prev",[t]);return i.done(function(){n.load(t,function(t,i){e.renderBefore(i,function(){e.prevUrl=e.getPrevUrl(t),n.bind(),e.prevUrl&&e.prev()})})}),i.fail(function(){n.bind()}),!0},IASHistoryExtension.prototype.defaults={prev:".prev"};var IASNoneLeftExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.uid=(new Date).getTime(),this.html=t.html.replace("{text}",t.text),this.showNoneLeft=function(){var t=$(this.html).attr("id","ias_noneleft_"+this.uid),e=this.ias.getLastItem();e.after(t),t.fadeIn()},this};IASNoneLeftExtension.prototype.bind=function(t){this.ias=t,t.on("noneLeft",$.proxy(this.showNoneLeft,this))},IASNoneLeftExtension.prototype.defaults={text:"You reached the end.",html:'<div class="ias-noneleft" style="text-align: center;">{text}</div>'};var IASPagingExtension=function(){return this.ias=null,this.pagebreaks=[[0,document.location.toString()]],this.lastPageNum=1,this.enabled=!0,this.listeners={pageChange:new IASCallbacks},this.onScroll=function(t){if(this.enabled){var e,n=this.ias,i=this.getCurrentPageNum(t),r=this.getCurrentPagebreak(t);this.lastPageNum!==i&&(e=r[1],n.fire("pageChange",[i,t,e])),this.lastPageNum=i}},this.onNext=function(t){var e=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer);this.pagebreaks.push([e,t]);var n=this.getCurrentPageNum(e)+1;this.ias.fire("pageChange",[n,e,t]),this.lastPageNum=n},this.onPrev=function(t){var e=this,n=e.ias,i=n.getCurrentScrollOffset(n.$scrollContainer),r=i-n.$scrollContainer.height(),s=n.getFirstItem();this.enabled=!1,this.pagebreaks.unshift([0,t]),n.one("rendered",function(){for(var i=1,o=e.pagebreaks.length;o>i;i++)e.pagebreaks[i][0]=e.pagebreaks[i][0]+s.offset().top;var a=e.getCurrentPageNum(r)+1;n.fire("pageChange",[a,r,t]),e.lastPageNum=a,e.enabled=!0})},this};IASPagingExtension.prototype.initialize=function(t){this.ias=t,jQuery.extend(t.listeners,this.listeners)},IASPagingExtension.prototype.bind=function(t){try{t.on("prev",$.proxy(this.onPrev,this),this.priority)}catch(e){}t.on("next",$.proxy(this.onNext,this),this.priority),t.on("scroll",$.proxy(this.onScroll,this),this.priority)
},IASPagingExtension.prototype.getCurrentPageNum=function(t){for(var e=this.pagebreaks.length-1;e>0;e--)if(t>this.pagebreaks[e][0])return e+1;return 1},IASPagingExtension.prototype.getCurrentPagebreak=function(t){for(var e=this.pagebreaks.length-1;e>=0;e--)if(t>this.pagebreaks[e][0])return this.pagebreaks[e];return null},IASPagingExtension.prototype.priority=500;var IASSpinnerExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.uid=(new Date).getTime(),this.src=t.src,this.html=t.html.replace("{src}",this.src),this.showSpinner=function(){var t=this.getSpinner()||this.createSpinner(),e=this.ias.getLastItem();e.after(t),t.fadeIn()},this.showSpinnerBefore=function(){var t=this.getSpinner()||this.createSpinner(),e=this.ias.getFirstItem();e.before(t),t.fadeIn()},this.removeSpinner=function(){this.hasSpinner()&&this.getSpinner().remove()},this.getSpinner=function(){var t=$("#ias_spinner_"+this.uid);return t.size()>0?t:!1},this.hasSpinner=function(){var t=$("#ias_spinner_"+this.uid);return t.size()>0},this.createSpinner=function(){var t=$(this.html).attr("id","ias_spinner_"+this.uid);return t.hide(),t},this};IASSpinnerExtension.prototype.bind=function(t){this.ias=t,t.on("next",$.proxy(this.showSpinner,this));try{t.on("prev",$.proxy(this.showSpinnerBefore,this))}catch(e){}t.on("render",$.proxy(this.removeSpinner,this))},IASSpinnerExtension.prototype.defaults={src:"data:image/gif;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA==",html:'<div class="ias-spinner" style="text-align: center;"><img src="{src}"/></div>'};var IASTriggerExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.html=t.html.replace("{text}",t.text),this.htmlPrev=t.htmlPrev.replace("{text}",t.textPrev),this.enabled=!0,this.count=0,this.offset=t.offset,this.$triggerNext=null,this.$triggerPrev=null,this.showTriggerNext=function(){if(!this.enabled)return!0;if(!1===this.offset||++this.count<this.offset)return!0;var t=this.$triggerNext||(this.$triggerNext=this.createTrigger(this.next,this.html)),e=this.ias.getLastItem();return e.after(t),t.fadeIn(),!1},this.showTriggerPrev=function(){if(!this.enabled)return!0;var t=this.$triggerPrev||(this.$triggerPrev=this.createTrigger(this.prev,this.htmlPrev)),e=this.ias.getFirstItem();return e.before(t),t.fadeIn(),!1},this.createTrigger=function(t,e){var n,i=(new Date).getTime();return e=e||this.html,n=$(e).attr("id","ias_trigger_"+i),n.hide(),n.on("click",$.proxy(t,this)),n},this};IASTriggerExtension.prototype.bind=function(t){var e=this;this.ias=t;try{t.on("prev",$.proxy(this.showTriggerPrev,this),this.priority)}catch(n){}t.on("next",$.proxy(this.showTriggerNext,this),this.priority),t.on("rendered",function(){e.enabled=!0},this.priority)},IASTriggerExtension.prototype.next=function(){this.enabled=!1,this.ias.unbind(),this.$triggerNext&&(this.$triggerNext.remove(),this.$triggerNext=null),this.ias.next()},IASTriggerExtension.prototype.prev=function(){this.enabled=!1,this.ias.unbind(),this.$triggerPrev&&(this.$triggerPrev.remove(),this.$triggerPrev=null),this.ias.prev()},IASTriggerExtension.prototype.defaults={text:"Load more items",html:'<div class="ias-trigger ias-trigger-next btn btn-default center-block" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',textPrev:"Load previous items",htmlPrev:'<div class="ias-trigger ias-trigger-prev" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',offset:0},IASTriggerExtension.prototype.priority=1e3,function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,i){var r;return r="translate3d"===u.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},r.transition="all "+n+"ms "+i,r}function i(t,e){var n="string"==typeof t?t:o(t);return n.indexOf(" "+e+" ")>=0}function r(t,e){var n=o(t),r=n+e;i(n,e)||(t.className=r.substring(1))}function s(t,e){var n,r=o(t);i(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.1.6";var u=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(u[e]=n);return this},l.status=null,l.set=function(e){var i=l.isStarted();e=t(e,u.minimum,1),l.status=1===e?null:e;var r=l.render(!i),s=r.querySelector(u.barSelector),o=u.speed,a=u.easing;return r.offsetWidth,d(function(t){""===u.positionUsing&&(u.positionUsing=l.getPositioningCSS()),c(s,n(e,o,a)),1===e?(c(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){c(r,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},o)},o)):setTimeout(t,o)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},u.trickleSpeed)};return u.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var n=l.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),l.set(n)):l.start()},l.trickle=function(){return l.inc(Math.random()*u.trickleRate)},function(){var t=0,e=0;l.promise=function(n){return n&&"resolved"!=n.state()?(0==e&&l.start(),t++,e++,n.always(function(){e--,0==e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var i,s=n.querySelector(u.barSelector),o=t?"-100":e(l.status||0),d=document.querySelector(u.parent);return c(s,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),u.showSpinner||(i=n.querySelector(u.spinnerSelector),i&&a(i)),d!=document.body&&r(d,"nprogress-custom-parent"),d.appendChild(n),n},l.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(u.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var d=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),c=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,i=r.length,s=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(n=r[i]+s,n in e)return n;return t}function n(n){return n=t(n),s[n]||(s[n]=e(n))}function i(t,e,i){e=n(e),t.style[e]=i}var r=["Webkit","O","Moz","ms"],s={};return function(t,e){var n,r,s=arguments;if(2==s.length)for(n in e)r=e[n],void 0!==r&&e.hasOwnProperty(n)&&i(t,n,r);else i(t,s[1],s[2])}}();return l}),$(function(){$(document).on("page:fetch",function(){NProgress.start()}),$(document).on("page:receive",function(){NProgress.set(.7)}),$(document).on("page:change",function(){NProgress.done()}),$(document).on("page:restore",function(){NProgress.remove()})}),function(t){"use strict";function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Function}function i(t){return!n(t)&&t instanceof Object}function r(t,n){var s;for(s in n)i(n[s])||e(n[s])?(i(n[s])&&!i(t[s])&&(t[s]={}),e(n[s])&&!e(t[s])&&(t[s]=[]),r(t[s],n[s])):void 0!==n[s]&&(t[s]=n[s])}function s(t,e){var n={};return r(n,t),r(n,e),n}function o(t){var e,n,i,r,s,o,a,l,u,d,c;return d=Object.prototype.toString.call(t),"[object Date]"===d?t:"[object String]"===d&&(i=t.match(P))?(c=parseInt(i[1],10),o=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),s=i[9]?parseInt(i[9],10):0,u=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(O+i[12].slice(1)):0,l=Date.UTC(c,o,e,n,s,u,r),i[13]&&i[14]&&(a=60*i[15],i[17]&&(a+=parseInt(i[17],10)),a*="-"===i[14]?-1:1,l-=60*a*1e3),new Date(l)):void 0}function a(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function l(t,e,n,i,r){return function(o,l,u){var d=s({},t);return d=s(d,u||{}),l.hideLegend&&e(d),"min"in l?n(d,l.min):a(o)||n(d,0),"max"in l&&i(d,l.max),l.stacked&&r(d),l.colors&&(d.colors=l.colors),d=s(d,l.library||{})}}function u(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function d(t,e){u(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function c(e,n,i){var r=t.jQuery||t.Zepto||t.$;r.ajax({dataType:"json",url:n,success:i,error:function(t,n,i){var r="string"==typeof i?i:i.message;d(e,r)}})}function h(t,e){try{e(t)}catch(n){throw d(t.element,n.message),n}}function f(t,e){"string"==typeof t.dataSource?c(t.element,t.dataSource,function(n){t.data=n,h(t,e)}):(t.data=t.dataSource,h(t,e))}function p(t){return""+t}function m(t){return parseFloat(t)}function g(t){if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{var e=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=o(e)||new Date(t)}return t}function v(t){if(!e(t)){var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push([n,t[n]]);t=i}return t}function y(t,e){return t[0].getTime()-e[0].getTime()}function _(t,e){var i,r,s;for(s="render"+t,i=0;i<I.length;i++)if(r=I[i],n(r[s]))return r[s](e);throw new Error("No adapter found")}function w(t,n,i){var r,s,o,a,l;for(!e(t)||"object"!=typeof t[0]||e(t[0])?(t=[{name:"Value",data:t}],n.hideLegend=!0):n.hideLegend=!1,n.discrete&&(i=!1),r=0;r<t.length;r++){for(o=v(t[r].data),a=[],s=0;s<o.length;s++)l=o[s][0],l=i?g(l):p(l),a.push([l,m(o[s][1])]);i&&a.sort(y),t[r].data=a}return t}function b(t){var e,n=v(t);for(e=0;e<n.length;e++)n[e]=[p(n[e][0]),m(n[e][1])];return n}function C(t){var e;for(e=0;e<t.length;e++)t[e][1]=g(t[e][1]),t[e][2]=g(t[e][2]);return t}function A(t){t.data=w(t.data,t.options,!0),_("LineChart",t)}function F(t){t.data=w(t.data,t.options,!1),_("ColumnChart",t)}function x(t){t.data=b(t.data),_("PieChart",t)}function E(t){t.data=w(t.data,t.options,!1),_("BarChart",t)}function $(t){t.data=w(t.data,t.options,!0),_("AreaChart",t)}function D(t){t.data=b(t.data),_("GeoChart",t)}function k(t){t.data=C(t.data),_("Timeline",t)}function S(t,e,n,i,r){"string"==typeof e&&(e=document.getElementById(e)),t.element=e,t.options=i||{},t.dataSource=n,T.charts[e.id]=t,f(t,r)}var T,P,O,B=t.Chartkick||{},I=[];if(P=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i,O=String(1.5).charAt(1),"Highcharts"in t){var M=new function(){var e=t.Highcharts,n={chart:{},xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},i=function(t){t.legend.enabled=!1},r=function(t,e){t.yAxis.min=e},o=function(t,e){t.yAxis.max=e},a=function(t){t.plotOptions.series.stacking="normal"},u=l(n,i,r,o,a);this.renderLineChart=function(t,n){n=n||"spline";var i={};"areaspline"===n&&(i={plotOptions:{areaspline:{stacking:"normal"},series:{marker:{enabled:!1}}}});var r,s,o,a=u(t.data,t.options,i);a.xAxis.type=t.options.discrete?"category":"datetime",a.chart.type=n,a.chart.renderTo=t.element.id;var l=t.data;for(s=0;s<l.length;s++){if(r=l[s].data,!t.options.discrete)for(o=0;o<r.length;o++)r[o][0]=r[o][0].getTime();l[s].marker={symbol:"circle"}}a.series=l,new e.Chart(a)},this.renderPieChart=function(t){var i={};t.options.colors&&(i.colors=t.options.colors);var r=s(s(n,i),t.options.library||{});r.chart.renderTo=t.element.id,r.series=[{type:"pie",name:"Value",data:t.data}],new e.Chart(r)},this.renderColumnChart=function(t,n){var i,r,s,o,n=n||"column",a=t.data,l=u(a,t.options),d=[];for(l.chart.type=n,l.chart.renderTo=t.element.id,i=0;i<a.length;i++)for(s=a[i],r=0;r<s.data.length;r++)o=s.data[r],d[o[0]]||(d[o[0]]=new Array(a.length)),d[o[0]][i]=o[1];var c=[];for(i in d)d.hasOwnProperty(i)&&c.push(i);l.xAxis.categories=c;var h=[];for(i=0;i<a.length;i++){for(o=[],r=0;r<c.length;r++)o.push(d[c[r]][i]||0);h.push({name:a[i].name,data:o})}l.series=h,new e.Chart(l)};var d=this;this.renderBarChart=function(t){d.renderColumnChart(t,"bar")},this.renderAreaChart=function(t){d.renderLineChart(t,"areaspline")}};I.push(M)}if(t.google&&t.google.setOnLoadCallback){var R=new function(){var e=t.google,n={},i=[],r=function(){for(var t,n,r=0;r<i.length;r++)t=i[r],n=e.visualization&&("corechart"==t.pack&&e.visualization.LineChart||"timeline"==t.pack&&e.visualization.Timeline),n&&(t.callback(),i.splice(r,1),r--)},o=function(t,s){if(s||(s=t,t="corechart"),i.push({pack:t,callback:s}),n[t])r();else{n[t]=!0;var o={packages:[t],callback:r};B.language&&(o.language=B.language),e.load("visualization","1",o)}},a={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},u=function(t){t.legend.position="none"},d=function(t,e){t.vAxis.viewWindow.min=e},c=function(t,e){t.vAxis.viewWindow.max=e},h=function(t,e){t.hAxis.viewWindow.min=e},f=function(t,e){t.hAxis.viewWindow.max=e},p=function(t){t.isStacked=!0},g=l(a,u,d,c,p),v=function(t,n){var i=new e.visualization.DataTable;i.addColumn(n,"");var r,s,o,a,l,u=[];for(r=0;r<t.length;r++)for(o=t[r],i.addColumn("number",o.name),s=0;s<o.data.length;s++)a=o.data[s],l="datetime"===n?a[0].getTime():a[0],u[l]||(u[l]=new Array(t.length)),u[l][r]=m(a[1]);var d=[];for(r in u)u.hasOwnProperty(r)&&d.push(["datetime"===n?new Date(m(r)):r].concat(u[r]));return"datetime"===n&&d.sort(y),i.addRows(d),i},_=function(e){t.attachEvent?t.attachEvent("onresize",e):t.addEventListener&&t.addEventListener("resize",e,!0),e()};this.renderLineChart=function(t){o(function(){var n=g(t.data,t.options),i=v(t.data,t.options.discrete?"string":"datetime");t.chart=new e.visualization.LineChart(t.element),_(function(){t.chart.draw(i,n)})})},this.renderPieChart=function(t){o(function(){var n={chartArea:{top:"10%",height:"80%"}};t.options.colors&&(n.colors=t.options.colors);var i=s(s(a,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),t.chart=new e.visualization.PieChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderColumnChart=function(t){o(function(){var n=g(t.data,t.options),i=v(t.data,"string");t.chart=new e.visualization.ColumnChart(t.element),_(function(){t.chart.draw(i,n)})})},this.renderBarChart=function(t){o(function(){var n={hAxis:{gridlines:{color:"#ccc"}}},i=l(a,u,h,f,p)(t.data,t.options,n),r=v(t.data,"string");t.chart=new e.visualization.BarChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderAreaChart=function(t){o(function(){var n={isStacked:!0,pointSize:0,areaOpacity:.5},i=g(t.data,t.options,n),r=v(t.data,t.options.discrete?"string":"datetime");t.chart=new e.visualization.AreaChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderGeoChart=function(t){o(function(){var n={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},i=s(s(a,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),t.chart=new e.visualization.GeoChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderTimeline=function(t){o("timeline",function(){var n={legend:"none"};t.options.colors&&(n.colorAxis.colors=t.options.colors);var i=s(s(a,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn({type:"string",id:"Name"}),r.addColumn({type:"date",id:"Start"}),r.addColumn({type:"date",id:"End"}),r.addRows(t.data),t.chart=new e.visualization.Timeline(t.element),_(function(){t.chart.draw(r,i)})})}};I.push(R)}T={LineChart:function(t,e,n){S(this,t,e,n,A)},PieChart:function(t,e,n){S(this,t,e,n,x)},ColumnChart:function(t,e,n){S(this,t,e,n,F)},BarChart:function(t,e,n){S(this,t,e,n,E)},AreaChart:function(t,e,n){S(this,t,e,n,$)},GeoChart:function(t,e,n){S(this,t,e,n,D)},Timeline:function(t,e,n){S(this,t,e,n,k)},charts:{}},t.Chartkick=T}(window),function(){jQuery(function(){return $("body").prepend('<div id="fb-root"></div>'),$.ajax({url:window.location.protocol+"//connect.facebook.net/en_US/all.js",dataType:"script",cache:!0})}),window.fbAsyncInit=function(){return FB.init({appId:"220478884808513",cookie:!0,status:!0}),$("#sign_in").click(function(t){return t.preventDefault(),FB.login(function(t){return t.authResponse?window.location="/auth/facebook/callback?"+$.param({signed_request:t.authResponse.signedRequest}):void 0},{scope:"email,publish_stream,publish_actions"})}),$("#sign_out").click(function(){return FB.getLoginStatus(function(t){return t.authResponse?FB.logout():void 0}),!0}),$("#sign_out").length>0?FB.getLoginStatus(function(t){return t.authResponse?void 0:window.location=$("#sign_out").attr("href")}):void 0}}.call(this),function(t){"use strict";function e(t,e,n){var i;return function(){var r=this,s=arguments,o=function(){i=null,n||t.apply(r,s)},a=n&&!i;clearTimeout(i),i=setTimeout(o,e),a&&t.apply(r,s)}}function n(t){var e=++u;return String(null==t?"rmjs-":t)+e}function i(t){var e=t.clone().css({height:"auto",width:t.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(t),n=e.outerHeight(),i=parseInt(e.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),r=t.data("defaultHeight");e.remove();var s=i||t.data("collapsedHeight")||r;t.data({expandedHeight:n,maxHeight:i,collapsedHeight:s}).css({maxHeight:"none"})}function r(t){if(!l[t.selector]){var e=" ";t.embedCSS&&""!==t.blockCSS&&(e+=t.selector+" + [data-readmore-toggle], "+t.selector+"[data-readmore]{"+t.blockCSS+"}"),e+=t.selector+"[data-readmore]{transition: height "+t.speed+"ms;overflow: hidden;}",function(t,e){var n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(n)}(document,e),l[t.selector]=!0}}function s(e,n){this.element=e,this.options=t.extend({},a,n),r(this.options),this._defaults=a,this._name=o,this.init(),window.addEventListener("load",d),window.addEventListener("resize",d)}var o="readmore",a={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},l={},u=0,d=e(function(){t("[data-readmore]").each(function(){var e=t(this),n="true"===e.attr("aria-expanded");i(e),e.css({height:e.data(n?"expandedHeight":"collapsedHeight")})})},100);s.prototype={init:function(){var e=this,r=t(this.element);r.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),i(r);var s=r.data("collapsedHeight"),o=r.data("heightMargin");if(r.outerHeight(!0)<=s+o)return!0;var a=r.attr("id")||n(),l=e.options.startOpen?e.options.lessLink:e.options.moreLink;r.attr({"data-readmore":"","aria-expanded":!1,id:a}),r.after(t(l).on("click",function(t){e.toggle(this,r[0],t)}).attr({"data-readmore-toggle":"","aria-controls":a})),e.options.startOpen||r.css({height:s})},toggle:function(e,n,i){i&&i.preventDefault(),e||(e=t('[aria-controls="'+this.element.id+'"]')[0]),n||(n=this.element);var r=this,s=t(n),o="",a="",l=!1,u=s.data("collapsedHeight");s.height()<=u?(o=s.data("expandedHeight")+"px",a="lessLink",l=!0):(o=u,a="moreLink"),r.options.beforeToggle(e,n,!l),s.css({height:o}),s.on("transitionend",function(){r.options.afterToggle(e,n,l),t(this).attr({"aria-expanded":l}).off("transitionend")}),t(e).replaceWith(t(r.options[a]).on("click",function(t){r.toggle(this,n,t)}).attr({"data-readmore-toggle":"","aria-controls":s.attr("id")}))},destroy:function(){t(this.element).each(function(){var e=t(this);e.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),e.removeData()})}},t.fn.readmore=function(e){var n=arguments,i=this.selector;return e=e||{},"object"==typeof e?this.each(function(){if(t.data(this,"plugin_"+o)){var n=t.data(this,"plugin_"+o);n.destroy.apply(n)}e.selector=i,t.data(this,"plugin_"+o,new s(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var i=t.data(this,"plugin_"+o);i instanceof s&&"function"==typeof i[e]&&i[e].apply(i,Array.prototype.slice.call(n,1))}):void 0}}(jQuery),function(t){var e=0,n=5,i=.5,r="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,s=function(e,n){return"undefined"==typeof e||null===e||void 0===e||e==[]||""===e||n&&""===t.trim(e)},o=function(t,e,n){var i=s(t.data(e))?t.attr(e):t.data(e);return i?i:n[e]},a=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},l=function(t,e){return parseFloat(t.toFixed(e))},u=function(e,n){this.$element=t(e),this.init(n)};u.prototype={constructor:u,_parseAttr:function(t,r){var a=this,l=a.$element;if("range"===l.attr("type")||"number"===l.attr("type")){var u=o(l,t,r),d=i;"min"===t?d=e:"max"===t?d=n:"step"===t&&(d=i);var c=s(u)?d:u;return parseFloat(c)}return parseFloat(r[t])},listen:function(){var e=this;e.initTouch(),e.$rating.on("click",function(t){if(!e.inactive){var n=t.pageX-e.$rating.offset().left;e.setStars(n),e.$element.trigger("change"),e.$element.trigger("rating.change",[e.$element.val(),e.$caption.html()]),e.starClicked=!0}}),e.$rating.on("mousemove",function(t){if(e.hoverEnabled&&!e.inactive){e.starClicked=!1;var n=t.pageX-e.$rating.offset().left,i=e.calculate(n);e.toggleHover(i),e.$element.trigger("rating.hover",[i.val,i.caption,"stars"])}}),e.$rating.on("mouseleave",function(){if(e.hoverEnabled&&!e.inactive&&!e.starClicked){var t=e.cache;e.toggleHover(t),e.$element.trigger("rating.hoverleave",["stars"])}}),e.$clear.on("mousemove",function(){if(e.hoverEnabled&&!e.inactive&&e.hoverOnClear){e.clearClicked=!1;var t,n='<span class="'+e.clearCaptionClass+'">'+e.clearCaption+"</span>",i=e.clearValue,r=e.getWidthFromValue(i);t={caption:n,width:r,val:i},e.toggleHover(t),e.$element.trigger("rating.hover",[i,n,"clear"])}}),e.$clear.on("mouseleave",function(){if(e.hoverEnabled&&!e.inactive&&!e.clearClicked&&e.hoverOnClear){var t=e.cache;e.toggleHover(t),e.$element.trigger("rating.hoverleave",["clear"])}}),e.$clear.on("click",function(){e.inactive||(e.clear(),e.clearClicked=!0)}),t(e.$element[0].form).on("reset",function(){e.inactive||e.reset()})},destroy:function(){var e=this,n=e.$element;s(e.$container)||e.$container.before(n).remove(),t.removeData(n.get(0)),n.off("rating").removeClass("hide")},create:function(){var t=arguments.length>0?arguments[0]:{},e=self.$element;self.destroy(),e.rating(t)},setTouch:function(t,e){var n=this;if(r&&!n.inactive){var i=t.originalEvent,s=i.touches.length>0?i.touches:i.changedTouches,o=s[0].pageX-n.$rating.offset().left;if(e===!0)n.setStars(o),n.$element.trigger("change"),n.$element.trigger("rating.change",[n.$element.val(),n.$caption.html()]),n.starClicked=!0;else{var a=n.calculate(o),l=a.val<=n.clearValue?n.fetchCaption(n.clearValue):a.caption,u=n.getWidthFromValue(n.clearValue),d=a.val<=n.clearValue?n.rtl?100-u+"%":u+"%":a.width;n.$caption.html(l),n.$stars.css("width",d)}}},initTouch:function(){var t=this;t.$rating.on("touchstart",function(e){t.setTouch(e,!1)}),t.$rating.on("touchmove",function(e){t.setTouch(e,!1)}),t.$rating.on("touchend",function(e){t.setTouch(e,!0)})},initSlider:function(t){var r=this;s(r.$element.val())&&r.$element.val(0),r.initialValue=r.$element.val(),r.min="undefined"!=typeof t.min?t.min:r._parseAttr("min",t),r.max="undefined"!=typeof t.max?t.max:r._parseAttr("max",t),r.step="undefined"!=typeof t.step?t.step:r._parseAttr("step",t),(isNaN(r.min)||s(r.min))&&(r.min=e),(isNaN(r.max)||s(r.max))&&(r.max=n),(isNaN(r.step)||s(r.step)||0==r.step)&&(r.step=i),r.diff=r.max-r.min},init:function(e){var n=this;n.options=e,n.hoverEnabled=e.hoverEnabled,n.hoverChangeCaption=e.hoverChangeCaption,n.hoverChangeStars=e.hoverChangeStars,n.hoverOnClear=e.hoverOnClear,n.starClicked=!1,n.clearClicked=!1,n.initSlider(e),n.checkDisabled(),$element=n.$element,n.containerClass=e.containerClass,n.glyphicon=e.glyphicon;var i=n.glyphicon?"\ue006":"\u2605";n.symbol=s(e.symbol)?i:e.symbol,n.rtl=e.rtl||n.$element.attr("dir"),n.rtl&&n.$element.attr("dir","rtl"),n.showClear=e.showClear,n.showCaption=e.showCaption,n.size=e.size,n.stars=e.stars,n.defaultCaption=e.defaultCaption,n.starCaptions=e.starCaptions,n.starCaptionClasses=e.starCaptionClasses,n.clearButton=e.clearButton,n.clearButtonTitle=e.clearButtonTitle,n.clearButtonBaseClass=s(e.clearButtonBaseClass)?"clear-rating":e.clearButtonBaseClass,n.clearButtonActiveClass=s(e.clearButtonActiveClass)?"clear-rating-active":e.clearButtonActiveClass,n.clearCaption=e.clearCaption,n.clearCaptionClass=e.clearCaptionClass,n.clearValue=s(e.clearValue)?n.min:e.clearValue,n.$element.removeClass("form-control").addClass("form-control"),n.$clearElement=s(e.clearElement)?null:t(e.clearElement),n.$captionElement=s(e.captionElement)?null:t(e.captionElement),"undefined"==typeof n.$rating&&"undefined"==typeof n.$container&&(n.$rating=t(document.createElement("div")).html('<div class="rating-stars"></div>'),n.$container=t(document.createElement("div")),n.$container.before(n.$rating),n.$container.append(n.$rating),n.$element.before(n.$container).appendTo(n.$rating)),n.$stars=n.$rating.find(".rating-stars"),n.generateRating(),n.$clear=s(n.$clearElement)?n.$container.find("."+n.clearButtonBaseClass):n.$clearElement,n.$caption=s(n.$captionElement)?n.$container.find(".caption"):n.$captionElement,n.setStars(),n.$element.removeClass("hide").addClass("hide"),n.listen(),n.showClear&&n.$clear.attr({"class":n.getClearClass()}),n.cache={caption:n.$caption.html(),width:n.$stars.width(),val:n.$element.val()},n.$element.removeClass("rating-loading")},checkDisabled:function(){var t=this;t.disabled=o(t.$element,"disabled",t.options),t.readonly=o(t.$element,"readonly",t.options),t.inactive=t.disabled||t.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var t=this,e=t.renderClear(),n=t.renderCaption(),i=t.rtl?"rating-container-rtl":"rating-container",r=t.getStars();i+=t.glyphicon?"\ue006"==t.symbol?" rating-gly-star":" rating-gly":" rating-uni",t.$rating.attr("class",i),t.$rating.attr("data-content",r),t.$stars.attr("data-content",r);var i=t.rtl?"star-rating-rtl":"star-rating";t.$container.attr("class",i+" rating-"+t.size),t.inactive?t.$container.removeClass("rating-active").addClass("rating-disabled"):t.$container.removeClass("rating-disabled").addClass("rating-active"),"undefined"==typeof t.$caption&&"undefined"==typeof t.$clear&&(t.rtl?t.$container.prepend(n).append(e):t.$container.prepend(e).append(n)),s(t.containerClass)||t.$container.removeClass(t.containerClass).addClass(t.containerClass)},getStars:function(){for(var t=this,e=t.stars,n="",i=1;e>=i;i++)n+=t.symbol;return n},renderClear:function(){var t=this;if(!t.showClear)return"";var e=t.getClearClass();return s(t.$clearElement)?'<div class="'+e+'" title="'+t.clearButtonTitle+'">'+t.clearButton+"</div>":(t.$clearElement.removeClass(e).addClass(e).attr({title:t.clearButtonTitle}),t.$clearElement.html(t.clearButton),"")},renderCaption:function(){var t=this,e=t.$element.val();if(!t.showCaption)return"";var n=t.fetchCaption(e);return s(t.$captionElement)?'<div class="caption">'+n+"</div>":(t.$captionElement.removeClass("caption").addClass("caption").attr({title:t.clearCaption}),t.$captionElement.html(n),"")},fetchCaption:function(t){var e,n,i=this,r=parseFloat(t);if(e="function"==typeof i.starCaptionClasses?s(i.starCaptionClasses(r))?i.clearCaptionClass:i.starCaptionClasses(r):s(i.starCaptionClasses[r])?i.clearCaptionClass:i.starCaptionClasses[r],"function"==typeof i.starCaptions)var n=s(i.starCaptions(r))?i.defaultCaption.replace(/\{rating\}/g,r):i.starCaptions(r);else var n=s(i.starCaptions[r])?i.defaultCaption.replace(/\{rating\}/g,r):i.starCaptions[r];var o=r==i.clearValue?i.clearCaption:n;return'<span class="'+e+'">'+o+"</span>"},getWidthFromValue:function(t){{var e=this,n=e.min,i=e.max;e.step}return n>=t||n==i?0:t>=i?100:100*(t-n)/(i-n)},getValueFromPosition:function(t){var e,n,i=this,r=a(i.step),s=i.$rating.width();return n=i.diff*t/(s*i.step),n=i.rtl?Math.floor(n):Math.ceil(n),e=l(parseFloat(i.min+n*i.step),r),e=Math.max(Math.min(e,i.max),i.min),i.rtl?i.max-e:e},toggleHover:function(t){var e=this;if(e.hoverChangeCaption){var n=t.val<=e.clearValue?e.fetchCaption(e.clearValue):t.caption;e.$caption.html(n)}if(e.hoverChangeStars){var i=e.getWidthFromValue(e.clearValue),r=t.val<=e.clearValue?e.rtl?100-i+"%":i+"%":t.width;e.$stars.css("width",r)}},calculate:function(t){var e=this,n=s(e.$element.val())?0:e.$element.val(),i=arguments.length?e.getValueFromPosition(t):n,r=e.fetchCaption(i),o=e.getWidthFromValue(i);return e.rtl&&(o=100-o),o+="%",{caption:r,width:o,val:i}},setStars:function(t){var e=this,n=arguments.length?e.calculate(t):e.calculate();e.$element.val(n.val),e.$stars.css("width",n.width),e.$caption.html(n.caption),e.cache=n},clear:function(){var t=this,e='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>";t.$stars.removeClass("rated"),t.inactive||t.$caption.html(e),t.$element.val(t.clearValue),t.setStars(),t.$element.trigger("rating.clear")
},reset:function(){var t=this;t.$element.val(t.initialValue),t.setStars(),t.$element.trigger("rating.reset")},update:function(t){var e=this;arguments.length&&(e.$element.val(t),e.setStars())},refresh:function(e){var n=this;arguments.length&&(n.$rating.off("rating"),n.$clear.off(),n.init(t.extend(n.options,e)),n.showClear?n.$clear.show():n.$clear.hide(),n.showCaption?n.$caption.show():n.$caption.hide(),n.$element.trigger("rating.refresh"))}},t.fn.rating=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var i=t(this),r=i.data("rating"),s="object"==typeof e&&e;r||i.data("rating",r=new u(this,t.extend({},t.fn.rating.defaults,s,t(this).data()))),"string"==typeof e&&r[e].apply(r,n)})},t.fn.rating.defaults={stars:5,glyphicon:!0,symbol:null,disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonTitle:"Clear",clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaption:"Not Rated",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,containerClass:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0},t("input.rating").addClass("rating-loading"),t(document).ready(function(){var e=t("input.rating"),n=Object.keys(e).length;n>0&&e.rating()})}(jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$container=t("<div/>",{"class":"ms-container"}),this.$selectableContainer=t("<div/>",{"class":"ms-selectable"}),this.$selectionContainer=t("<div/>",{"class":"ms-selection"}),this.$selectableUl=t("<ul/>",{"class":"ms-list",tabindex:"-1"}),this.$selectionUl=t("<ul/>",{"class":"ms-list",tabindex:"-1"}),this.scrollTo=0,this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+n.disabledClass+")"};e.prototype={constructor:e,init:function(){var e=this,n=this.$element;if(0===n.next(".ms-container").length){n.css({position:"absolute",left:"-9999px"}),n.attr("id",n.attr("id")?n.attr("id"):Math.ceil(1e3*Math.random())+"multiselect"),this.$container.attr("id","ms-"+n.attr("id")),this.$container.addClass(e.options.cssClass),n.find("option").each(function(){e.generateLisFromOption(this)}),this.$selectionUl.find(".ms-optgroup-label").hide(),e.options.selectableHeader&&e.$selectableContainer.append(e.options.selectableHeader),e.$selectableContainer.append(e.$selectableUl),e.options.selectableFooter&&e.$selectableContainer.append(e.options.selectableFooter),e.options.selectionHeader&&e.$selectionContainer.append(e.options.selectionHeader),e.$selectionContainer.append(e.$selectionUl),e.options.selectionFooter&&e.$selectionContainer.append(e.options.selectionFooter),e.$container.append(e.$selectableContainer),e.$container.append(e.$selectionContainer),n.after(e.$container),e.activeMouse(e.$selectableUl),e.activeKeyboard(e.$selectableUl);var i=e.options.dblClick?"dblclick":"click";e.$selectableUl.on(i,".ms-elem-selectable",function(){e.select(t(this).data("ms-value"))}),e.$selectionUl.on(i,".ms-elem-selection",function(){e.deselect(t(this).data("ms-value"))}),e.activeMouse(e.$selectionUl),e.activeKeyboard(e.$selectionUl),n.on("focus",function(){e.$selectableUl.focus()})}var r=n.find("option:selected").map(function(){return t(this).val()}).get();e.select(r,"init"),"function"==typeof e.options.afterInit&&e.options.afterInit.call(this,this.$container)},generateLisFromOption:function(e,n){for(var i=this,r=i.$element,s="",o=t(e),a=0;a<e.attributes.length;a++){var l=e.attributes[a];"value"!==l.name&&"disabled"!==l.name&&(s+=l.name+'="'+l.value+'" ')}var u=t("<li "+s+"><span>"+i.escapeHTML(o.text())+"</span></li>"),d=u.clone(),c=o.val(),h=i.sanitize(c);u.data("ms-value",c).addClass("ms-elem-selectable").attr("id",h+"-selectable"),d.data("ms-value",c).addClass("ms-elem-selection").attr("id",h+"-selection").hide(),(o.prop("disabled")||r.prop("disabled"))&&(d.addClass(i.options.disabledClass),u.addClass(i.options.disabledClass));var f=o.parent("optgroup");if(f.length>0){var p=f.attr("label"),m=i.sanitize(p),g=i.$selectableUl.find("#optgroup-selectable-"+m),v=i.$selectionUl.find("#optgroup-selection-"+m);if(0===g.length){var y='<li class="ms-optgroup-container"></li>',_='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+p+"</span></li></ul>";g=t(y),v=t(y),g.attr("id","optgroup-selectable-"+m),v.attr("id","optgroup-selection-"+m),g.append(t(_)),v.append(t(_)),i.options.selectableOptgroup&&(g.find(".ms-optgroup-label").on("click",function(){var e=f.children(":not(:selected, :disabled)").map(function(){return t(this).val()}).get();i.select(e)}),v.find(".ms-optgroup-label").on("click",function(){var e=f.children(":selected:not(:disabled)").map(function(){return t(this).val()}).get();i.deselect(e)})),i.$selectableUl.append(g),i.$selectionUl.append(v)}n=void 0==n?g.find("ul").children().length:n+1,u.insertAt(n,g.children()),d.insertAt(n,v.children())}else n=void 0==n?i.$selectableUl.children().length:n,u.insertAt(n,i.$selectableUl),d.insertAt(n,i.$selectionUl)},addOption:function(e){var n=this;e.value&&(e=[e]),t.each(e,function(e,i){if(i.value&&0===n.$element.find("option[value='"+i.value+"']").length){var r=t('<option value="'+i.value+'">'+i.text+"</option>"),e=parseInt("undefined"==typeof i.index?n.$element.children().length:i.index),s=void 0==i.nested?n.$element:t("optgroup[label='"+i.nested+"']");r.insertAt(e,s),n.generateLisFromOption(r.get(0),e,i.nested)}})},escapeHTML:function(e){return t("<div>").text(e).html()},activeKeyboard:function(e){var n=this;e.on("focus",function(){t(this).addClass("ms-focus")}).on("blur",function(){t(this).removeClass("ms-focus")}).on("keydown",function(i){switch(i.which){case 40:case 38:return i.preventDefault(),i.stopPropagation(),void n.moveHighlight(t(this),38===i.which?-1:1);case 37:case 39:return i.preventDefault(),i.stopPropagation(),void n.switchList(e);case 9:if(n.$element.is("[tabindex]")){i.preventDefault();var r=parseInt(n.$element.attr("tabindex"),10);return r=i.shiftKey?r-1:r+1,void t('[tabindex="'+r+'"]').focus()}i.shiftKey&&n.$element.trigger("focus")}return t.inArray(i.which,n.options.keySelect)>-1?(i.preventDefault(),i.stopPropagation(),void n.selectHighlighted(e)):void 0})},moveHighlight:function(t,e){{var n=t.find(this.elemsSelector),i=n.filter(".ms-hover"),r=null,s=n.first().outerHeight(),o=t.height();"#"+this.$container.prop("id")}if(n.removeClass("ms-hover"),1===e){if(r=i.nextAll(this.elemsSelector).first(),0===r.length){var a=i.parent();if(a.hasClass("ms-optgroup")){var l=a.parent(),u=l.next(":visible");r=u.length>0?u.find(this.elemsSelector).first():n.first()}else r=n.first()}}else if(-1===e&&(r=i.prevAll(this.elemsSelector).first(),0===r.length)){var a=i.parent();if(a.hasClass("ms-optgroup")){var l=a.parent(),d=l.prev(":visible");r=d.length>0?d.find(this.elemsSelector).last():n.last()}else r=n.last()}if(r.length>0){r.addClass("ms-hover");var c=t.scrollTop()+r.position().top-o/2+s/2;t.scrollTop(c)}},selectHighlighted:function(t){var e=t.find(this.elemsSelector),n=e.filter(".ms-hover").first();n.length>0&&(t.parent().hasClass("ms-selectable")?this.select(n.data("ms-value")):this.deselect(n.data("ms-value")),e.removeClass("ms-hover"))},switchList:function(t){t.blur(),this.$container.find(this.elemsSelector).removeClass("ms-hover"),t.parent().hasClass("ms-selectable")?this.$selectionUl.focus():this.$selectableUl.focus()},activeMouse:function(){var e=this;t("body").on("mouseenter",e.elemsSelector,function(){t(this).parents(".ms-container").find(e.elemsSelector).removeClass("ms-hover"),t(this).addClass("ms-hover")}),t("body").on("mouseleave",e.elemsSelector,function(){t(this).parents(".ms-container").find(e.elemsSelector).removeClass("ms-hover")})},refresh:function(){this.destroy(),this.$element.multiSelect(this.options)},destroy:function(){t("#ms-"+this.$element.attr("id")).remove(),this.$element.css("position","").css("left",""),this.$element.removeData("multiselect")},select:function(e,n){"string"==typeof e&&(e=[e]);var i=this,r=this.$element,s=t.map(e,function(t){return i.sanitize(t)}),o=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable").filter(":not(."+i.options.disabledClass+")"),a=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection").filter(":not(."+i.options.disabledClass+")"),l=r.find("option:not(:disabled)").filter(function(){return t.inArray(this.value,e)>-1});if("init"===n&&(o=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable"),a=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection")),o.length>0){o.addClass("ms-selected").hide(),a.addClass("ms-selected").show(),l.prop("selected",!0),i.$container.find(i.elemsSelector).removeClass("ms-hover");var u=i.$selectableUl.children(".ms-optgroup-container");if(u.length>0){u.each(function(){var e=t(this).find(".ms-elem-selectable");e.length===e.filter(".ms-selected").length&&t(this).find(".ms-optgroup-label").hide()});var d=i.$selectionUl.children(".ms-optgroup-container");d.each(function(){var e=t(this).find(".ms-elem-selection");e.filter(".ms-selected").length>0&&t(this).find(".ms-optgroup-label").show()})}else if(i.options.keepOrder&&"init"!==n){var c=i.$selectionUl.find(".ms-selected");c.length>1&&c.last().get(0)!=a.get(0)&&a.insertAfter(c.last())}"init"!==n&&(r.trigger("change"),"function"==typeof i.options.afterSelect&&i.options.afterSelect.call(this,e))}},deselect:function(e){"string"==typeof e&&(e=[e]);var n=this,i=this.$element,r=t.map(e,function(t){return n.sanitize(t)}),s=this.$selectableUl.find("#"+r.join("-selectable, #")+"-selectable"),o=this.$selectionUl.find("#"+r.join("-selection, #")+"-selection").filter(".ms-selected").filter(":not(."+n.options.disabledClass+")"),a=i.find("option").filter(function(){return t.inArray(this.value,e)>-1});if(o.length>0){s.removeClass("ms-selected").show(),o.removeClass("ms-selected").hide(),a.prop("selected",!1),n.$container.find(n.elemsSelector).removeClass("ms-hover");var l=n.$selectableUl.children(".ms-optgroup-container");if(l.length>0){l.each(function(){var e=t(this).find(".ms-elem-selectable");e.filter(":not(.ms-selected)").length>0&&t(this).find(".ms-optgroup-label").show()});var u=n.$selectionUl.children(".ms-optgroup-container");u.each(function(){var e=t(this).find(".ms-elem-selection");0===e.filter(".ms-selected").length&&t(this).find(".ms-optgroup-label").hide()})}i.trigger("change"),"function"==typeof n.options.afterDeselect&&n.options.afterDeselect.call(this,e)}},select_all:function(){var e=this.$element,n=e.val();if(e.find('option:not(":disabled")').prop("selected",!0),this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide(),this.$selectionUl.find(".ms-optgroup-label").show(),this.$selectableUl.find(".ms-optgroup-label").hide(),this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show(),this.$selectionUl.focus(),e.trigger("change"),"function"==typeof this.options.afterSelect){var i=t.grep(e.val(),function(e){return t.inArray(e,n)<0});this.options.afterSelect.call(this,i)}},deselect_all:function(){var t=this.$element,e=t.val();t.find("option").prop("selected",!1),this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show(),this.$selectionUl.find(".ms-optgroup-label").hide(),this.$selectableUl.find(".ms-optgroup-label").show(),this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide(),this.$selectableUl.focus(),t.trigger("change"),"function"==typeof this.options.afterDeselect&&this.options.afterDeselect.call(this,e)},sanitize:function(t){var e,n,i=0;if(0==t.length)return i;var r=0;for(e=0,r=t.length;r>e;e++)n=t.charCodeAt(e),i=(i<<5)-i+n,i|=0;return i}},t.fn.multiSelect=function(){var n=arguments[0],i=arguments;return this.each(function(){var r=t(this),s=r.data("multiselect"),o=t.extend({},t.fn.multiSelect.defaults,r.data(),"object"==typeof n&&n);s||r.data("multiselect",s=new e(this,o)),"string"==typeof n?s[n](i[1]):s.init()})},t.fn.multiSelect.defaults={keySelect:[32],selectableOptgroup:!1,disabledClass:"disabled",dblClick:!1,keepOrder:!1,cssClass:""},t.fn.multiSelect.Constructor=e,t.fn.insertAt=function(t,e){return this.each(function(){0===t?e.prepend(this):e.children().eq(t-1).after(this)})}}(window.jQuery),function(t,e){t.fn.quicksearch=function(n,i){var r,s,o,a,l="",u=this,d=t.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(t){return t.toLowerCase().split(" ")},testQuery:function(t,e){for(var n=0;n<t.length;n+=1)if(-1===e.indexOf(t[n]))return!1;return!0}},i);return this.go=function(){for(var t=0,e=0,n=!0,i=d.prepareQuery(l),r=0===l.replace(" ","").length,t=0,a=o.length;a>t;t++)r||d.testQuery(i,s[t],o[t])?(d.show.apply(o[t]),n=!1,e++):d.hide.apply(o[t]);return n?this.results(!1):(this.results(!0),this.stripe()),this.matchedResultsCount=e,this.loader(!1),d.onAfter(),this},this.search=function(t){l=t,u.trigger()},this.currentMatchedResults=function(){return this.matchedResultsCount},this.stripe=function(){if("object"==typeof d.stripeRows&&null!==d.stripeRows){var e=d.stripeRows.join(" "),n=d.stripeRows.length;a.not(":hidden").each(function(i){t(this).removeClass(e).addClass(d.stripeRows[i%n])})}return this},this.strip_html=function(e){var n=e.replace(new RegExp("<[^<]+>","g"),"");return n=t.trim(n.toLowerCase())},this.results=function(e){return"string"==typeof d.noResults&&""!==d.noResults&&(e?t(d.noResults).hide():t(d.noResults).show()),this},this.loader=function(e){return"string"==typeof d.loader&&""!==d.loader&&(e?t(d.loader).show():t(d.loader).hide()),this},this.cache=function(){a=t(n),"string"==typeof d.noResults&&""!==d.noResults&&(a=a.not(d.noResults));var e="string"==typeof d.selector?a.find(d.selector):t(n).not(d.noResults);return s=e.map(function(){return u.strip_html(this.innerHTML)}),o=a.map(function(){return this}),l=l||this.val()||"",this.go()},this.trigger=function(){return this.loader(!0),d.onBefore(),e.clearTimeout(r),r=e.setTimeout(function(){u.go()},d.delay),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){t(this).on(d.bind,function(){l=t(this).val(),u.trigger()})})}}(jQuery,this,document),function(t,e,n){function i(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},l,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function r(e,n){var i=!0;return t.each(e,function(t){return"undefined"==typeof n[t]||e[t]!==n[t]?(i=!1,!1):void 0}),i}function s(){return!d&&u}function o(){var t=n.body||n.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+i])return!0;return!1}var a="tooltipster",l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(t,e){e()},functionReady:function(){},functionAfter:function(){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var e=this;if(n.querySelector){var i=null;void 0===e.$el.data("tooltipster-initialTitle")&&(i=e.$el.attr("title"),void 0===i&&(i=null),e.$el.data("tooltipster-initialTitle",i)),e._content_set(null!==e.options.content?e.options.content:i);var r=e.options.functionInit.call(e.$el,e.$el,e.Content);"undefined"!=typeof r&&e._content_set(r),e.$el.removeAttr("title").addClass("tooltipstered"),!u&&e.options.iconDesktop||u&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.$elProxy=e.options.iconCloning?e.options.icon.clone(!0):e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){(!s()||e.options.touchDevices)&&(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){(!s()||e.options.touchDevices)&&(e.mouseIsOverProxy=!1)}),u&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){(!s()||e.options.touchDevices)&&e._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(n){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.Content){n&&i.callbacks.show.push(n),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each(function(e,n){var i=t(n),r=i.data("tooltipster-ns");t.each(r,function(t,e){var n=i.data(e),r=n.status(),s=n.option("autoClose");"hidden"!==r&&"disappearing"!==r&&s&&n.hide()})});var r=function(){i.Status="shown",t.each(i.callbacks.show,function(t,e){e.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.Status){var s=0;"disappearing"===i.Status?(i.Status="appearing",o()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.stop().fadeIn(r)):"shown"===i.Status&&r()}else{i.Status="appearing";var s=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var a="tooltipster-"+i.options.animation,l="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",d=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",c=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",h=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+d+" "+c+" "+h+" "+l+'"><div class="tooltipster-content"></div></div>'),o()&&i.$tooltip.addClass(a),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),o()?(i.$tooltip.addClass(a+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.css("display","none").fadeIn(i.options.speed,r),i._interval_set(),t(e).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()}),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(u&&setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive){u&&i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()});var f=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(f),f=setTimeout(function(){i.hide()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(f)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()});i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",function(){i.hide()})}else"click"==i.options.trigger&&(setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hide()},i.options.timer+s))}})},_interval_set:function(){var e=this;e.checkInterval=setInterval(function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)("shown"==e.Status||"appearing"==e.Status)&&e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),i=!1;r(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?r(n.position,e.elProxyPosition.position)&&(i=!0):r(n.offset,e.elProxyPosition.offset)&&(i=!0)),i||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(o()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)}))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var i=this;n&&i.callbacks.hide.push(n),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var r=function(){t.each(i.callbacks.hide,function(t,e){e.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var s=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,t(e).off("."+i.namespace),t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),t("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),r()};o()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(s)):i.$tooltip.stop().fadeOut(i.options.speed,s)}else"hidden"==i.Status&&r();return i},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return"undefined"==typeof t?this.Content:(this._update(t),this)},reposition:function(){function n(){var n=t(e).scrollLeft();0>D-n&&(s=D-n,D=n),D+l-n>o&&(s=D-(o+n-l),D=o+n-l)}function i(n,i){a.offset.top-t(e).scrollTop()-u-T-12<0&&i.indexOf("top")>-1&&(O=n),a.offset.top+a.dimension.height+u+12+T>t(e).scrollTop()+t(e).height()&&i.indexOf("bottom")>-1&&(O=n,S=a.offset.top-u-T-12)}var r=this;if(0!==t("body").find(r.$tooltip).length){r.$tooltip.css("width",""),r.elProxyPosition=r._repositionInfo(r.$elProxy);var s=null,o=t(e).width(),a=r.elProxyPosition,l=r.$tooltip.outerWidth(!1),u=(r.$tooltip.innerWidth()+1,r.$tooltip.outerHeight(!1));if(r.$elProxy.is("area")){var d=r.$elProxy.attr("shape"),c=r.$elProxy.parent().attr("name"),h=t('img[usemap="#'+c+'"]'),f=h.offset().left,p=h.offset().top,m=void 0!==r.$elProxy.attr("coords")?r.$elProxy.attr("coords").split(","):void 0;if("circle"==d){var g=parseInt(m[0]),v=parseInt(m[1]),y=parseInt(m[2]);a.dimension.height=2*y,a.dimension.width=2*y,a.offset.top=p+v-y,a.offset.left=f+g-y}else if("rect"==d){var g=parseInt(m[0]),v=parseInt(m[1]),_=parseInt(m[2]),w=parseInt(m[3]);a.dimension.height=w-v,a.dimension.width=_-g,a.offset.top=p+v,a.offset.left=f+g}else if("poly"==d){for(var b=0,C=0,A=0,F=0,x="even",E=0;E<m.length;E++){var $=parseInt(m[E]);"even"==x?($>A&&(A=$,0===E&&(b=A)),b>$&&(b=$),x="odd"):($>F&&(F=$,1==E&&(C=F)),C>$&&(C=$),x="even")}a.dimension.height=F-C,a.dimension.width=A-b,a.offset.top=p+C,a.offset.left=f+b}else a.dimension.height=h.outerHeight(!1),a.dimension.width=h.outerWidth(!1),a.offset.top=p,a.offset.left=f}var D=0,k=0,S=0,T=parseInt(r.options.offsetY),P=parseInt(r.options.offsetX),O=r.options.position;if("top"==O){var B=a.offset.left+l-(a.offset.left+a.dimension.width);D=a.offset.left+P-B/2,S=a.offset.top-u-T-12,n(),i("bottom","top")}if("top-left"==O&&(D=a.offset.left+P,S=a.offset.top-u-T-12,n(),i("bottom-left","top-left")),"top-right"==O&&(D=a.offset.left+a.dimension.width+P-l,S=a.offset.top-u-T-12,n(),i("bottom-right","top-right")),"bottom"==O){var B=a.offset.left+l-(a.offset.left+a.dimension.width);D=a.offset.left-B/2+P,S=a.offset.top+a.dimension.height+T+12,n(),i("top","bottom")}if("bottom-left"==O&&(D=a.offset.left+P,S=a.offset.top+a.dimension.height+T+12,n(),i("top-left","bottom-left")),"bottom-right"==O&&(D=a.offset.left+a.dimension.width+P-l,S=a.offset.top+a.dimension.height+T+12,n(),i("top-right","bottom-right")),"left"==O){D=a.offset.left-P-l-12,k=a.offset.left+P+a.dimension.width+12;var I=a.offset.top+u-(a.offset.top+a.dimension.height);if(S=a.offset.top-I/2-T,0>D&&k+l>o){var M=2*parseFloat(r.$tooltip.css("border-width")),R=l+D-M;r.$tooltip.css("width",R+"px"),u=r.$tooltip.outerHeight(!1),D=a.offset.left-P-R-12-M,I=a.offset.top+u-(a.offset.top+a.dimension.height),S=a.offset.top-I/2-T}else 0>D&&(D=a.offset.left+P+a.dimension.width+12,s="left")}if("right"==O){D=a.offset.left+P+a.dimension.width+12,k=a.offset.left-P-l-12;var I=a.offset.top+u-(a.offset.top+a.dimension.height);if(S=a.offset.top-I/2-T,D+l>o&&0>k){var M=2*parseFloat(r.$tooltip.css("border-width")),R=o-D-M;r.$tooltip.css("width",R+"px"),u=r.$tooltip.outerHeight(!1),I=a.offset.top+u-(a.offset.top+a.dimension.height),S=a.offset.top-I/2-T}else D+l>o&&(D=a.offset.left-P-l-12,s="right")}if(r.options.arrow){var N="tooltipster-arrow-"+O;if(r.options.arrowColor.length<1)var j=r.$tooltip.css("background-color");else var j=r.options.arrowColor;if(s?"left"==s?(N="tooltipster-arrow-right",s=""):"right"==s?(N="tooltipster-arrow-left",s=""):s="left:"+Math.round(s)+"px;":s="","top"==O||"top-left"==O||"top-right"==O)var z=parseFloat(r.$tooltip.css("border-bottom-width")),V=r.$tooltip.css("border-bottom-color");else if("bottom"==O||"bottom-left"==O||"bottom-right"==O)var z=parseFloat(r.$tooltip.css("border-top-width")),V=r.$tooltip.css("border-top-color");else if("left"==O)var z=parseFloat(r.$tooltip.css("border-right-width")),V=r.$tooltip.css("border-right-color");else if("right"==O)var z=parseFloat(r.$tooltip.css("border-left-width")),V=r.$tooltip.css("border-left-color");else var z=parseFloat(r.$tooltip.css("border-bottom-width")),V=r.$tooltip.css("border-bottom-color");z>1&&z++;var L="";if(0!==z){var H="",q="border-color: "+V+";";-1!==N.indexOf("bottom")?H="margin-top: -"+Math.round(z)+"px;":-1!==N.indexOf("top")?H="margin-bottom: -"+Math.round(z)+"px;":-1!==N.indexOf("left")?H="margin-right: -"+Math.round(z)+"px;":-1!==N.indexOf("right")&&(H="margin-left: -"+Math.round(z)+"px;"),L='<span class="tooltipster-arrow-border" style="'+H+" "+q+';"></span>'}r.$tooltip.find(".tooltipster-arrow").remove();var U='<div class="'+N+' tooltipster-arrow" style="'+s+'">'+L+'<span style="border-color:'+j+';"></span></div>';r.$tooltip.append(U)}r.$tooltip.css({top:Math.round(S)+"px",left:Math.round(D)+"px"})}return r},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var i=null;"previous"===e.options.restoration?i=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(i="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),i&&e.$el.attr("title",i),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t){return t!==e.namespace}),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return"undefined"==typeof e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn[a]=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(l,e[1]);break;default:n=!1}return n?!0:this}return this}if("string"==typeof e[0]){var r="#*$~&";return this.each(function(){var n=t(this).data("tooltipster-ns"),i=n?t(this).data(n[0]):null;if(!i)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof i[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var s=i[e[0]](e[1],e[2]);return s!==i?(r=s,!1):void 0}),"#*$~&"!==r?r:this}var s=[],o=e[0]&&"undefined"!=typeof e[0].multiple,a=o&&e[0].multiple||!o&&l.multiple,u=e[0]&&"undefined"!=typeof e[0].debug,d=u&&e[0].debug||!u&&l.debug;return this.each(function(){var n=!1,r=t(this).data("tooltipster-ns"),o=null;r?a?n=!0:d&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(o=new i(this,e[0]),r||(r=[]),r.push(o.namespace),t(this).data("tooltipster-ns",r),t(this).data(o.namespace,o)),s.push(o)}),a?s:this};var u=!!("ontouchstart"in e),d=!1;t("body").one("mousemove",function(){d=!0})}(jQuery,window,document),$(document).on("page:change",function(){$("td a.poll-title").length>0&&$("td a.poll-title").readmore({speed:75,collapsedHeight:50,moreLink:'<a href="#" class="readmore-poll-title">Read more</a>',lessLink:'<a href="#" class="close-poll-title">Close</a>'}),$(".poll-title").length>0&&$(".poll-title").readmore({speed:75,collapsedHeight:50,moreLink:'<a href="#" class="readmore-poll-title poll-title-detail">Read more</a>',lessLink:'<a href="#" class="close-poll-title poll-title-detail">Close</a>'})}),function(){var t,e,n,i,r,s,o,a,l,u,d,c,h,f,p,m,g,v,y,_,w,b,C,A,F,x,E,$,D,k,S,T,P,O,B,I,M,R,N,j,z,V,L,H,q,U,W,Y,Q,K,G,X,Z,J,te,ee,ne=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},ie=function(t,e){function n(){this.constructor=t}for(var i in e)re.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},re={}.hasOwnProperty,se=[].slice,oe=function(t,e){return function(){return t.apply(e,arguments)
}};O={},h=10,X=!1,N=null,y=null,T=null,V=null,ee=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},A=function(t){var e;return t=new n(t),W(),c(),null!=N&&N.start(),X&&(e=Z(t.absolute))?(F(e),x(t,null,!1)):x(t,K)},Z=function(t){var e;return e=O[t],e&&!e.transitionCacheDisabled?e:void 0},w=function(t){return null==t&&(t=!0),X=t},_=function(t){return null==t&&(t=!0),u?t?null!=N?N:N=new s("html"):(null!=N&&N.uninstall(),N=null):void 0},x=function(t,e,n){return null==n&&(n=!0),J(i.FETCH,{url:t.absolute}),null!=ee&&ee.abort(),ee=new XMLHttpRequest,ee.open("GET",t.withoutHashForIE10compatibility(),!0),ee.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),ee.setRequestHeader("X-XHR-Referer",V),ee.onload=function(){var n;return J(i.RECEIVE,{url:t.absolute}),(n=R())?(L(t),H(),f.apply(null,C(n)),P(),"function"==typeof e&&e(),J(i.LOAD)):document.location.href=v()||t.absolute},N&&n&&(ee.onprogress=function(){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:N.value+(100-N.value)/10,N.advanceTo(e)}}(this)),ee.onloadend=function(){return ee=null},ee.onerror=function(){return document.location.href=t.absolute},ee.send()},F=function(t){return null!=ee&&ee.abort(),f(t.title,t.body),j(t),J(i.RESTORE)},c=function(){var t;return t=new n(y.url),O[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(h)},I=function(t){return null==t&&(t=h),/^[\d]+$/.test(t)?h=parseInt(t):void 0},m=function(t){var e,n,r,s,o,a;for(o=Object.keys(O),e=o.map(function(t){return O[t].cachedAt}).sort(function(t,e){return e-t}),a=[],n=0,s=o.length;s>n;n++)r=o[n],O[r].cachedAt<=e[t]&&(J(i.EXPIRE,O[r]),a.push(delete O[r]));return a},f=function(e,n,r,s){return J(i.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(n,document.body),null!=r&&t.update(r),G(),s&&b(),y=window.history.state,null!=N&&N.done(),J(i.CHANGE),J(i.UPDATE)},b=function(){var t,e,n,i,r,s,o,a,l,u,d,c;for(c=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,r=c.length;r>n;n++)if(d=c[n],""===(l=d.type)||"text/javascript"===l){for(e=document.createElement("script"),u=d.attributes,i=0,s=u.length;s>i;i++)t=u[i],e.setAttribute(t.name,t.value);d.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(d.innerHTML)),a=d.parentNode,o=d.nextSibling,a.removeChild(d),a.insertBefore(e,o)}},Y=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},G=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},L=function(t){return(t=new n(t)).absolute!==V?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},H=function(){var t,e;return(t=ee.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},v=function(){var t;return null!=(t=ee.getResponseHeader("Location"))&&new n(t).crossOrigin()?t:void 0},W=function(){return V=document.location.href},U=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},q=function(){return y=window.history.state},P=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new n).hasNoHash()?(window.history.replaceState(y,"",t.withoutHash()),document.location.hash=t.hash):void 0},j=function(t){return window.scrollTo(t.positionX,t.positionY)},K=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},p=function(t){var e,n,i;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(n in t)i=t[n],e[n]=p(i);return e},M=function(t){var e,n;return n=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},J=function(t,e){var n;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},B=function(t){return!J(i.BEFORE_CHANGE,{url:t})},R=function(){var t,e,n,i,r,s;return e=function(){var t;return 400<=(t=ee.status)&&600>t},s=function(){var t;return null!=(t=ee.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(t){var e,n,i,r,s;for(r=t.querySelector("head").childNodes,s=[],e=0,n=r.length;n>e;e++)i=r[e],null!=("function"==typeof i.getAttribute?i.getAttribute("data-turbolinks-track"):void 0)&&s.push(i.getAttribute("src")||i.getAttribute("href"));return s},t=function(t){var e;return T||(T=i(document)),e=i(t),e.length!==T.length||r(e,T).length!==T.length},r=function(t,e){var n,i,r,s,o;for(t.length>e.length&&(r=[e,t],t=r[0],e=r[1]),s=[],n=0,i=t.length;i>n;n++)o=t[n],ne.call(e,o)>=0&&s.push(o);return s},!e()&&s()&&(n=g(ee.responseText),n&&!t(n))?n:void 0},C=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,Y(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},g=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),r=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return ie(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,i,r;for(n=1<=arguments.length?se.call(arguments,0):[],i=0,r=n.length;r>i;i++)t=n[i],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(B(this.link.absolute)||te(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new r(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),s=function(){function t(t){this.elementSelector=t,this._trickle=oe(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var n,i;return n=this.speed,this.speed=t,i=e(),this.speed=n,i},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),d=function(t){return setTimeout(t,500)},D=function(){return document.addEventListener("DOMContentLoaded",function(){return J(i.CHANGE),J(i.UPDATE)},!0)},S=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?J(i.UPDATE):void 0}):void 0},k=function(t){var e,i;return(null!=(i=t.state)?i.turbolinks:void 0)?(e=O[new n(t.state.url).absolute])?(c(),F(e)):te(t.target.location.href):void 0},$=function(){return U(),q(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(){return U(),q()},!1),d(function(){return window.addEventListener("popstate",k,!1)})},E=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&E,o=!navigator.userAgent.match(/CriOS\//),Q="GET"===(z=M("request_method"))||""===z,u=l&&o&&Q,a=document.addEventListener&&document.createEvent,a&&(D(),S()),u?(te=A,$()):te=function(t){return document.location.href=t},this.Turbolinks={visit:te,pagesCached:I,enableTransitionCache:w,enableProgressBar:_,allowLinkExtensions:r.allowExtensions,supported:u,EVENTS:p(i)}}.call(this);