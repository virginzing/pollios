!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,s,a,o,l,u,h,d;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),l=o===e?null:o,u=i.data("with-credentials")||null,h=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),s=i.attr("action"),a=i.serializeArray();var c=i.data("ujs:submit-button");c&&(a.push(c),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),a=i.data("params")||null);d={type:r||"GET",data:a,dataType:h,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},u&&(d.xhrFields={withCredentials:u}),s&&(d.url=s);var f=n.ajax(d);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var r=n.href(i),s=i.data("method"),a=i.attr("target"),o=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),h='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&o!==e&&(h+='<input name="'+l+'" value="'+o+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(h).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,s,a=t(),o=n||"input,textarea",l=e.find(o);return l.each(function(){if(r=t(this),s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!s==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),s=r.data("method"),a=r.data("params"),o=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!o&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(o&&(!s||"GET"===s)&&!a)return!0;var l=n.handleRemote(r);return l===!1?n.enableElement(r):l.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),s=r.data("remote")!==e,a=n.blankInputs(r,n.requiredInputSelector),o=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(s){if(o){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),r=t("#"+t(n).data("blueprint-id")),s=r.data("blueprint"),a=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(a)for(var o=a.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=a.match(/[0-9]+/g)||[],u=0;u<o.length;u++)l[u]&&(s=s.replace(new RegExp("(_"+o[u]+")_.+?_","g"),"$1_"+l[u]+"_"),s=s.replace(new RegExp("(\\["+o[u]+"\\])\\[.+?\\]","g"),"$1["+l[u]+"]"));var h=new RegExp("new_"+i,"g"),d=this.newId();s=t.trim(s.replace(h,d));var c=this.insertFields(s,i,n);return c.trigger({type:"nested:fieldAdded",field:c}).trigger({type:"nested:fieldAdded:"+i,field:c}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var r=t(i).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),r=n.prev("input[type=hidden]");r.val("1");var s=n.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+i,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),r=i.children(),s=0;s<r.length;++s){var a=t(r[s]);if(a.is(e))return a;n.push(a)}}return t()}}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=g[p.locale];return e?e[t]:g.en[t]}function r(t,n,i){t.stopPropagation(),t.preventDefault();var r=e.isFunction(i)&&i(t)===!1;r||n.modal("hide")}function s(t){var e,n=0;for(e in t)n++;return n}function a(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function o(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},p,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,n=t.buttons,i=s(n),a(n,function(t,r,s){if(e.isFunction(r)&&(r=n[t]={callback:r}),"object"!==e.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t),r.className||(r.className=2>=i&&s===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function u(t,n,i){return e.extend(!0,{},t,l(n,i))}function h(t,e,n,i){var r={className:"bootbox-"+t,buttons:d.apply(null,e)};return c(u(r,i,n),e)}function d(){for(var t={},e=0,n=arguments.length;n>e;e++){var r=arguments[e],s=r.toLowerCase(),a=r.toUpperCase();t[s]={label:i(a)}}return t}function c(t,e){var i={};return a(e,function(t,e){i[e]=!0}),a(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=h("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},m.dialog(t)},m.confirm=function(){var t;if(t=h("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,r,s,o,l,h;s=e(f.form),i={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},t=c(u(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n?!0:t.show;var p=["date","time","number"],g=document.createElement("input");if(g.setAttribute("type",t.inputType),p[t.inputType]&&(t.inputType=g.type),t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var i=o.find("input:checked");n=[],a(i,function(t,i){n.push(e(i).val())})}return t.callback(n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(o=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(t.value);break;case"select":var y={};if(h=t.inputOptions||[],!h.length)throw new Error("prompt with select requires options");a(h,function(t,i){var r=o;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(y[i.group]||(y[i.group]=e("<optgroup/>").attr("label",i.group)),r=y[i.group]),r.append("<option value='"+i.value+"'>"+i.text+"</option>")}),a(y,function(t,e){o.append(e)}),o.val(t.value);break;case"checkbox":var v=e.isArray(t.value)?t.value:[t.value];if(h=t.inputOptions||[],!h.length)throw new Error("prompt with checkbox requires options");if(!h[0].value||!h[0].text)throw new Error("given options in wrong format");o=e("<div/>"),a(h,function(n,i){var r=e(f.inputs[t.inputType]);r.find("input").attr("value",i.value),r.find("label").append(i.text),a(v,function(t,e){e===i.value&&r.find("input").prop("checked",!0)}),o.append(r)})}return t.placeholder&&o.attr("placeholder",t.placeholder),t.pattern&&o.attr("pattern",t.pattern),s.append(o),s.on("submit",function(t){t.preventDefault(),r.find(".btn-primary").click()}),r=m.dialog(t),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){o.focus()}),l===!0&&r.modal("show"),r},m.dialog=function(t){t=o(t);var n=e(f.dialog),i=n.find(".modal-body"),s=t.buttons,l="",u={onEscape:t.onEscape};if(a(s,function(t,e){l+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",u[t]=e.callback}),i.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),t.title&&i.before(f.header),t.closeButton){var h=e(f.closeButton);t.title?n.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(i)}return t.title&&n.find(".modal-title").html(t.title),l.length&&(i.after(f.footer),n.find(".modal-footer").html(l)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){u.onEscape&&r(t,n,u.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");r(t,n,u[i])}),n.on("click",".bootbox-close-button",function(t){r(t,n,u.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},m.hideAll=function(){e(".bootbox").modal("hide")};var g={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return m.init=function(n){return t(n||e)},m}),$(document).ready(function(){function t(t,e){bootbox.confirm(t,function(t){t&&e()})}$.rails.allowAction=function(e){var n,i=e.data("confirm"),r=!1;return i?($.rails.fire(e,"confirm")&&t(i,function(){if(n=$.rails.fire(e,"confirm:complete",[r])){var t=$.rails.allowAction;$.rails.allowAction=function(){return!0},e.trigger("click"),$.rails.allowAction=t}}),!1):!0}}),function(t){function e(t,e){return function(n){return l(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function i(){}function r(t){a(this,t)}function s(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,s=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=+l+1e3*o+6e4*a+36e5*s,this._days=+r+7*i,this._months=+n+12*e,this._data={},this._bubble()}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function u(t,e,n,i){var r,s,a=e._milliseconds,o=e._days,l=e._months;a&&t._d.setTime(+t._d+a*n),(o||l)&&(r=t.minute(),s=t.hour()),o&&t.date(t.date()+o*n),l&&t.month(t.month()+l*n),a&&!i&&V.updateOffset(t),(o||l)&&(t.minute(r),t.hour(s))}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;i>n;n++)~~t[n]!==~~e[n]&&s++;return s+r}function c(t){return t?le[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function f(t,e){return e.abbr=t,j[t]||(j[t]=new i),j[t].set(e),j[t]}function p(t){delete j[t]}function m(t){if(!t)return V.fn._lang;if(!j[t]&&q)try{require("./lang/"+t)}catch(e){return V.fn._lang}return j[t]||V.fn._lang}function g(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function y(t){var e,n,i=t.match(Y);for(e=0,n=i.length;n>e;e++)i[e]=ce[i[e]]?ce[i[e]]:g(i[e]);return function(r){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function v(t,e){return e=_(e,t.lang()),ue[e]||(ue[e]=y(e)),ue[e](t)}function _(t,e){function n(t){return e.longDateFormat(t)||t}for(var i=5;i--&&(W.lastIndex=0,W.test(t));)t=t.replace(W,n);return t}function w(t,e){switch(t){case"DDDD":return G;case"YYYY":return Q;case"YYYYY":return Z;case"S":case"SS":case"SSS":case"DDD":return K;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return J;case"a":case"A":return m(e._l)._meridiemParse;case"X":return ee;case"Z":case"ZZ":return X;case"T":return te;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return U;default:return new RegExp(t.replace("\\",""))}}function b(t){var e=(X.exec(t)||[])[0],n=(e+"").match(se)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function A(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":null!=e&&(r[1]=~~e-1);break;case"MMM":case"MMMM":i=m(n._l).monthsParse(e),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":null!=e&&(r[2]=~~e);break;case"DDD":case"DDDD":null!=e&&(r[1]=0,r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=m(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(e)}null==e&&(n._isValid=!1)}function C(t){var e,n,i,r=[];if(!t._d){for(i=F(t),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];r[3]+=~~((t._tzm||0)/60),r[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),t._d=n}}function x(t){var e=t._i;t._d||(t._a=[e.years||e.year||e.y,e.months||e.month||e.M,e.days||e.day||e.d,e.hours||e.hour||e.h,e.minutes||e.minute||e.m,e.seconds||e.second||e.s,e.milliseconds||e.millisecond||e.ms],C(t))}function F(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function E(t){var e,n,i,r=m(t._l),s=""+t._i;for(i=_(t._f,r).match(Y),t._a=[],e=0;e<i.length;e++)n=(w(i[e],t).exec(s)||[])[0],n&&(s=s.slice(s.indexOf(n)+n.length)),ce[i[e]]&&A(i[e],n,t);s&&(t._il=s),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),C(t)}function k(t){var e,n,i,s,o,l=99;for(s=0;s<t._f.length;s++)e=a({},t),e._f=t._f[s],E(e),n=new r(e),o=d(e._a,n.toArray()),n._il&&(o+=n._il.length),l>o&&(l=o,i=n);a(t,i)}function $(t){var e,n=t._i,i=ne.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;4>e;e++)if(re[e][1].exec(n)){t._f+=re[e][0];break}X.exec(n)&&(t._f+=" Z"),E(t)}else t._d=new Date(n)}function S(e){var n=e._i,i=B.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?$(e):h(n)?(e._a=n.slice(0),C(e)):n instanceof Date?e._d=new Date(+n):"object"==typeof n?x(e):e._d=new Date(n)}function O(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function P(t,e,n){var i=L(Math.abs(t)/1e3),r=L(i/60),s=L(r/60),a=L(s/24),o=L(a/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===s&&["h"]||22>s&&["hh",s]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",L(a/30)]||1===o&&["y"]||["yy",o];return l[2]=e,l[3]=t>0,l[4]=n,O.apply({},l)}function T(t,e,n){var i,r=n-e,s=n-t.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=V(t).add("d",s),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function D(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=m().preparse(e)),V.isMoment(e)?(t=a({},e),t._d=new Date(+e._d)):n?h(n)?k(t):E(t):S(t),new r(t))}function M(t,e){V.fn[t]=V.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),V.updateOffset(this),this):this._d["get"+n+e]()}}function I(t){V.duration.fn[t]=function(){return this._data[t]}}function N(t,e){V.duration.fn["as"+t]=function(){return+this/e}}for(var V,R,z="2.2.1",L=Math.round,j={},q="undefined"!=typeof module&&module.exports,B=/^\/?Date\((\-?\d+)/i,H=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,Y=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,U=/\d\d?/,K=/\d{1,3}/,G=/\d{3}/,Q=/\d{1,4}/,Z=/[+\-]?\d{1,6}/,J=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,X=/Z|[\+\-]\d\d:?\d\d/i,te=/T/i,ee=/[\+\-]?\d+(\.\d{1,3})?/,ne=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ie="YYYY-MM-DDTHH:mm:ssZ",re=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],se=/([\+\-]|\d\d)/gi,ae="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),oe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},le={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},ue={},he="DDD w W M D d".split(" "),de="M D H h m s w W".split(" "),ce={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};he.length;)R=he.pop(),ce[R+"o"]=n(ce[R],R);for(;de.length;)R=de.pop(),ce[R+R]=e(ce[R],2);for(ce.DDDD=e(ce.DDD,3),a(i.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=V.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=V([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return T(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),V=function(t,e,n){return D({_i:t,_f:e,_l:n,_isUTC:!1})},V.utc=function(t,e,n){return D({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e}).utc()},V.unix=function(t){return V(1e3*t)},V.duration=function(t,e){var n,i,r=V.isDuration(t),a="number"==typeof t,o=r?t._input:a?{}:t,l=H.exec(t);return a?e?o[e]=t:o.milliseconds=t:l&&(n="-"===l[1]?-1:1,o={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new s(o),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},V.version=z,V.defaultFormat=ie,V.updateOffset=function(){},V.lang=function(t,e){return t?(t=t.toLowerCase(),t=t.replace("_","-"),e?f(t,e):null===e?(p(t),t="en"):j[t]||m(t),void(V.duration.fn._lang=V.fn._lang=m(t))):V.fn._lang._abbr},V.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),m(t)},V.isMoment=function(t){return t instanceof r},V.isDuration=function(t){return t instanceof s},a(V.fn=r.prototype,{clone:function(){return V(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(V(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?V.utc(this._a):V(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var t,e=this._a,n=(this._isUTC?V.utc(this._a):V(this._a)).toArray();for(t=6;t>=0&&e[t]===n[t];--t);return t},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=v(this,t||V.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?V.duration(+e,t):V.duration(t,e),u(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?V.duration(+e,t):V.duration(t,e),u(this,n,-1),this},diff:function(t,e,n){var i,r,s=this._isUTC?V(t).zone(this._offset||0):V(t).local(),a=6e4*(this.zone()-s.zone());return e=c(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),r+=(this-V(this).startOf("month")-(s-V(s).startOf("month")))/i,r-=6e4*(this.zone()-V(this).startOf("month").zone()-(s.zone()-V(s).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:o(r)},from:function(t,e){return V.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(V(),t)},calendar:function(){var t=this.diff(V().zone(this.zone()).startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),V.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=c(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoweek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=c(t),this.startOf(t).add("isoweek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+V(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+V(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+V(t).startOf(e)
},min:function(t){return t=V.apply(null,arguments),this>t?this:t},max:function(t){return t=V.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=b(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&u(this,V.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(t){return t=t?V(t).zone():0,0===(this.zone()-t)%60},daysInMonth:function(){return V.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=L((V(this).startOf("day")-V(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=T(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=T(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=T(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=c(t),this[t.toLowerCase()]()},set:function(t,e){t=c(t),this[t.toLowerCase()](e)},lang:function(e){return e===t?this._lang:(this._lang=m(e),this)}}),R=0;R<ae.length;R++)M(ae[R].toLowerCase().replace(/s$/,""),ae[R]);M("year","FullYear"),V.fn.days=V.fn.day,V.fn.months=V.fn.month,V.fn.weeks=V.fn.week,V.fn.isoWeeks=V.fn.isoWeek,V.fn.toJSON=V.fn.toISOString,a(V.duration.fn=s.prototype,{_bubble:function(){var t,e,n,i,r=this._milliseconds,s=this._days,a=this._months,l=this._data;l.milliseconds=r%1e3,t=o(r/1e3),l.seconds=t%60,e=o(t/60),l.minutes=e%60,n=o(e/60),l.hours=n%24,s+=o(n/24),l.days=s%30,a+=o(s/30),l.months=a%12,i=o(a/12),l.years=i},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=P(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=V.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=V.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=c(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=c(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:V.fn.lang});for(R in oe)oe.hasOwnProperty(R)&&(N(R,oe[R]),I(R.toLowerCase()));N("Weeks",6048e5),V.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},V.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),q&&(module.exports=V),"undefined"==typeof ender&&(this.moment=V),"function"==typeof define&&define.amd&&define("moment",[],function(){return V})}.call(this),function(t,e){var n=1e3,i=!1,r=t([]),s=function(n,i){var s=n.data("livestampdata");"number"==typeof i&&(i*=1e3),n.removeAttr("data-livestamp").removeData("livestamp"),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(s=t.extend({},{original:n.contents()},s),s.moment=e(i),n.data("livestampdata",s).empty(),r.push(n[0]))},a=function(){i||(o.update(),setTimeout(a,n))},o={update:function(){t("[data-livestamp]").each(function(){var e=t(this);s(e,e.data("livestamp"))});var n=[];r.each(function(){var i=t(this),r=i.data("livestampdata");if(void 0===r)n.push(this);else if(e.isMoment(r.moment)){var s=i.html(),r=r.moment.fromNow();if(s!=r){var a=t.Event("change.livestamp");i.trigger(a,[s,r]),a.isDefaultPrevented()||i.html(r)}}}),r=r.not(n)},pause:function(){i=!0},resume:function(){i=!1,a()},interval:function(t){return void 0===t?n:void(n=t)}},l={add:function(n,i){return"number"==typeof i&&(i*=1e3),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(n.each(function(){s(t(this),i)}),o.update()),n},destroy:function(e){return r=r.not(e),e.each(function(){var n=t(this),i=n.data("livestampdata");return void 0===i?e:void n.html(i.original?i.original:"").removeData("livestampdata")}),e},isLivestamp:function(t){return void 0!==t.data("livestampdata")}};t.livestamp=o,t(function(){o.resume()}),t.fn.livestamp=function(t,e){return l[t]||(e=t,t="add"),l[t](this,e)}}(jQuery,moment),window.ParsleyExtend=window.ParsleyExtend||{},window.ParsleyExtend=$.extend(window.ParsleyExtend,{asyncSupport:!0,asyncValidators:$.extend({"default":{fn:function(t){return"resolved"===t.state()},url:!1},reverse:{fn:function(t){return"rejected"===t.state()},url:!1}},window.ParsleyExtend.asyncValidators),addAsyncValidator:function(t,e,n,i){return this.asyncValidators[t.toLowerCase()]={fn:e,url:n||!1,options:i||{}},this},asyncValidate:function(){return"ParsleyForm"===this.__class__?this._asyncValidateForm.apply(this,arguments):this._asyncValidateField.apply(this,arguments)},asyncIsValid:function(){return"ParsleyField"===this.__class__?this._asyncIsValidField.apply(this,arguments):this._asyncIsValidForm.apply(this,arguments)},onSubmitValidate:function(t){var e=this;if(!0!==t.parsley)return this.submitEvent=$.extend(!0,{},t),t instanceof $.Event&&(t.stopImmediatePropagation(),t.preventDefault()),this._asyncValidateForm(void 0,t).done(function(){e.submitEvent.isDefaultPrevented()||e.$element.trigger($.extend($.Event("submit"),{parsley:!0}))})},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.asyncValidate())},_asyncValidateForm:function(t){var e=this,n=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var i=0;i<this.fields.length;i++)t&&t!==this.fields[i].options.group||n.push(this.fields[i]._asyncValidateField());return $.when.apply($,n).always(function(){$.emit("parsley:form:validated",e)})},_asyncIsValidForm:function(t,e){var n=[];this._refreshFields();for(var i=0;i<this.fields.length;i++)t&&t!==this.fields[i].options.group||n.push(this.fields[i]._asyncIsValidField(e));return $.when.apply($,n)},_asyncValidateField:function(t){var e=this;return $.emit("parsley:field:validate",this),this._asyncIsValidField(t).done(function(){$.emit("parsley:field:success",e)}).fail(function(){$.emit("parsley:field:error",e)}).always(function(){$.emit("parsley:field:validated",e)})},_asyncIsValidField:function(t,e){var n=$.Deferred();return!1===this.isValid(t,e)?n.rejectWith(this):"undefined"!=typeof this.constraintsByName.remote?this._remote(n):n.resolveWith(this),n.promise()},_remote:function(t){var e,n,i=this,r={},s=this.options.remoteValidator||(!0===this.options.remoteReverse?"reverse":"default");if(s=s.toLowerCase(),"undefined"==typeof this.asyncValidators[s])throw new Error("Calling an undefined async validator: `"+s+"`");r[this.$element.attr("name")||this.$element.attr("id")]=this.getValue(),this.options.remoteOptions=$.extend(!0,this.options.remoteOptions||{},this.asyncValidators[s].options),e=$.extend(!0,{},{url:this.asyncValidators[s].url||this.options.remote,data:r,type:"GET"},this.options.remoteOptions||{}),n=$.param(e),"undefined"==typeof this._remoteCache&&(this._remoteCache={}),this._remoteCache[n]||(this._xhr&&"pending"===this._xhr.state()&&this._xhr.abort(),this._xhr=$.ajax(e),this._remoteCache[n]=this._xhr),this._remoteCache[n].done(function(e,n,r){i._handleRemoteResult(s,r,t)}).fail(function(e,n){"abort"!==n&&i._handleRemoteResult(s,e,t)})},_handleRemoteResult:function(t,e,n){return"function"==typeof this.asyncValidators[t].fn&&this.asyncValidators[t].fn(e)?void n.resolveWith(this):(this.validationResult=[new window.ParsleyValidator.Validator.Violation(this.constraintsByName.remote,this.getValue(),null)],void n.rejectWith(this))}}),window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.validators=window.ParsleyConfig.validators||{},window.ParsleyConfig.validators.remote={fn:function(){return!0},priority:-1},!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"undefined"==typeof t&&"undefined"!=typeof window.jQuery&&(t=window.jQuery);var e={attr:function(t,e,n){var i,r={},s=this.msieversion(),a=new RegExp("^"+e,"i");if("undefined"==typeof t||"undefined"==typeof t[0])return{};for(var o in t[0].attributes)if(i=t[0].attributes[o],"undefined"!=typeof i&&null!==i&&(!s||s>=8||i.specified)&&a.test(i.name)){if("undefined"!=typeof n&&new RegExp(n+"$","i").test(i.name))return!0;r[this.camelize(i.name.replace(e,""))]=this.deserializeValue(i.value)}return"undefined"==typeof n?r:!1},setAttr:function(t,e,n,i){t[0].setAttribute(this.dasherize(e+n),String(i))},get:function(t,e){for(var n=0,i=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[i[n++]],n===i.length)return t;return void 0},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(e){var n;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return e>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0}},n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,n){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,n])},subscribe:function(e,n){return t.listenTo(this,e.toLowerCase(),n),this},unsubscribe:function(e){return t.unsubscribeTo(this,e.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return t.emit("parsley:field:reset",this);for(var e=0;e<this.fields.length;e++)t.emit("parsley:field:reset",this.fields[e]);t.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void t.emit("parsley:field:destroy",this);for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),t.emit("parsley:form:destroy",this)}},function(t){var e=function(t){return this.__class__="Validator",this.__version__="0.5.8",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};e.prototype={constructor:e,validate:function(t,e,n){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||a(t)?this._validateString(t,e,n):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,n)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new n(e),this},unbind:function(t){return"undefined"==typeof t._validatorjsConstraint?this:(delete t[this.bindingKey],this)},isBinded:function(t){return"undefined"!=typeof t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,n){var s,o=[];a(e)||(e=[e]);for(var l=0;l<e.length;l++){if(!(e[l]instanceof r))throw new Error("You must give an Assert or an Asserts array to validate a string");s=e[l].check(t,n),s instanceof i&&o.push(s)}return o.length?o:!0},_validateObject:function(t,e,i){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof n?e.check(t,i):new n(e).check(t,i)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},e.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(t,e){if(this.__class__="Constraint",this.options=e||{},this.nodes={},t)try{this._bootstrap(t)}catch(n){throw new Error("Should give a valid mapping object to Constraint",n,t)}return this};n.prototype={constructor:n,check:function(t,e){var n,i={};for(var o in this.options.strict?this.nodes:t)if(this.options.strict?this.has(o,t):this.has(o))n=this._check(o,t[o],e),(a(n)&&n.length>0||!a(n)&&!s(n))&&(i[o]=n);else if(this.options.strict)try{(new r).HaveProperty(o).validate(t)}catch(l){i[o]=l}return s(i)?!0:i},add:function(t,e){if(e instanceof r||a(e)&&e[0]instanceof r)return this.nodes[t]=e,this;if("object"==typeof e&&!a(e))return this.nodes[t]=e instanceof n?e:new n(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return e="undefined"!=typeof e?e:this.nodes,"undefined"!=typeof e[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var n in this.nodes)n!==t&&(e[n]=this.nodes[n]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof n)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,i){if(this.nodes[t]instanceof r)return this._checkAsserts(e,[this.nodes[t]],i);if(a(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],i);if(this.nodes[t]instanceof n)return this.nodes[t].check(e,i);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,n){for(var i,r=[],s=0;s<e.length;s++)i=e[s].check(t,n),"undefined"!=typeof i&&!0!==i&&r.push(i);return r}};var i=function(t,e,n){if(this.__class__="Violation",!(t instanceof r))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,"undefined"!=typeof n&&(this.violation=n)};i.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var r=function(t){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof t&&this.addGroup(t),this};r.prototype={construct:r,check:function(t,e){if(!(e&&!this.hasGroup(e)||!e&&this.hasGroups()))try{return this.validate(t,e)}catch(n){return n}},hasGroup:function(t){return a(t)?this.hasOneOf(t):"Any"===t?!0:this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(t){return a(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],n=0;n<this.groups.length;n++)t!==this.groups[n]&&e.push(this.groups[n]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if("undefined"==typeof t[this.node])throw new i(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new i(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!a(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,n=0;n<e.length;n++)if(t===e[n])return!0;throw new i(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint="undefined"!=typeof t?new n(t):!1,this.validate=function(t,n){var r,o=new e,l=0,u={},h=this.groups.length?this.groups:n;if(!a(t))throw new i(this,array,{value:e.errorCode.must_be_an_array});for(var d=0;d<t.length;d++)r=this.constraint?o.validate(t[d],this.constraint,h):o.validate(t[d],h),s(r)||(u[l]=r),l++;return s(u)?!0:u},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!a(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});var n="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(n)))throw new Error("Count must be a valid interger",n);if(n!==t.length)throw new i(this,t,{count:n});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Eql:function(t){if(this.__class__="Eql","undefined"==typeof t)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=t,this.validate=function(t){var e="function"==typeof this.eql?this.eql(t):this.eql;if(!o.eql(e,t))throw new i(this,t,{eql:e});return!0},this},EqualTo:function(t){if(this.__class__="EqualTo","undefined"==typeof t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new i(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>=t)throw new i(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>t)throw new i(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf","undefined"==typeof t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new i(this,t,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(t){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!a(t))throw new i(this,t,{value:e.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&t.length!==this.min)throw new i(this,t,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&t.length>this.max)throw new i(this,t,{max:this.max});if("undefined"!=typeof this.min&&t.length<this.min)throw new i(this,t,{min:this.min});return!0},this},LessThan:function(t){if(this.__class__="LessThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<=t)throw new i(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<t)throw new i(this,t,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(t){var n=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null===t||"undefined"==typeof t)throw new i(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new i(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range","undefined"==typeof t||"undefined"==typeof e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(t){try{return"string"==typeof t&&isNaN(Number(t))||a(t)?(new r).Length({min:this.min,max:this.max}).validate(t):(new r).GreaterThanOrEqual(this.min).validate(t)&&(new r).LessThanOrEqual(this.max).validate(t),!0}catch(e){throw new i(this,t,e.violation)}return!0},this},Regexp:function(t,n){if(this.__class__="Regexp","undefined"==typeof t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=n||"",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new i(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(t){if("undefined"==typeof t)throw new i(this,t);try{"string"==typeof t?(new r).NotNull().validate(t)&&(new r).NotBlank().validate(t):!0===a(t)&&(new r).Length({min:1}).validate(t)}catch(e){throw new i(this,t)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var n,r=[];if(!a(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});for(var s=0;s<t.length;s++)if(n="object"==typeof t[s]?t[s][this.key]:t[s],"undefined"!=typeof n){if(-1!==r.indexOf(n))throw new i(this,t,{value:n});r.push(n)}return!0},this}},t.Assert=r,t.Validator=e,t.Violation=i,t.Constraint=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1});var s=function(t){for(var e in t)return!1;return!0},a=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o={eql:function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:this.objEquiv(t,e)},isUndefinedOrNull:function(t){return null===t||"undefined"==typeof t},isArguments:function(t){return"[object Arguments]"==Object.prototype.toString.call(t)},keys:function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},objEquiv:function(t,e){if(this.isUndefinedOrNull(t)||this.isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(this.isArguments(t))return this.isArguments(e)?eql(pSlice.call(t),pSlice.call(e)):!1;try{var n,i,r=this.keys(t),s=this.keys(e);if(r.length!==s.length)return!1;for(r.sort(),s.sort(),i=r.length-1;i>=0;i--)if(r[i]!=s[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!this.eql(t[n],e[n]))return!1;return!0}catch(a){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return t})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var r=function(t,e){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(t||{},e||{})};r.prototype={init:function(e,n){this.catalog=n;for(var i in e)this.addValidator(i,e[i].fn,e[i].priority,e[i].requirementsTransformer);t.emit("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return"undefined"==typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=n,this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(e,n,i,r){return this.validators[e.toLowerCase()]=function(e){return t.extend((new Validator.Assert).Callback(n,e),{priority:i,requirementsTransformer:r})},this},updateValidator:function(t,e,n,i){return this.addValidator(t,e,n,i)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements),""!==e?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:function(){return t.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return t.extend((new Validator.Assert).Required(),{priority:512})},type:function(e){var n;switch(e){case"email":n=(new Validator.Assert).Email();break;case"range":case"number":n=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":n=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":n=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":n=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":n=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+e+"` is not supported")}return t.extend(n,{priority:256})},pattern:function(e){var n="";return/^\/.*\/(?:[gimy]*)$/.test(e)&&(n=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+n+"$"),"$1")),t.extend((new Validator.Assert).Regexp(e,n),{priority:64})},minlength:function(e){return t.extend((new Validator.Assert).Length({min:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},maxlength:function(e){return t.extend((new Validator.Assert).Length({max:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},length:function(e){return t.extend((new Validator.Assert).Length({min:e[0],max:e[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(e){return t.extend((new Validator.Assert).GreaterThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},max:function(e){return t.extend((new Validator.Assert).LessThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},range:function(e){return t.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(e){return t.extend((new Validator.Assert).EqualTo(e),{priority:256,requirementsTransformer:function(){return t(e).length?t(e).val():e}})}}};var s=function(){this.__class__="ParsleyUI"};s.prototype={listen:function(){return t.listen("parsley:form:init",this,this.setupForm),t.listen("parsley:field:init",this,this.setupField),t.listen("parsley:field:validated",this,this.reflow),t.listen("parsley:form:validated",this,this.focus),t.listen("parsley:field:reset",this,this.reset),t.listen("parsley:form:destroy",this,this.destroy),t.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&"undefined"==typeof t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],n=0;n<t.validationResult.length;n++)e.push(this._getErrorMessage(t,t.validationResult[n].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,n){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return n.added.length||n.kept.length?(0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<n.removed.length;i++)this.removeError(e,n.removed[i].assert.name,!0);for(i=0;i<n.added.length;i++)this.addError(e,n.added[i].assert.name,void 0,n.added[i].assert,!0);for(i=0;i<n.kept.length;i++)this.updateError(e,n.kept[i].assert.name,void 0,n.kept[i].assert,!0)}},addError:function(e,n,i,r,s){e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+n).html(i||this._getErrorMessage(e,r))),!0!==s&&this._errorClass(e)},updateError:function(t,e,n,i,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(t,i)),!0!==r&&this._errorClass(t)},removeError:function(t,e,n){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==n&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&t.fields[e].validationResult.length>0&&"undefined"==typeof t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();
t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var n=e.name+"Message";return"undefined"!=typeof t.options[n]?window.ParsleyValidator.formatMessage(t.options[n],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,n){for(var i=[],r=[],s=0;s<t.length;s++){for(var a=!1,o=0;o<e.length;o++)if(t[s].assert.name===e[o].assert.name){a=!0;break}a?r.push(t[s]):i.push(t[s])}return{kept:r,added:i,removed:n?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var n={active:!1};!1!==e.options.uiEnabled&&(n.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),n.$errorClassHandler=this._manageClassHandler(e),n.errorsWrapperId="parsley-id-"+("undefined"!=typeof e.options.multiple?"multiple-"+e.options.multiple:e.__id__),n.$errorsWrapper=t(e.options.errorsWrapper).attr("id",n.errorsWrapperId),n.lastValidationResult=[],n.validatedOnce=!1,n.validationInformationVisible=!1,e._ui=n,this._insertErrorWrapper(e),this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);var n=e.options.classHandler(e);return"undefined"!=typeof n&&n.length?n:"undefined"==typeof e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var n;if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer).length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof e.options.errorsContainer&&(n=e.options.errorsContainer(e));return"undefined"!=typeof n&&n.length?n.append(e._ui.$errorsWrapper):"undefined"==typeof e.options.multiple?e.$element.after(e._ui.$errorsWrapper):e.$element.parent().after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var n=this;if(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).off(".Parsley")}):e.$element.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:n.eventValidate,e))}):e.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.children().each(function(){t(this).remove()}),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&("undefined"!=typeof t._ui&&t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var a=function(n,i,r,s){this.__class__="OptionsFactory",this.__id__=e.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=t.extend(!0,{},n,i,r,{namespace:s})};a.prototype={get:function(t){if("undefined"==typeof t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(n){return this.formOptions=e.attr(n.$element,this.staticOptions.namespace),t.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(n){return this.fieldOptions=e.attr(n.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof n.parent&&(this.formOptions=this.getFormOptions(n.parent)),t.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var o=function(n,i){if(this.__class__="ParsleyForm",this.__id__=e.hash(4),"OptionsFactory"!==e.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=t(n),this.validationResult=null,this.options=this.OptionsFactory.get(this)};o.prototype={onSubmitValidate:function(e){return this.validate(void 0,void 0,e),!1===this.validationResult&&e instanceof t.Event&&(e.stopImmediatePropagation(),e.preventDefault()),this},validate:function(e,n,i){this.submitEvent=i,this.validationResult=!0;var r=[];this._refreshFields(),t.emit("parsley:form:validate",this);for(var s=0;s<this.fields.length;s++)e&&e!==this.fields[s].options.group||(r=this.fields[s].validate(n),!0!==r&&r.length>0&&this.validationResult&&(this.validationResult=!1));return t.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var n=0;n<this.fields.length;n++)if((!t||t===this.fields[n].options.group)&&!1===this.fields[n].isValid(e))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var e=new window.Parsley(this,{},t);"ParsleyField"!==e.__class__&&"ParsleyFieldMultiple"!==e.__class__||e.$element.is(e.options.excluded)||"undefined"==typeof t.fieldsMappedById[e.__class__+"-"+e.__id__]&&(t.fieldsMappedById[e.__class__+"-"+e.__id__]=e,t.fields.push(e))}),this}};var l=function(n,i,r,s,a){if(!new RegExp("ParsleyField").test(e.get(n,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](r).__parentClass__)throw new Error("Valid validator expected");var o=function(t,n){return"undefined"!=typeof t.options[n+"Priority"]?t.options[n+"Priority"]:e.get(window.ParsleyValidator.validators[n](r),"priority")||2};return s=s||o(n,i),"function"==typeof window.ParsleyValidator.validators[i](r).requirementsTransformer&&(r=window.ParsleyValidator.validators[i](r).requirementsTransformer()),t.extend(window.ParsleyValidator.validators[i](r),{name:i,requirements:r,priority:s,groups:[s],isDomConstraint:a||e.attr(n.$element,n.options.namespace,i)})},u=function(n,i,r){this.__class__="ParsleyField",this.__id__=e.hash(4),this.$element=t(n),"undefined"!=typeof r?(this.parent=r,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};u.prototype={validate:function(e){return this.value=this.getValue(),t.emit("parsley:field:validate",this),t.emit("parsley:field:"+(this.isValid(e,this.value)?"success":"error"),this),t.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var n=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var i=0;i<n.length;i++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,n[i])))return!1;return!0},getValue:function(){var t;return t="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var r=new l(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);this.constraints=t;for(var n in this.options)this.addConstraint(n,this.options[n]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var h=function(){this.__class__="ParsleyFieldMultiple"};h.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var e;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(t("html").has(this.$elements[n]).length){e=this.$elements[n].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var i=0;i<e.length;i++)this.addConstraint(e[i].name,e[i].requirements,e[i].priority,e[i].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){e.push(t(this).val())}),e.length?e:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var d=t({}),c={};t.listen=function(t){if("undefined"==typeof c[t]&&(c[t]=[]),"function"==typeof arguments[1])return c[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return c[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},t.listenTo=function(t,e,n){if("undefined"==typeof c[e]&&(c[e]=[]),!(t instanceof u||t instanceof o))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof n)throw new Error("Wrong parameters");c[e].push({instance:t,fn:n})},t.unsubscribe=function(t,e){if("undefined"!=typeof c[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var n=0;n<c[t].length;n++)if(c[t][n].fn===e)return c[t].splice(n,1)}},t.unsubscribeTo=function(t,e){if("undefined"!=typeof c[e]){if(!(t instanceof u||t instanceof o))throw new Error("Must give Parsley instance");for(var n=0;n<c[e].length;n++)if("undefined"!=typeof c[e][n].instance&&c[e][n].instance.__id__===t.__id__)return c[e].splice(n,1)}},t.unsubscribeAll=function(t){"undefined"!=typeof c[t]&&delete c[t]},t.emit=function(t,e){if("undefined"!=typeof c[t])for(var n=0;n<c[t].length;n++)if("undefined"!=typeof c[t][n].instance){if(e instanceof u||e instanceof o)if(c[t][n].instance.__id__!==e.__id__){if(c[t][n].instance instanceof o&&e instanceof u)for(var i=0;i<c[t][n].instance.fields.length;i++)if(c[t][n].instance.fields[i].__id__===e.__id__){c[t][n].fn.apply(d,Array.prototype.slice.call(arguments,1));continue}}else c[t][n].fn.apply(d,Array.prototype.slice.call(arguments,1))}else c[t][n].fn.apply("undefined"!=typeof c[t][n].ctxt?c[t][n].ctxt:d,Array.prototype.slice.call(arguments,1))},t.subscribed=function(){return c},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=t.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var f=function(n,i,r){if(this.__class__="Parsley",this.__version__="2.0.3",this.__id__=e.hash(4),"undefined"==typeof n)throw new Error("You must give an element");if("undefined"!=typeof r&&"ParsleyForm"!==r.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(t(n),i,r)};f.prototype={init:function(t,i,r){if(!t.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=t,this.$element.data("Parsley")){var s=this.$element.data("Parsley");return"undefined"!=typeof r&&(s.parent=r),s}return this.OptionsFactory=new a(n,e.get(window,"ParsleyConfig")||{},i,this.getNamespace(i)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||e.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(r):this.bind("parsleyField",r):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(n){var i,r,s,a=this;if(this.options=t.extend(this.options,n?n.OptionsFactory.get(n):{},e.attr(this.$element,this.options.namespace)),this.options.multiple?r=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?r=i=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(r=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",n,r||this.__id__);if("undefined"==typeof r)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(r=r.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof i&&t('input[name="'+i+'"]').each(function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(a.options.namespace+"multiple",r)}),t("["+this.options.namespace+"multiple="+r+"]").length)for(var o=0;o<t("["+this.options.namespace+"multiple="+r+"]").length;o++)if("undefined"!=typeof t(t("["+this.options.namespace+"multiple="+r+"]").get(o)).data("Parsley")){s=t(t("["+this.options.namespace+"multiple="+r+"]").get(o)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(s.addElement(this.$element),this.$element.attr(this.options.namespace+"id",s.__id__));break}return this.bind("parsleyField",n,r,!0),s||this.bind("parsleyFieldMultiple",n,r)},getNamespace:function(t){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof e.get(t,"namespace")?t.namespace:"undefined"!=typeof e.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:n.namespace},bind:function(n,r,s,a){var l;switch(n){case"parsleyForm":l=t.extend(new o(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,new h,window.ParsleyExtend)._init(s);break;default:throw new Error(n+"is not a supported Parsley type")}return"undefined"!=typeof s&&e.setAttr(this.$element,this.options.namespace,"multiple",s),"undefined"!=typeof a?(this.$element.data("ParsleyFieldMultiple",l),l):(new RegExp("ParsleyF","i").test(l.__class__)&&(this.$element.data("Parsley",l),t.emit("parsley:"+("parsleyForm"===n?"form":"field")+":init",l)),l)}},t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new f(this,e):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof e.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new s).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=f,window.ParsleyUtils=e,window.ParsleyValidator=new r(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==e.get(window,"ParsleyConfig.autoBind")&&t(document).ready(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()})}),!function(t){var e={attr:function(t,e,n){var i,r={},s=new RegExp("^"+e,"i");if("undefined"==typeof t||"undefined"==typeof t[0])return{};for(var a in t[0].attributes)if(i=t[0].attributes[a],"undefined"!=typeof i&&null!==i&&i.specified&&s.test(i.name)){if("undefined"!=typeof n&&new RegExp(n+"$","i").test(i.name))return!0;r[this.camelize(i.name.replace(e,""))]=this.deserializeValue(i.value)}return"undefined"==typeof n?r:!1},setAttr:function(t,e,n,i){t[0].setAttribute(this.dasherize(e+n),String(i))},get:function(t,e){for(var n=0,i=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[i[n++]],n===i.length)return t;return void 0},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(e){var n;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}},n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,n){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,n])},subscribe:function(e,n){return t.listenTo(this,e.toLowerCase(),n),this},unsubscribe:function(e){return t.unsubscribeTo(this,e.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return t.emit("parsley:field:reset",this);for(var e=0;e<this.fields.length;e++)t.emit("parsley:field:reset",this.fields[e]);t.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void t.emit("parsley:field:destroy",this);for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),t.emit("parsley:form:destroy",this)}},function(t){var e=function(t){return this.__class__="Validator",this.__version__="0.5.8",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};e.prototype={constructor:e,validate:function(t,e,n){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||a(t)?this._validateString(t,e,n):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,n)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new n(e),this},unbind:function(t){return"undefined"==typeof t._validatorjsConstraint?this:(delete t[this.bindingKey],this)},isBinded:function(t){return"undefined"!=typeof t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,n){var s,o=[];a(e)||(e=[e]);for(var l=0;l<e.length;l++){if(!(e[l]instanceof r))throw new Error("You must give an Assert or an Asserts array to validate a string");s=e[l].check(t,n),s instanceof i&&o.push(s)}return o.length?o:!0},_validateObject:function(t,e,i){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof n?e.check(t,i):new n(e).check(t,i)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},e.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(t,e){if(this.__class__="Constraint",this.options=e||{},this.nodes={},t)try{this._bootstrap(t)}catch(n){throw new Error("Should give a valid mapping object to Constraint",n,t)}return this};n.prototype={constructor:n,check:function(t,e){var n,i={};for(var o in this.options.strict?this.nodes:t)if(this.options.strict?this.has(o,t):this.has(o))n=this._check(o,t[o],e),(a(n)&&n.length>0||!a(n)&&!s(n))&&(i[o]=n);else if(this.options.strict)try{(new r).HaveProperty(o).validate(t)}catch(l){i[o]=l}return s(i)?!0:i},add:function(t,e){if(e instanceof r||a(e)&&e[0]instanceof r)return this.nodes[t]=e,this;if("object"==typeof e&&!a(e))return this.nodes[t]=e instanceof n?e:new n(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return e="undefined"!=typeof e?e:this.nodes,"undefined"!=typeof e[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var n in this.nodes)n!==t&&(e[n]=this.nodes[n]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof n)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,i){if(this.nodes[t]instanceof r)return this._checkAsserts(e,[this.nodes[t]],i);if(a(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],i);if(this.nodes[t]instanceof n)return this.nodes[t].check(e,i);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,n){for(var i,r=[],s=0;s<e.length;s++)i=e[s].check(t,n),"undefined"!=typeof i&&!0!==i&&r.push(i);return r}};var i=function(t,e,n){if(this.__class__="Violation",!(t instanceof r))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,"undefined"!=typeof n&&(this.violation=n)};i.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var r=function(t){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof t&&this.addGroup(t),this};r.prototype={construct:r,check:function(t,e){if(!(e&&!this.hasGroup(e)||!e&&this.hasGroups()))try{return this.validate(t,e)}catch(n){return n}},hasGroup:function(t){return a(t)?this.hasOneOf(t):"Any"===t?!0:this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(t){return a(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],n=0;n<this.groups.length;n++)t!==this.groups[n]&&e.push(this.groups[n]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if("undefined"==typeof t[this.node])throw new i(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new i(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!a(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,n=0;n<e.length;n++)if(t===e[n])return!0;throw new i(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint="undefined"!=typeof t?new n(t):!1,this.validate=function(t,n){var r,o=new e,l=0,u={},h=this.groups.length?this.groups:n;if(!a(t))throw new i(this,array,{value:e.errorCode.must_be_an_array});for(var d=0;d<t.length;d++)r=this.constraint?o.validate(t[d],this.constraint,h):o.validate(t[d],h),s(r)||(u[l]=r),l++;return s(u)?!0:u},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!a(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});var n="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(n)))throw new Error("Count must be a valid interger",n);if(n!==t.length)throw new i(this,t,{count:n});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Eql:function(t){if(this.__class__="Eql","undefined"==typeof t)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=t,this.validate=function(t){var e="function"==typeof this.eql?this.eql(t):this.eql;if(!o.eql(e,t))throw new i(this,t,{eql:e});return!0},this},EqualTo:function(t){if(this.__class__="EqualTo","undefined"==typeof t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new i(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>=t)throw new i(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>t)throw new i(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf","undefined"==typeof t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new i(this,t,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(t){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!a(t))throw new i(this,t,{value:e.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&t.length!==this.min)throw new i(this,t,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&t.length>this.max)throw new i(this,t,{max:this.max});if("undefined"!=typeof this.min&&t.length<this.min)throw new i(this,t,{min:this.min});
return!0},this},LessThan:function(t){if(this.__class__="LessThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<=t)throw new i(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<t)throw new i(this,t,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(t){var n=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null===t||"undefined"==typeof t)throw new i(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new i(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range","undefined"==typeof t||"undefined"==typeof e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(t){try{return"string"==typeof t&&isNaN(Number(t))||a(t)?(new r).Length({min:this.min,max:this.max}).validate(t):(new r).GreaterThanOrEqual(this.min).validate(t)&&(new r).LessThanOrEqual(this.max).validate(t),!0}catch(e){throw new i(this,t,e.violation)}return!0},this},Regexp:function(t,n){if(this.__class__="Regexp","undefined"==typeof t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=n||"",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new i(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(t){if("undefined"==typeof t)throw new i(this,t);try{"string"==typeof t?(new r).NotNull().validate(t)&&(new r).NotBlank().validate(t):!0===a(t)&&(new r).Length({min:1}).validate(t)}catch(e){throw new i(this,t)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var n,r=[];if(!a(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});for(var s=0;s<t.length;s++)if(n="object"==typeof t[s]?t[s][this.key]:t[s],"undefined"!=typeof n){if(-1!==r.indexOf(n))throw new i(this,t,{value:n});r.push(n)}return!0},this}},t.Assert=r,t.Validator=e,t.Violation=i,t.Constraint=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1});var s=function(t){for(var e in t)return!1;return!0},a=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o={eql:function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:this.objEquiv(t,e)},isUndefinedOrNull:function(t){return null===t||"undefined"==typeof t},isArguments:function(t){return"[object Arguments]"==Object.prototype.toString.call(t)},keys:function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},objEquiv:function(t,e){if(this.isUndefinedOrNull(t)||this.isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(this.isArguments(t))return this.isArguments(e)?eql(pSlice.call(t),pSlice.call(e)):!1;try{var n,i,r=this.keys(t),s=this.keys(e);if(r.length!==s.length)return!1;for(r.sort(),s.sort(),i=r.length-1;i>=0;i--)if(r[i]!=s[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!this.eql(t[n],e[n]))return!1;return!0}catch(a){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return t})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var r=function(t,e){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(t||{},e||{})};r.prototype={init:function(e,n){this.catalog=n;for(var i in e)this.addValidator(i,e[i].fn,e[i].priority);t.emit("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return void 0===typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=n,this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(e,n,i){return this.validators[e.toLowerCase()]=function(e){return t.extend((new Validator.Assert).Callback(n,e),{priority:i})},this},updateValidator:function(t,e,n){return addValidator(t,e,n)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements),""!==e?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:function(){return t.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return t.extend((new Validator.Assert).Required(),{priority:512})},type:function(e){var n;switch(e){case"email":n=(new Validator.Assert).Email();break;case"number":n=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":n=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":n=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":n=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":n=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+e+"` is not supported")}return t.extend(n,{priority:256})},pattern:function(e){var n="";return/^\/.*\/(?:[gimy]*)$/.test(e)&&(n=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+n+"$"),"$1")),t.extend((new Validator.Assert).Regexp(e,n),{priority:64})},minlength:function(e){return t.extend((new Validator.Assert).Length({min:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},maxlength:function(e){return t.extend((new Validator.Assert).Length({max:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},length:function(e){return t.extend((new Validator.Assert).Length({min:e[0],max:e[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(e){return t.extend((new Validator.Assert).GreaterThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},max:function(e){return t.extend((new Validator.Assert).LessThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},range:function(e){return t.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(e){return t.extend((new Validator.Assert).EqualTo(e),{priority:256,requirementsTransformer:function(){return t(e).length?t(e).val():e}})}}};var s=function(){this.__class__="ParsleyUI"};s.prototype={listen:function(){return t.listen("parsley:form:init",this,this.setupForm),t.listen("parsley:field:init",this,this.setupField),t.listen("parsley:field:validated",this,this.reflow),t.listen("parsley:form:validated",this,this.focus),t.listen("parsley:field:reset",this,this.reset),t.listen("parsley:form:destroy",this,this.destroy),t.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&"undefined"==typeof t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],n=0;n<t.validationResult.length;n++)e.push(this._getErrorMessage(t,t.validationResult[n].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,n){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return n.added.length||n.kept.length?(0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<n.removed.length;i++)this.removeError(e,n.removed[i].assert.name,!0);for(i=0;i<n.added.length;i++)this.addError(e,n.added[i].assert.name,void 0,n.added[i].assert,!0);for(i=0;i<n.kept.length;i++)this.updateError(e,n.kept[i].assert.name,void 0,n.kept[i].assert,!0)}},addError:function(e,n,i,r,s){e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+n).html(i||this._getErrorMessage(e,r))),!0!==s&&this._errorClass(e)},updateError:function(t,e,n,i,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(t,i)),!0!==r&&this._errorClass(t)},removeError:function(t,e,n){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==n&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&t.fields[e].validationResult.length>0&&"undefined"==typeof t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var n=e.name+"Message";return"undefined"!=typeof t.options[n]?window.ParsleyValidator.formatMessage(t.options[n],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,n){for(var i=[],r=[],s=0;s<t.length;s++){for(var a=!1,o=0;o<e.length;o++)if(t[s].assert.name===e[o].assert.name){a=!0;break}a?r.push(t[s]):i.push(t[s])}return{kept:r,added:i,removed:n?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var n={active:!1};!1!==e.options.uiEnabled&&(n.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),n.$errorClassHandler=this._manageClassHandler(e),n.errorsWrapperId="parsley-id-"+("undefined"!=typeof e.options.multiple?"multiple-"+e.options.multiple:e.__id__),n.$errorsWrapper=t(e.options.errorsWrapper).attr("id",n.errorsWrapperId),n.lastValidationResult=[],n.validatedOnce=!1,n.validationInformationVisible=!1,e._ui=n,this._insertErrorWrapper(e),this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);var n=e.options.classHandler(e);return"undefined"!=typeof n&&n.length?n:"undefined"==typeof e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var n;if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer+"").length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}return"function"==typeof e.options.errorsContainer&&(n=e.options.errorsContainer(e)),"undefined"!=typeof n&&n.length?n.append(e._ui.$errorsWrapper):"undefined"==typeof e.options.multiple?e.$element.after(e._ui.$errorsWrapper):e.$element.parent().after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var n=this;if(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).off(".Parsley")}):e.$element.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:n.eventValidate,e))}):e.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.children().each(function(){t(this).remove()}),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var a=function(n,i,r,s){this.__class__="OptionsFactory",this.__id__=e.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=t.extend(!0,{},n,i,r,{namespace:s})};a.prototype={get:function(t){if("undefined"==typeof t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(n){return this.formOptions=e.attr(n.$element,this.staticOptions.namespace),t.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(n){return this.fieldOptions=e.attr(n.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof n.parent&&(this.formOptions=this.getFormOptions(n.parent)),t.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var o=function(n,i){if(this.__class__="ParsleyForm",this.__id__=e.hash(4),"OptionsFactory"!==e.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=t(n),this.validationResult=null,this.options=this.OptionsFactory.get(this)};o.prototype={onSubmitValidate:function(e){return this.validate(void 0,void 0,e),!1===this.validationResult&&e instanceof t.Event&&(e.stopImmediatePropagation(),e.preventDefault()),this},validate:function(e,n,i){this.submitEvent=i,this.validationResult=!0;var r=[];this._refreshFields(),t.emit("parsley:form:validate",this);for(var s=0;s<this.fields.length;s++)e&&e!==this.fields[s].options.group||(r=this.fields[s].validate(n),!0!==r&&r.length>0&&this.validationResult&&(this.validationResult=!1));return t.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var n=0;n<this.fields.length;n++)if((!t||t===this.fields[n].options.group)&&!1===this.fields[n].isValid(e))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var e=new window.Parsley(this,{},t);"ParsleyField"!==e.__class__&&"ParsleyFieldMultiple"!==e.__class__||e.$element.is(e.options.excluded)||"undefined"==typeof t.fieldsMappedById[e.__class__+"-"+e.__id__]&&(t.fieldsMappedById[e.__class__+"-"+e.__id__]=e,t.fields.push(e))}),this}};var l=function(n,i,r,s,a){if(!new RegExp("ParsleyField").test(e.get(n,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](r).__parentClass__)throw new Error("Valid validator expected");var o=function(t,n){return"undefined"!=typeof t.options[n+"Priority"]?t.options[n+"Priority"]:e.get(window.ParsleyValidator.validators[n](r),"priority")||2};return s=s||o(n,i),"function"==typeof window.ParsleyValidator.validators[i](r).requirementsTransformer&&(r=window.ParsleyValidator.validators[i](r).requirementsTransformer()),t.extend(window.ParsleyValidator.validators[i](r),{name:i,requirements:r,priority:s,groups:[s],isDomConstraint:a||e.attr(n.$element,n.options.namespace,i)})},u=function(n,i,r){this.__class__="ParsleyField",this.__id__=e.hash(4),this.$element=t(n),"undefined"!=typeof r?(this.parent=r,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};u.prototype={validate:function(e){return this.value=this.getValue(),t.emit("parsley:field:validate",this),t.emit("parsley:field:"+(this.isValid(e,this.value)?"success":"error"),this),t.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var n=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var i=0;i<n.length;i++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,n[i])))return!1;return!0},getValue:function(){var t;return t="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var r=new l(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);this.constraints=t;for(var n in this.options)this.addConstraint(n,this.options[n]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var h=function(){this.__class__="ParsleyFieldMultiple"};h.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++){t=this.$elements[e].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<t.length;n++)this.addConstraint(t[n].name,t[n].requirements,t[n].priority,t[n].isDomConstraint)}return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){e.push(t(this).val())}),e.length?e:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var d=t({}),c={};t.listen=function(t){if("undefined"==typeof c[t]&&(c[t]=[]),"function"==typeof arguments[1])return c[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return c[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},t.listenTo=function(t,e,n){if("undefined"==typeof c[e]&&(c[e]=[]),!(t instanceof u||t instanceof o))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof n)throw new Error("Wrong parameters");c[e].push({instance:t,fn:n})},t.unsubscribe=function(t,e){if("undefined"!=typeof c[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var n=0;n<c[t].length;n++)if(c[t][n].fn===e)return c[t].splice(n,1)}},t.unsubscribeTo=function(t,e){if("undefined"!=typeof c[e]){if(!(t instanceof u||t instanceof o))throw new Error("Must give Parsley instance");for(var n=0;n<c[e].length;n++)if("undefined"!=typeof c[e][n].instance&&c[e][n].instance.__id__===t.__id__)return c[e].splice(n,1)}},t.unsubscribeAll=function(t){"undefined"!=typeof c[t]&&delete c[t]},t.emit=function(t,e){if("undefined"!=typeof c[t])for(var n=0;n<c[t].length;n++)if("undefined"!=typeof c[t][n].instance){if(e instanceof u||e instanceof o)if(c[t][n].instance.__id__!==e.__id__){if(c[t][n].instance instanceof o&&e instanceof u)for(var i=0;i<c[t][n].instance.fields.length;i++)if(c[t][n].instance.fields[i].__id__===e.__id__){c[t][n].fn.apply(d,Array.prototype.slice.call(arguments,1));continue}}else c[t][n].fn.apply(d,Array.prototype.slice.call(arguments,1))}else c[t][n].fn.apply("undefined"!=typeof c[t][n].ctxt?c[t][n].ctxt:d,Array.prototype.slice.call(arguments,1))},t.subscribed=function(){return c},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=t.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var f=function(n,i,r){if(this.__class__="Parsley",this.__version__="2.0.0",this.__id__=e.hash(4),"undefined"==typeof n)throw new Error("You must give an element");if("undefined"!=typeof r&&"ParsleyForm"!==r.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(t(n),i,r)};f.prototype={init:function(t,i,r){if(!t.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=t,this.$element.data("Parsley")){var s=this.$element.data("Parsley");return"undefined"!=typeof r&&(s.parent=r),s}return this.OptionsFactory=new a(n,e.get(window,"ParsleyConfig")||{},i,this.getNamespace(i)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||e.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(r):this.bind("parsleyField",r):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(n){var i,r,s,a=this;if(this.options=t.extend(this.options,n?n.OptionsFactory.get(n):{},e.attr(this.$element,this.options.namespace)),this.options.multiple?r=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?r=i=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(r=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",n,r||this.__id__);if("undefined"==typeof r)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(r=r.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof i&&t('input[name="'+i+'"]').each(function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(a.options.namespace+"multiple",r)}),t("["+this.options.namespace+"multiple="+r+"]").length)for(var o=0;o<t("["+this.options.namespace+"multiple="+r+"]").length;o++)if("undefined"!=typeof t(t("["+this.options.namespace+"multiple="+r+"]").get(o)).data("Parsley")){s=t(t("["+this.options.namespace+"multiple="+r+"]").get(o)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(s.addElement(this.$element),this.$element.attr(this.options.namespace+"id",s.__id__));break}return this.bind("parsleyField",n,r,!0),s||this.bind("parsleyFieldMultiple",n,r)},getNamespace:function(t){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof e.get(t,"namespace")?t.namespace:"undefined"!=typeof e.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:n.namespace},bind:function(n,r,s,a){var l;switch(n){case"parsleyForm":l=t.extend(new o(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":l=t.extend(new u(this.$element,this.OptionsFactory,r),new i,new h,window.ParsleyExtend)._init(s);break;default:throw new Error(n+"is not a supported Parsley type")}return"undefined"!=typeof s&&e.setAttr(this.$element,this.options.namespace,"multiple",s),"undefined"!=typeof a?(this.$element.data("ParsleyFieldMultiple",l),l):(new RegExp("ParsleyF","i").test(l.__class__)&&(this.$element.data("Parsley",l),t.emit("parsley:"+("parsleyForm"===n?"form":"field")+":init",l)),l)}},t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new f(this,e):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof e.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new s).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=f,window.ParsleyUtils=e,window.ParsleyValidator=new r(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==e.get(window,"ParsleyConfig.autoBind")&&t(document).ready(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()}),"function"==typeof define&&define.amd&&define("parsley",function(){return window.Parsley})}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e={className:"",text:"Drop a file",previewImage:!0,value:null,classes:{main:"ezdz-dropzone",enter:"ezdz-enter",reject:"ezdz-reject",accept:"ezdz-accept",focus:"ezdz-focus"},validators:{maxSize:null,width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},init:function(){},enter:function(){},leave:function(){},reject:function(){},accept:function(){},format:function(t){return t}};t.ezdz=function(n,i){this.settings=t.extend(!0,{},e,t.ezdz.defaults,i),this.$input=t(n);var r=this,s=r.settings,a=r.$input;if(a.is('input[type="file"]')&&t.ezdz.isBrowserCompatible()){var o=function(){var e,n,i;n=t('<div class="'+s.classes.main+'" />').on("dragover.ezdz",function(){t(this).addClass(s.classes.enter),t.isFunction(s.enter)&&s.enter.apply(this)}).on("dragleave.ezdz",function(){t(this).removeClass(s.classes.enter),t.isFunction(s.leaved)&&s.leaved.apply(this)}).addClass(s.className),a.wrap(n).before("<div>"+s.text+"</div>"),e=a.parent("."+s.classes.main),i=s.value||a.data("value"),i&&r.preview(i),t.isFunction(s.init)&&s.init.apply(a,[i]),a.on("focus.ezdz",function(){e.addClass(s.classes.focus)}).on("blur.ezdz",function(){e.removeClass(s.classes.focus)
}).on("change.ezdz",function(){var n=this.files[0];if(n){var i=n.name.replace(/\\/g,"/").replace(/.*\//,""),r=n.name.split(".").pop(),o=s.format(i);n.extension=r;var l=a.attr("accept"),u=!1;if(valid=!0,errors={mimeType:!1,maxSize:!1,width:!1,minWidth:!1,maxWidth:!1,height:!1,minHeight:!1,maxHeight:!1},l){var h=l.split(/[,|]/);t.each(h,function(e,i){if(i=t.trim(i),n.type==i)return u=!0,!1;if(i.indexOf("/*")!==!1){var r=i.replace("/*",""),s=n.type.replace(/(\/.*)$/g,"");if(r===s)return u=!0,!1}}),u===!1&&(errors.mimeType=!0)}else u=!0;if(e.removeClass(s.classes.reject+" "+s.classes.accept),u!==!0)return a.val(""),e.addClass(s.classes.reject),t.isFunction(s.reject)&&s.reject.apply(a,[n,errors]),!1;var d=new FileReader(n);d.readAsDataURL(n),d.onload=function(i){var r,l=new Image;n.data=i.target.result,l.src=n.data,setTimeout(function(){r=l.width&&l.height,s.validators.maxSize&&n.size>s.validators.maxSize&&(valid=!1,errors.maxSize=!0),r&&(n.width=l.width,n.height=l.height,s.validators.width&&l.width!=s.validators.width&&(valid=!1,errors.width=!0),s.validators.maxWidth&&l.width>s.validators.maxWidth&&(valid=!1,errors.maxWidth=!0),s.validators.minWidth&&l.width<s.validators.minWidth&&(valid=!1,errors.minWidth=!0),s.validators.height&&l.height!=s.validators.height&&(valid=!1,errors.height=!0),s.validators.maxHeight&&l.height>s.validators.maxHeight&&(valid=!1,errors.maxHeight=!0),s.validators.minHeight&&l.height<s.validators.minHeight&&(valid=!1,errors.minHeight=!0)),valid===!0?(e.find("img").remove(),e.find("div").html(r&&s.previewImage===!0?t(l).fadeIn():"<span>"+o+"</span>"),e.addClass(s.classes.accept),t.isFunction(s.accept)&&s.accept.apply(a,[n])):(a.val(""),e.addClass(s.classes.reject),t.isFunction(s.reject)&&s.reject.apply(a,[n,errors]))},250)}}})};o()}},t.ezdz.prototype.preview=function(e,n){var i=this.settings,r=this.$input,s=r.parent("."+i.classes.main);basename=e.replace(/\\/g,"/").replace(/.*\//,""),formatted=i.format(basename);var a=new Image;a.src=e,a.onload=function(){s.find("div").html(t(a).fadeIn()),t.isFunction(n)&&n.apply(this)},a.onerror=function(){s.find("div").html("<span>"+formatted+"</span>"),t.isFunction(n)&&n.apply(this)},s.addClass(i.classes.accept)},t.ezdz.prototype.destroy=function(){var t=this.settings,e=this.$input;e.parent("."+t.classes.main).replaceWith(e),e.off("*.ezdz"),e.removeData("ezdz")},t.ezdz.prototype.options=function(e){var n=this.settings;return e?void t.extend(!0,this.settings,e):n},t.ezdz.prototype.container=function(){var t=this.settings,e=this.$input;return e.parent("."+t.classes.main)},t.ezdz.isBrowserCompatible=function(){return!!(window.File&&window.FileList&&window.FileReader)},t.ezdz.defaults=e,t.fn.ezdz=function(e){var n=arguments,i=t(this).data("ezdz");return i?i[e]?i[e].apply(i,Array.prototype.slice.call(n,1)):void t.error("Ezdz error - Method "+e+" does not exist."):t(this).data("ezdz",new t.ezdz(this,e))}});var IASCallbacks=function(){return this.list=[],this.fireStack=[],this.isFiring=!1,this.isDisabled=!1,this.fire=function(t){var e=t[0],n=t[1],i=t[2];this.isFiring=!0;for(var r=0,s=this.list.length;s>r;r++)if(!1===this.list[r].fn.apply(e,i)){n.reject();break}this.isFiring=!1,n.resolve(),this.fireStack.length&&this.fire(this.fireStack.shift())},this.inList=function(t,e){e=e||0;for(var n=e,i=this.list.length;i>n;n++)if(this.list[n].fn===t||t.guid&&this.list[n].fn.guid&&t.guid===this.list[n].fn.guid)return n;return-1},this};IASCallbacks.prototype={add:function(t,e){var n={fn:t,priority:e};e=e||0;for(var i=0,r=this.list.length;r>i;i++)if(e>this.list[i].priority)return this.list.splice(i,0,n),this;return this.list.push(n),this},remove:function(t){for(var e=0;(e=this.inList(t,e))>-1;)this.list.splice(e,1);return this},has:function(t){return this.inList(t)>-1},fireWith:function(t,e){var n=$.Deferred();return this.isDisabled?n.reject():(e=e||[],e=[t,n,e.slice?e.slice():e],this.isFiring?this.fireStack.push(e):this.fire(e),n)},disable:function(){this.isDisabled=!0},enable:function(){this.isDisabled=!1}},function(t){"use strict";var e=-1,n=function(n,i){return this.itemsContainerSelector=i.container,this.itemSelector=i.item,this.nextSelector=i.next,this.paginationSelector=i.pagination,this.$scrollContainer=n,this.$itemsContainer=t(this.itemsContainerSelector),this.$container=window===n.get(0)?t(document):n,this.defaultDelay=i.delay,this.negativeMargin=i.negativeMargin,this.nextUrl=null,this.isBound=!1,this.listeners={next:new IASCallbacks,load:new IASCallbacks,loaded:new IASCallbacks,render:new IASCallbacks,rendered:new IASCallbacks,scroll:new IASCallbacks,noneLeft:new IASCallbacks,ready:new IASCallbacks},this.extensions=[],this.scrollHandler=function(){var t=this.getCurrentScrollOffset(this.$scrollContainer),n=this.getScrollThreshold();this.isBound&&e!=n&&(this.fire("scroll",[t,n]),t>=n&&this.next())},this.getLastItem=function(){return t(this.itemSelector,this.$itemsContainer.get(0)).last()},this.getFirstItem=function(){return t(this.itemSelector,this.$itemsContainer.get(0)).first()},this.getScrollThreshold=function(t){var n;return t=t||this.negativeMargin,t=t>=0?-1*t:t,n=this.getLastItem(),0===n.size()?e:n.offset().top+n.height()+t},this.getCurrentScrollOffset=function(t){var e=0,n=t.height();return e=window===t.get(0)?t.scrollTop():t.offset().top,(-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod"))&&(n+=80),e+n},this.getNextUrl=function(e){return e||(e=this.$container),t(this.nextSelector,e).last().attr("href")},this.load=function(e,n,i){var r,s,a=this,o=[],l=+new Date;i=i||this.defaultDelay;var u={url:e};return a.fire("load",[u]),t.get(u.url,null,t.proxy(function(e){r=t(this.itemsContainerSelector,e).eq(0),0===r.length&&(r=t(e).filter(this.itemsContainerSelector).eq(0)),r&&r.find(this.itemSelector).each(function(){o.push(this)}),a.fire("loaded",[e,o]),n&&(s=+new Date-l,i>s?setTimeout(function(){n.call(a,e,o)},i-s):n.call(a,e,o))},a),"html")},this.render=function(e,n){var i=this,r=this.getLastItem(),s=0,a=this.fire("render",[e]);a.done(function(){t(e).hide(),r.after(e),t(e).fadeIn(400,function(){++s<e.length||(i.fire("rendered",[e]),n&&n())})})},this.hidePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).hide()},this.restorePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).show()},this.throttle=function(e,n){var i,r,s=0;return i=function(){function t(){s=+new Date,e.apply(i,a)}var i=this,a=arguments,o=+new Date-s;r?clearTimeout(r):t(),o>n?t():r=setTimeout(t,n)},t.guid&&(i.guid=e.guid=e.guid||t.guid++),i},this.fire=function(t,e){return this.listeners[t].fireWith(this,e)},this};n.prototype.initialize=function(){var t=this.getCurrentScrollOffset(this.$scrollContainer),e=this.getScrollThreshold();this.hidePagination(),this.bind();for(var n=0,i=this.extensions.length;i>n;n++)this.extensions[n].bind(this);return this.fire("ready"),this.nextUrl=this.getNextUrl(),t>=e&&this.next(),this},n.prototype.bind=function(){this.isBound||(this.$scrollContainer.on("scroll",t.proxy(this.throttle(this.scrollHandler,150),this)),this.isBound=!0)},n.prototype.unbind=function(){this.isBound&&(this.$scrollContainer.off("scroll",this.scrollHandler),this.isBound=!1)},n.prototype.destroy=function(){this.unbind()},n.prototype.on=function(e,n,i){if("undefined"==typeof this.listeners[e])throw new Error('There is no event called "'+e+'"');return i=i||0,this.listeners[e].add(t.proxy(n,this),i),this},n.prototype.one=function(t,e){var n=this,i=function(){n.off(t,e),n.off(t,i)};return this.on(t,e),this.on(t,i),this},n.prototype.off=function(t,e){if("undefined"==typeof this.listeners[t])throw new Error('There is no event called "'+t+'"');return this.listeners[t].remove(e),this},n.prototype.next=function(){var t=this.nextUrl,e=this;if(this.unbind(),!t)return this.fire("noneLeft",[this.getLastItem()]),this.listeners.noneLeft.disable(),e.bind(),!1;var n=this.fire("next",[t]);return n.done(function(){e.load(t,function(t,n){e.render(n,function(){e.nextUrl=e.getNextUrl(t),e.bind()})})}),n.fail(function(){e.bind()}),!0},n.prototype.extension=function(t){if("undefined"==typeof t.bind)throw new Error('Extension doesn\'t have required method "bind"');return"undefined"!=typeof t.initialize&&t.initialize(this),this.extensions.push(t),this},t.ias=function(){var e=t(window);return e.ias.apply(e,arguments)},t.fn.ias=function(e){var i=Array.prototype.slice.call(arguments),r=this;return this.each(function(){var s=t(this),a=s.data("ias"),o=t.extend({},t.fn.ias.defaults,s.data(),"object"==typeof e&&e);if(a||(s.data("ias",a=new n(s,o)),t(document).ready(t.proxy(a.initialize,a))),"string"==typeof e){if("function"!=typeof a[e])throw new Error('There is no method called "'+e+'"');i.shift(),a[e].apply(a,i),"destroy"===e&&s.data("ias",null)}r=s.data("ias")}),r},t.fn.ias.defaults={item:".item",container:".listing",next:".next",pagination:!1,delay:600,negativeMargin:10}}(jQuery);var IASHistoryExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.prevSelector=t.prev,this.prevUrl=null,this.listeners={prev:new IASCallbacks},this.onPageChange=function(t,e,n){var i={};window.history&&window.history.replaceState&&history.replaceState(i,document.title,n)},this.onScroll=function(t){var e=this.getScrollThresholdFirstItem();this.prevUrl&&(t-=this.ias.$scrollContainer.height(),e>=t&&this.prev())},this.getPrevUrl=function(t){return t||(t=this.ias.$container),$(this.prevSelector,t).last().attr("href")},this.getScrollThresholdFirstItem=function(){var t;return t=this.ias.getFirstItem(),0===t.size()?-1:t.offset().top},this.renderBefore=function(t,e){var n=this.ias,i=n.getFirstItem(),r=0;n.fire("render",[t]),$(t).hide(),i.before(t),$(t).fadeIn(400,function(){++r<t.length||(n.fire("rendered",[t]),e&&e())})},this};IASHistoryExtension.prototype.initialize=function(t){var e=this;this.ias=t,jQuery.extend(t.listeners,this.listeners),t.prev=function(){return e.prev()},this.prevUrl=this.getPrevUrl()},IASHistoryExtension.prototype.bind=function(t){var e=this;t.on("pageChange",$.proxy(this.onPageChange,this)),t.on("scroll",$.proxy(this.onScroll,this)),t.on("ready",function(){var n=t.getCurrentScrollOffset(t.$scrollContainer),i=e.getScrollThresholdFirstItem();n-=t.$scrollContainer.height(),i>=n&&e.prev()})},IASHistoryExtension.prototype.prev=function(){var t=this.prevUrl,e=this,n=this.ias;if(!t)return!1;n.unbind();var i=n.fire("prev",[t]);return i.done(function(){n.load(t,function(t,i){e.renderBefore(i,function(){e.prevUrl=e.getPrevUrl(t),n.bind(),e.prevUrl&&e.prev()})})}),i.fail(function(){n.bind()}),!0},IASHistoryExtension.prototype.defaults={prev:".prev"};var IASNoneLeftExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.uid=(new Date).getTime(),this.html=t.html.replace("{text}",t.text),this.showNoneLeft=function(){var t=$(this.html).attr("id","ias_noneleft_"+this.uid),e=this.ias.getLastItem();e.after(t),t.fadeIn()},this};IASNoneLeftExtension.prototype.bind=function(t){this.ias=t,t.on("noneLeft",$.proxy(this.showNoneLeft,this))},IASNoneLeftExtension.prototype.defaults={text:"You reached the end.",html:'<div class="ias-noneleft" style="text-align: center;">{text}</div>'};var IASPagingExtension=function(){return this.ias=null,this.pagebreaks=[[0,document.location.toString()]],this.lastPageNum=1,this.enabled=!0,this.listeners={pageChange:new IASCallbacks},this.onScroll=function(t){if(this.enabled){var e,n=this.ias,i=this.getCurrentPageNum(t),r=this.getCurrentPagebreak(t);this.lastPageNum!==i&&(e=r[1],n.fire("pageChange",[i,t,e])),this.lastPageNum=i}},this.onNext=function(t){var e=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer);this.pagebreaks.push([e,t]);var n=this.getCurrentPageNum(e)+1;this.ias.fire("pageChange",[n,e,t]),this.lastPageNum=n},this.onPrev=function(t){var e=this,n=e.ias,i=n.getCurrentScrollOffset(n.$scrollContainer),r=i-n.$scrollContainer.height(),s=n.getFirstItem();this.enabled=!1,this.pagebreaks.unshift([0,t]),n.one("rendered",function(){for(var i=1,a=e.pagebreaks.length;a>i;i++)e.pagebreaks[i][0]=e.pagebreaks[i][0]+s.offset().top;var o=e.getCurrentPageNum(r)+1;n.fire("pageChange",[o,r,t]),e.lastPageNum=o,e.enabled=!0})},this};IASPagingExtension.prototype.initialize=function(t){this.ias=t,jQuery.extend(t.listeners,this.listeners)},IASPagingExtension.prototype.bind=function(t){try{t.on("prev",$.proxy(this.onPrev,this),this.priority)}catch(e){}t.on("next",$.proxy(this.onNext,this),this.priority),t.on("scroll",$.proxy(this.onScroll,this),this.priority)},IASPagingExtension.prototype.getCurrentPageNum=function(t){for(var e=this.pagebreaks.length-1;e>0;e--)if(t>this.pagebreaks[e][0])return e+1;return 1},IASPagingExtension.prototype.getCurrentPagebreak=function(t){for(var e=this.pagebreaks.length-1;e>=0;e--)if(t>this.pagebreaks[e][0])return this.pagebreaks[e];return null},IASPagingExtension.prototype.priority=500;var IASSpinnerExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.uid=(new Date).getTime(),this.src=t.src,this.html=t.html.replace("{src}",this.src),this.showSpinner=function(){var t=this.getSpinner()||this.createSpinner(),e=this.ias.getLastItem();e.after(t),t.fadeIn()},this.showSpinnerBefore=function(){var t=this.getSpinner()||this.createSpinner(),e=this.ias.getFirstItem();e.before(t),t.fadeIn()},this.removeSpinner=function(){this.hasSpinner()&&this.getSpinner().remove()},this.getSpinner=function(){var t=$("#ias_spinner_"+this.uid);return t.size()>0?t:!1},this.hasSpinner=function(){var t=$("#ias_spinner_"+this.uid);return t.size()>0},this.createSpinner=function(){var t=$(this.html).attr("id","ias_spinner_"+this.uid);return t.hide(),t},this};IASSpinnerExtension.prototype.bind=function(t){this.ias=t,t.on("next",$.proxy(this.showSpinner,this));try{t.on("prev",$.proxy(this.showSpinnerBefore,this))}catch(e){}t.on("render",$.proxy(this.removeSpinner,this))},IASSpinnerExtension.prototype.defaults={src:"data:image/gif;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA==",html:'<div class="ias-spinner" style="text-align: center;"><img src="{src}"/></div>'};var IASTriggerExtension=function(t){return t=$.extend({},this.defaults,t),this.ias=null,this.html=t.html.replace("{text}",t.text),this.htmlPrev=t.htmlPrev.replace("{text}",t.textPrev),this.enabled=!0,this.count=0,this.offset=t.offset,this.$triggerNext=null,this.$triggerPrev=null,this.showTriggerNext=function(){if(!this.enabled)return!0;if(!1===this.offset||++this.count<this.offset)return!0;var t=this.$triggerNext||(this.$triggerNext=this.createTrigger(this.next,this.html)),e=this.ias.getLastItem();return e.after(t),t.fadeIn(),!1},this.showTriggerPrev=function(){if(!this.enabled)return!0;var t=this.$triggerPrev||(this.$triggerPrev=this.createTrigger(this.prev,this.htmlPrev)),e=this.ias.getFirstItem();return e.before(t),t.fadeIn(),!1},this.createTrigger=function(t,e){var n,i=(new Date).getTime();return e=e||this.html,n=$(e).attr("id","ias_trigger_"+i),n.hide(),n.on("click",$.proxy(t,this)),n},this};IASTriggerExtension.prototype.bind=function(t){var e=this;this.ias=t;try{t.on("prev",$.proxy(this.showTriggerPrev,this),this.priority)}catch(n){}t.on("next",$.proxy(this.showTriggerNext,this),this.priority),t.on("rendered",function(){e.enabled=!0},this.priority)},IASTriggerExtension.prototype.next=function(){this.enabled=!1,this.ias.unbind(),this.$triggerNext&&(this.$triggerNext.remove(),this.$triggerNext=null),this.ias.next()},IASTriggerExtension.prototype.prev=function(){this.enabled=!1,this.ias.unbind(),this.$triggerPrev&&(this.$triggerPrev.remove(),this.$triggerPrev=null),this.ias.prev()},IASTriggerExtension.prototype.defaults={text:"Load more items",html:'<div class="ias-trigger ias-trigger-next btn btn-default center-block" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',textPrev:"Load previous items",htmlPrev:'<div class="ias-trigger ias-trigger-prev" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',offset:0},IASTriggerExtension.prototype.priority=1e3,function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,i){var r;return r="translate3d"===u.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},r.transition="all "+n+"ms "+i,r}function i(t,e){var n="string"==typeof t?t:a(t);return n.indexOf(" "+e+" ")>=0}function r(t,e){var n=a(t),r=n+e;i(n,e)||(t.className=r.substring(1))}function s(t,e){var n,r=a(t);i(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function a(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function o(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.1.6";var u=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(u[e]=n);return this},l.status=null,l.set=function(e){var i=l.isStarted();e=t(e,u.minimum,1),l.status=1===e?null:e;var r=l.render(!i),s=r.querySelector(u.barSelector),a=u.speed,o=u.easing;return r.offsetWidth,h(function(t){""===u.positionUsing&&(u.positionUsing=l.getPositioningCSS()),d(s,n(e,a,o)),1===e?(d(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){d(r,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},a)},a)):setTimeout(t,a)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},u.trickleSpeed)};return u.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var n=l.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),l.set(n)):l.start()},l.trickle=function(){return l.inc(Math.random()*u.trickleRate)},function(){var t=0,e=0;l.promise=function(n){return n&&"resolved"!=n.state()?(0==e&&l.start(),t++,e++,n.always(function(){e--,0==e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var i,s=n.querySelector(u.barSelector),a=t?"-100":e(l.status||0),h=document.querySelector(u.parent);return d(s,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),u.showSpinner||(i=n.querySelector(u.spinnerSelector),i&&o(i)),h!=document.body&&r(h,"nprogress-custom-parent"),h.appendChild(n),n},l.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(u.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&o(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var h=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),d=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,i=r.length,s=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(n=r[i]+s,n in e)return n;return t}function n(n){return n=t(n),s[n]||(s[n]=e(n))}function i(t,e,i){e=n(e),t.style[e]=i}var r=["Webkit","O","Moz","ms"],s={};return function(t,e){var n,r,s=arguments;if(2==s.length)for(n in e)r=e[n],void 0!==r&&e.hasOwnProperty(n)&&i(t,n,r);else i(t,s[1],s[2])}}();return l}),$(function(){$(document).on("page:fetch",function(){NProgress.start()}),$(document).on("page:change",function(){NProgress.done()}),$(document).on("page:restore",function(){NProgress.remove()})}),function(t){"use strict";function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Function}function i(t){return!n(t)&&t instanceof Object}function r(t,n){var s;for(s in n)i(n[s])||e(n[s])?(i(n[s])&&!i(t[s])&&(t[s]={}),e(n[s])&&!e(t[s])&&(t[s]=[]),r(t[s],n[s])):void 0!==n[s]&&(t[s]=n[s])}function s(t,e){var n={};return r(n,t),r(n,e),n}function a(t){var e,n,i,r,s,a,o,l,u,h,d;return h=Object.prototype.toString.call(t),"[object Date]"===h?t:"[object String]"===h&&(i=t.match(T))?(d=parseInt(i[1],10),a=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),s=i[9]?parseInt(i[9],10):0,u=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(D+i[12].slice(1)):0,l=Date.UTC(d,a,e,n,s,u,r),i[13]&&i[14]&&(o=60*i[15],i[17]&&(o+=parseInt(i[17],10)),o*="-"===i[14]?-1:1,l-=60*o*1e3),new Date(l)):void 0}function o(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function l(t,e,n,i,r){return function(a,l,u){var h=s({},t);return h=s(h,u||{}),l.hideLegend&&e(h),"min"in l?n(h,l.min):o(a)||n(h,0),"max"in l&&i(h,l.max),l.stacked&&r(h),l.colors&&(h.colors=l.colors),h=s(h,l.library||{})}}function u(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function h(t,e){u(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function d(e,n,i){var r=t.jQuery||t.Zepto||t.$;r.ajax({dataType:"json",url:n,success:i,error:function(t,n,i){var r="string"==typeof i?i:i.message;h(e,r)}})}function c(t,e){try{e(t)}catch(n){throw h(t.element,n.message),n}}function f(t,e){"string"==typeof t.dataSource?d(t.element,t.dataSource,function(n){t.data=n,c(t,e)}):(t.data=t.dataSource,c(t,e))}function p(t){return""+t}function m(t){return parseFloat(t)}function g(t){if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{var e=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=a(e)||new Date(t)}return t}function y(t){if(!e(t)){var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push([n,t[n]]);t=i}return t}function v(t,e){return t[0].getTime()-e[0].getTime()}function _(t,e){var i,r,s;for(s="render"+t,i=0;i<I.length;i++)if(r=I[i],n(r[s]))return r[s](e);throw new Error("No adapter found")}function w(t,n,i){var r,s,a,o,l;for(!e(t)||"object"!=typeof t[0]||e(t[0])?(t=[{name:"Value",data:t}],n.hideLegend=!0):n.hideLegend=!1,n.discrete&&(i=!1),r=0;r<t.length;r++){for(a=y(t[r].data),o=[],s=0;s<a.length;s++)l=a[s][0],l=i?g(l):p(l),o.push([l,m(a[s][1])]);i&&o.sort(v),t[r].data=o}return t}function b(t){var e,n=y(t);for(e=0;e<n.length;e++)n[e]=[p(n[e][0]),m(n[e][1])];return n}function A(t){var e;for(e=0;e<t.length;e++)t[e][1]=g(t[e][1]),t[e][2]=g(t[e][2]);return t}function C(t){t.data=w(t.data,t.options,!0),_("LineChart",t)}function x(t){t.data=w(t.data,t.options,!1),_("ColumnChart",t)}function F(t){t.data=b(t.data),_("PieChart",t)}function E(t){t.data=w(t.data,t.options,!1),_("BarChart",t)}function k(t){t.data=w(t.data,t.options,!0),_("AreaChart",t)}function $(t){t.data=b(t.data),_("GeoChart",t)}function S(t){t.data=A(t.data),_("Timeline",t)}function O(t,e,n,i,r){"string"==typeof e&&(e=document.getElementById(e)),t.element=e,t.options=i||{},t.dataSource=n,P.charts[e.id]=t,f(t,r)}var P,T,D,M=t.Chartkick||{},I=[];if(T=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i,D=String(1.5).charAt(1),"Highcharts"in t){var N=new function(){var e=t.Highcharts,n={chart:{},xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},i=function(t){t.legend.enabled=!1},r=function(t,e){t.yAxis.min=e},a=function(t,e){t.yAxis.max=e},o=function(t){t.plotOptions.series.stacking="normal"},u=l(n,i,r,a,o);this.renderLineChart=function(t,n){n=n||"spline";var i={};"areaspline"===n&&(i={plotOptions:{areaspline:{stacking:"normal"},series:{marker:{enabled:!1}}}});var r,s,a,o=u(t.data,t.options,i);o.xAxis.type=t.options.discrete?"category":"datetime",o.chart.type=n,o.chart.renderTo=t.element.id;var l=t.data;for(s=0;s<l.length;s++){if(r=l[s].data,!t.options.discrete)for(a=0;a<r.length;a++)r[a][0]=r[a][0].getTime();l[s].marker={symbol:"circle"}}o.series=l,new e.Chart(o)},this.renderPieChart=function(t){var i={};t.options.colors&&(i.colors=t.options.colors);var r=s(s(n,i),t.options.library||{});r.chart.renderTo=t.element.id,r.series=[{type:"pie",name:"Value",data:t.data}],new e.Chart(r)},this.renderColumnChart=function(t,n){var i,r,s,a,n=n||"column",o=t.data,l=u(o,t.options),h=[];for(l.chart.type=n,l.chart.renderTo=t.element.id,i=0;i<o.length;i++)for(s=o[i],r=0;r<s.data.length;r++)a=s.data[r],h[a[0]]||(h[a[0]]=new Array(o.length)),h[a[0]][i]=a[1];var d=[];for(i in h)h.hasOwnProperty(i)&&d.push(i);l.xAxis.categories=d;var c=[];for(i=0;i<o.length;i++){for(a=[],r=0;r<d.length;r++)a.push(h[d[r]][i]||0);c.push({name:o[i].name,data:a})}l.series=c,new e.Chart(l)};var h=this;this.renderBarChart=function(t){h.renderColumnChart(t,"bar")},this.renderAreaChart=function(t){h.renderLineChart(t,"areaspline")}};I.push(N)}if(t.google&&t.google.setOnLoadCallback){var V=new function(){var e=t.google,n={},i=[],r=function(){for(var t,n,r=0;r<i.length;r++)t=i[r],n=e.visualization&&("corechart"==t.pack&&e.visualization.LineChart||"timeline"==t.pack&&e.visualization.Timeline),n&&(t.callback(),i.splice(r,1),r--)},a=function(t,s){if(s||(s=t,t="corechart"),i.push({pack:t,callback:s}),n[t])r();else{n[t]=!0;var a={packages:[t],callback:r};M.language&&(a.language=M.language),e.load("visualization","1",a)}},o={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},u=function(t){t.legend.position="none"},h=function(t,e){t.vAxis.viewWindow.min=e},d=function(t,e){t.vAxis.viewWindow.max=e},c=function(t,e){t.hAxis.viewWindow.min=e},f=function(t,e){t.hAxis.viewWindow.max=e},p=function(t){t.isStacked=!0},g=l(o,u,h,d,p),y=function(t,n){var i=new e.visualization.DataTable;i.addColumn(n,"");var r,s,a,o,l,u=[];for(r=0;r<t.length;r++)for(a=t[r],i.addColumn("number",a.name),s=0;s<a.data.length;s++)o=a.data[s],l="datetime"===n?o[0].getTime():o[0],u[l]||(u[l]=new Array(t.length)),u[l][r]=m(o[1]);var h=[];for(r in u)u.hasOwnProperty(r)&&h.push(["datetime"===n?new Date(m(r)):r].concat(u[r]));return"datetime"===n&&h.sort(v),i.addRows(h),i},_=function(e){t.attachEvent?t.attachEvent("onresize",e):t.addEventListener&&t.addEventListener("resize",e,!0),e()};this.renderLineChart=function(t){a(function(){var n=g(t.data,t.options),i=y(t.data,t.options.discrete?"string":"datetime");t.chart=new e.visualization.LineChart(t.element),_(function(){t.chart.draw(i,n)})})},this.renderPieChart=function(t){a(function(){var n={chartArea:{top:"10%",height:"80%"}};t.options.colors&&(n.colors=t.options.colors);var i=s(s(o,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),t.chart=new e.visualization.PieChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderColumnChart=function(t){a(function(){var n=g(t.data,t.options),i=y(t.data,"string");t.chart=new e.visualization.ColumnChart(t.element),_(function(){t.chart.draw(i,n)})})},this.renderBarChart=function(t){a(function(){var n={hAxis:{gridlines:{color:"#ccc"}}},i=l(o,u,c,f,p)(t.data,t.options,n),r=y(t.data,"string");t.chart=new e.visualization.BarChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderAreaChart=function(t){a(function(){var n={isStacked:!0,pointSize:0,areaOpacity:.5},i=g(t.data,t.options,n),r=y(t.data,t.options.discrete?"string":"datetime");t.chart=new e.visualization.AreaChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderGeoChart=function(t){a(function(){var n={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},i=s(s(o,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),t.chart=new e.visualization.GeoChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderTimeline=function(t){a("timeline",function(){var n={legend:"none"};t.options.colors&&(n.colorAxis.colors=t.options.colors);var i=s(s(o,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn({type:"string",id:"Name"}),r.addColumn({type:"date",id:"Start"}),r.addColumn({type:"date",id:"End"}),r.addRows(t.data),t.chart=new e.visualization.Timeline(t.element),_(function(){t.chart.draw(r,i)})})}};I.push(V)}P={LineChart:function(t,e,n){O(this,t,e,n,C)},PieChart:function(t,e,n){O(this,t,e,n,F)},ColumnChart:function(t,e,n){O(this,t,e,n,x)},BarChart:function(t,e,n){O(this,t,e,n,E)},AreaChart:function(t,e,n){O(this,t,e,n,k)},GeoChart:function(t,e,n){O(this,t,e,n,$)},Timeline:function(t,e,n){O(this,t,e,n,S)},charts:{}},t.Chartkick=P}(window),function(){jQuery(function(){return $("body").prepend('<div id="fb-root"></div>'),$.ajax({url:""+window.location.protocol+"//connect.facebook.net/en_US/all.js",dataType:"script",cache:!0})}),window.fbAsyncInit=function(){return FB.init({appId:"415060768544968",cookie:!0,status:!0}),$("#sign_in").click(function(t){return t.preventDefault(),FB.login(function(t){return t.authResponse?window.location="/auth/facebook/callback":void 0},{scope:"email,publish_stream,manage_pages"})}),$("#sign_out").click(function(){return FB.getLoginStatus(function(t){return t.authResponse?FB.logout():void 0}),!0}),$("#sign_out").length>0?FB.getLoginStatus(function(t){return t.authResponse?void 0:window.location=$("#sign_out").attr("href")}):void 0}}.call(this),function(){var t,e,n,i,r,s,a,o,l,u,h,d,c,f,p,m,g,y,v,_,w,b,A,C,x,F,E,k,$,S,O,P,T,D,M,I,N,V,R,z,L,j,q,B,H,Y,W,U,K,G,Q,Z,J,X=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;
return-1},te={}.hasOwnProperty,ee=function(t,e){function n(){this.constructor=t}for(var i in e)te.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},ne=[].slice;P={},c=10,U=!1,y=null,S=null,V=null,g=null,Z=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},b=function(t){var e;return t=new n(t),q(),d(),U&&(e=K(t.absolute))?(A(e),C(t)):C(t,Y)},K=function(t){var e;return e=P[t],e&&!e.transitionCacheDisabled?e:void 0},v=function(t){return null==t&&(t=!0),U=t},C=function(t,e){return null==e&&(e=function(){return function(){}}(this)),G(i.FETCH,{url:t.absolute}),null!=Z&&Z.abort(),Z=new XMLHttpRequest,Z.open("GET",t.withoutHashForIE10compatibility(),!0),Z.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),Z.setRequestHeader("X-XHR-Referer",V),Z.onload=function(){var n;return G(i.RECEIVE,{url:t.absolute}),(n=I())?(R(t),f.apply(null,w(n)),O(),z(),e(),G(i.LOAD)):document.location.href=t.absolute},Z.onloadend=function(){return Z=null},Z.onerror=function(){return document.location.href=t.absolute},Z.send()},A=function(t){return null!=Z&&Z.abort(),f(t.title,t.body),N(t),G(i.RESTORE)},d=function(){var t;return t=new n(y.url),P[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(c)},D=function(t){return null==t&&(t=c),/^[\d]+$/.test(t)?c=parseInt(t):void 0},m=function(t){var e,n,r,s,a,o;for(r=Object.keys(P),e=r.map(function(t){return P[t].cachedAt}).sort(function(t,e){return e-t}),o=[],s=0,a=r.length;a>s;s++)n=r[s],P[n].cachedAt<=e[t]&&(G(i.EXPIRE,P[n]),o.push(delete P[n]));return o},f=function(e,n,r,s){return G(i.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(n,document.body),null!=r&&t.update(r),W(),s&&_(),y=window.history.state,G(i.CHANGE),G(i.UPDATE)},_=function(){var t,e,n,i,r,s,a,o,l,u,h,d;for(s=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,l=s.length;l>a;a++)if(r=s[a],""===(h=r.type)||"text/javascript"===h){for(e=document.createElement("script"),d=r.attributes,o=0,u=d.length;u>o;o++)t=d[o],e.setAttribute(t.name,t.value);r.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(e,n)}},B=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},W=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},R=function(t){return(t=new n(t)).absolute!==V?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},z=function(){var t,e;return(t=Z.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(y,"",t.href+e)):void 0},q=function(){return V=document.location.href},j=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},L=function(){return y=window.history.state},O=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new n).hasNoHash()?(window.history.replaceState(y,"",t.withoutHash()),document.location.hash=t.hash):void 0},N=function(t){return window.scrollTo(t.positionX,t.positionY)},Y=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},p=function(t){var e,n,i;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(n in t)i=t[n],e[n]=p(i);return e},M=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},G=function(t,e){var n;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},T=function(t){return!G(i.BEFORE_CHANGE,{url:t})},I=function(){var t,e,n,i,r,s;return e=function(){var t;return 400<=(t=Z.status)&&600>t},s=function(){var t;return null!=(t=Z.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(t){var e,n,i,r,s;for(r=t.querySelector("head").childNodes,s=[],n=0,i=r.length;i>n;n++)e=r[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&s.push(e.getAttribute("src")||e.getAttribute("href"));return s},t=function(t){var e;return S||(S=i(document)),e=i(t),e.length!==S.length||r(e,S).length!==S.length},r=function(t,e){var n,i,r,s,a;for(t.length>e.length&&(s=[e,t],t=s[0],e=s[1]),a=[],i=0,r=t.length;r>i;i++)n=t[i],X.call(e,n)>=0&&a.push(n);return a},!e()&&s()&&(n=g(Z.responseText),n&&!t(n))?n:void 0},w=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,B(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},s=function(){var t,e,n,i,r,s,a,o,l,u;i=function(t){return(new DOMParser).parseFromString(t,"text/html")},e=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},r=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e},n=function(t){var e,n,i,r,s,a;return i=(null!=(s=t.match(/<head[^>]*>([\s\S.]*)<\/head>/i))?s[0]:void 0)||"<head></head>",e=(null!=(a=t.match(/<body[^>]*>([\s\S.]*)<\/body>/i))?a[0]:void 0)||"<body></body>",r=document.createElement("html"),r.innerHTML=i+e,n=document.createDocumentFragment(),n.appendChild(r),n},t=function(t){var e,i,s;return e=function(t,e){return{passes:e(),fallback:t}},s=e(r,function(){return function(){var e,n;return 1===(null!=(e=t("<html><body><p>test"))&&null!=(n=e.body)?n.childNodes.length:void 0)}}(this)),i=e(n,function(){return function(){var e,n;return 2===(null!=(e=t("<html><body><form></form><div></div></body></html>"))&&null!=(n=e.body)?n.childNodes.length:void 0)}}(this)),[s,i]};try{if(window.DOMParser)return a=t(i),i}catch(h){return o=h,a=t(e),e}finally{for(l=0,u=a.length;u>l;l++)if(s=a[l],!s.passes)return s.fallback}},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),r=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return ee(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,i,r;for(n=1<=arguments.length?ne.call(arguments,0):[],i=0,r=n.length;r>i;i++)t=n[i],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._crossOrigin=function(){return this.origin!==(new n).origin},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(T(this.link.absolute)||Q(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new r(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),h=function(t){return setTimeout(t,500)},E=function(){return document.addEventListener("DOMContentLoaded",function(){return G(i.CHANGE),G(i.UPDATE)},!0)},$=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?G(i.UPDATE):void 0}):void 0},k=function(t){var e,i;return(null!=(i=t.state)?i.turbolinks:void 0)?(e=P[new n(t.state.url).absolute])?(d(),A(e)):Q(t.target.location.href):void 0},F=function(){return j(),L(),g=s(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(){return j(),L()},!1),h(function(){return window.addEventListener("popstate",k,!1)})},x=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&x,a=!navigator.userAgent.match(/CriOS\//),H="GET"===(J=M("request_method"))||""===J,u=l&&a&&H,o=document.addEventListener&&document.createEvent,o&&(E(),$()),u?(Q=b,F()):Q=function(t){return document.location.href=t},this.Turbolinks={visit:Q,pagesCached:D,enableTransitionCache:v,allowLinkExtensions:r.allowExtensions,supported:u,EVENTS:p(i)}}.call(this);