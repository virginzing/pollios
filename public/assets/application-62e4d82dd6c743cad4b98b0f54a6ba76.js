!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,a,s,o,u,l,d,c;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),u=o===e?null:o,l=i.data("with-credentials")||null,d=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),a=i.attr("action"),s=i.serializeArray();var h=i.data("ujs:submit-button");h&&(s.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),a=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",a=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),a=n.href(i),s=i.data("params")||null);c={type:r||"GET",data:s,dataType:d,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:u},l&&(c.xhrFields={withCredentials:l}),a&&(c.url=a);var f=n.ajax(c);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var r=n.href(i),a=i.data("method"),s=i.attr("target"),o=t("meta[name=csrf-token]").attr("content"),u=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+a+'" type="hidden" />';u!==e&&o!==e&&(d+='<input name="'+u+'" value="'+o+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(d).appendTo("body"),l.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,a,s=t(),o=n||"input,textarea",u=e.find(o);return u.each(function(){if(r=t(this),a=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!a==!i){if(r.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),a=r.data("method"),s=r.data("params"),o=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!o&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(o&&(!a||"GET"===a)&&!s)return!0;var u=n.handleRemote(r);return u===!1?n.enableElement(r):u.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),a=r.data("remote")!==e,s=n.blankInputs(r,n.requiredInputSelector),o=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(s&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(i);if(a){if(o){setTimeout(function(){n.disableFormElements(r)},13);var u=n.fire(r,"ajax:aborted:file",[o]);return u||setTimeout(function(){n.enableFormElements(r)},13),u}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),a=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),r=t("#"+t(n).data("blueprint-id")),a=r.data("blueprint"),s=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(s)for(var o=s.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],u=s.match(/[0-9]+/g)||[],l=0;l<o.length;l++)u[l]&&(a=a.replace(new RegExp("(_"+o[l]+")_.+?_","g"),"$1_"+u[l]+"_"),a=a.replace(new RegExp("(\\["+o[l]+"\\])\\[.+?\\]","g"),"$1["+u[l]+"]"));var d=new RegExp("new_"+i,"g"),c=this.newId();a=t.trim(a.replace(d,c));var h=this.insertFields(a,i,n);return h.trigger({type:"nested:fieldAdded",field:h}).trigger({type:"nested:fieldAdded:"+i,field:h}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var r=t(i).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),r=n.prev("input[type=hidden]");r.val("1");var a=n.closest(".fields");return a.hide(),a.trigger({type:"nested:fieldRemoved",field:a}).trigger({type:"nested:fieldRemoved:"+i,field:a}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),r=i.children(),a=0;a<r.length;++a){var s=t(r[a]);if(s.is(e))return s;n.push(s)}}return t()}}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=y[p.locale];return e?e[t]:y.en[t]}function r(t,n,i){t.stopPropagation(),t.preventDefault();var r=e.isFunction(i)&&i(t)===!1;r||n.modal("hide")}function a(t){var e,n=0;for(e in t)n++;return n}function s(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function o(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},p,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,n=t.buttons,i=a(n),s(n,function(t,r,a){if(e.isFunction(r)&&(r=n[t]={callback:r}),"object"!==e.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t),r.className||(r.className=2>=i&&a===i-1?"btn-primary":"btn-default")}),t}function u(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function l(t,n,i){return e.extend(!0,{},t,u(n,i))}function d(t,e,n,i){var r={className:"bootbox-"+t,buttons:c.apply(null,e)};return h(l(r,i,n),e)}function c(){for(var t={},e=0,n=arguments.length;n>e;e++){var r=arguments[e],a=r.toLowerCase(),s=r.toUpperCase();t[a]={label:i(s)}}return t}function h(t,e){var i={};return s(e,function(t,e){i[e]=!0}),s(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=d("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},m.dialog(t)},m.confirm=function(){var t;if(t=d("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,r,a,o,u,d;a=e(f.form),i={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},t=h(l(i,arguments,["title","callback"]),["cancel","confirm"]),u=t.show===n?!0:t.show;var p=["date","time","number"],y=document.createElement("input");if(y.setAttribute("type",t.inputType),p[t.inputType]&&(t.inputType=y.type),t.message=a,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var i=o.find("input:checked");n=[],s(i,function(t,i){n.push(e(i).val())})}return t.callback(n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(o=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(t.value);break;case"select":var v={};if(d=t.inputOptions||[],!d.length)throw new Error("prompt with select requires options");s(d,function(t,i){var r=o;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(v[i.group]||(v[i.group]=e("<optgroup/>").attr("label",i.group)),r=v[i.group]),r.append("<option value='"+i.value+"'>"+i.text+"</option>")}),s(v,function(t,e){o.append(e)}),o.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(d=t.inputOptions||[],!d.length)throw new Error("prompt with checkbox requires options");if(!d[0].value||!d[0].text)throw new Error("given options in wrong format");o=e("<div/>"),s(d,function(n,i){var r=e(f.inputs[t.inputType]);r.find("input").attr("value",i.value),r.find("label").append(i.text),s(g,function(t,e){e===i.value&&r.find("input").prop("checked",!0)}),o.append(r)})}return t.placeholder&&o.attr("placeholder",t.placeholder),t.pattern&&o.attr("pattern",t.pattern),a.append(o),a.on("submit",function(t){t.preventDefault(),r.find(".btn-primary").click()}),r=m.dialog(t),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){o.focus()}),u===!0&&r.modal("show"),r},m.dialog=function(t){t=o(t);var n=e(f.dialog),i=n.find(".modal-body"),a=t.buttons,u="",l={onEscape:t.onEscape};if(s(a,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",l[t]=e.callback}),i.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),t.title&&i.before(f.header),t.closeButton){var d=e(f.closeButton);t.title?n.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(i)}return t.title&&n.find(".modal-title").html(t.title),u.length&&(i.after(f.footer),n.find(".modal-footer").html(u)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){l.onEscape&&r(t,n,l.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");r(t,n,l[i])}),n.on("click",".bootbox-close-button",function(t){r(t,n,l.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},m.hideAll=function(){e(".bootbox").modal("hide")};var y={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return m.init=function(n){return t(n||e)},m}),$(document).ready(function(){function t(t,e){bootbox.confirm(t,function(t){t&&e()})}$.rails.allowAction=function(e){var n,i=e.data("confirm"),r=!1;return i?($.rails.fire(e,"confirm")&&t(i,function(){if(n=$.rails.fire(e,"confirm:complete",[r])){var t=$.rails.allowAction;$.rails.allowAction=function(){return!0},e.trigger("click"),$.rails.allowAction=t}}),!1):!0}}),function(t){function e(t,e){return function(n){return u(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function i(){}function r(t){s(this,t)}function a(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,a=t.hours||t.hour||t.h||0,s=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=+u+1e3*o+6e4*s+36e5*a,this._days=+r+7*i,this._months=+n+12*e,this._data={},this._bubble()}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function u(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function l(t,e,n,i){var r,a,s=e._milliseconds,o=e._days,u=e._months;s&&t._d.setTime(+t._d+s*n),(o||u)&&(r=t.minute(),a=t.hour()),o&&t.date(t.date()+o*n),u&&t.month(t.month()+u*n),s&&!i&&j.updateOffset(t),(o||u)&&(t.minute(r),t.hour(a))}function d(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(n=0;i>n;n++)~~t[n]!==~~e[n]&&a++;return a+r}function h(t){return t?ue[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function f(t,e){return e.abbr=t,I[t]||(I[t]=new i),I[t].set(e),I[t]}function p(t){delete I[t]}function m(t){if(!t)return j.fn._lang;if(!I[t]&&V)try{require("./lang/"+t)}catch(e){return j.fn._lang}return I[t]||j.fn._lang}function y(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function v(t){var e,n,i=t.match(W);for(e=0,n=i.length;n>e;e++)i[e]=he[i[e]]?he[i[e]]:y(i[e]);return function(r){var a="";for(e=0;n>e;e++)a+=i[e]instanceof Function?i[e].call(r,t):i[e];return a}}function g(t,e){return e=_(e,t.lang()),le[e]||(le[e]=v(e)),le[e](t)}function _(t,e){function n(t){return e.longDateFormat(t)||t}for(var i=5;i--&&(U.lastIndex=0,U.test(t));)t=t.replace(U,n);return t}function w(t,e){switch(t){case"DDDD":return G;case"YYYY":return Z;case"YYYYY":return X;case"S":case"SS":case"SSS":case"DDD":return B;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Q;case"a":case"A":return m(e._l)._meridiemParse;case"X":return ee;case"Z":case"ZZ":return J;case"T":return te;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return K;default:return new RegExp(t.replace("\\",""))}}function b(t){var e=(J.exec(t)||[])[0],n=(e+"").match(ae)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function C(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":null!=e&&(r[1]=~~e-1);break;case"MMM":case"MMMM":i=m(n._l).monthsParse(e),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":null!=e&&(r[2]=~~e);break;case"DDD":case"DDDD":null!=e&&(r[1]=0,r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=m(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(e)}null==e&&(n._isValid=!1)}function x(t){var e,n,i,r=[];if(!t._d){for(i=k(t),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];r[3]+=~~((t._tzm||0)/60),r[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),t._d=n}}function F(t){var e=t._i;t._d||(t._a=[e.years||e.year||e.y,e.months||e.month||e.M,e.days||e.day||e.d,e.hours||e.hour||e.h,e.minutes||e.minute||e.m,e.seconds||e.second||e.s,e.milliseconds||e.millisecond||e.ms],x(t))}function k(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function E(t){var e,n,i,r=m(t._l),a=""+t._i;for(i=_(t._f,r).match(W),t._a=[],e=0;e<i.length;e++)n=(w(i[e],t).exec(a)||[])[0],n&&(a=a.slice(a.indexOf(n)+n.length)),he[i[e]]&&C(i[e],n,t);a&&(t._il=a),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),x(t)}function O(t){var e,n,i,a,o,u=99;for(a=0;a<t._f.length;a++)e=s({},t),e._f=t._f[a],E(e),n=new r(e),o=c(e._a,n.toArray()),n._il&&(o+=n._il.length),u>o&&(u=o,i=n);s(t,i)}function T(t){var e,n=t._i,i=ne.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;4>e;e++)if(re[e][1].exec(n)){t._f+=re[e][0];break}J.exec(n)&&(t._f+=" Z"),E(t)}else t._d=new Date(n)}function M(e){var n=e._i,i=q.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?T(e):d(n)?(e._a=n.slice(0),x(e)):n instanceof Date?e._d=new Date(+n):"object"==typeof n?F(e):e._d=new Date(n)}function S(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function A(t,e,n){var i=Y(Math.abs(t)/1e3),r=Y(i/60),a=Y(r/60),s=Y(a/24),o=Y(s/365),u=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===a&&["h"]||22>a&&["hh",a]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",Y(s/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,S.apply({},u)}function D(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),r-7>a&&(a+=7),i=j(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function P(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=m().preparse(e)),j.isMoment(e)?(t=s({},e),t._d=new Date(+e._d)):n?d(n)?O(t):E(t):M(t),new r(t))}function z(t,e){j.fn[t]=j.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),j.updateOffset(this),this):this._d["get"+n+e]()}}function $(t){j.duration.fn[t]=function(){return this._data[t]}}function N(t,e){j.duration.fn["as"+t]=function(){return+this/e}}for(var j,L,R="2.2.1",Y=Math.round,I={},V="undefined"!=typeof module&&module.exports,q=/^\/?Date\((\-?\d+)/i,H=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,W=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,K=/\d\d?/,B=/\d{1,3}/,G=/\d{3}/,Z=/\d{1,4}/,X=/[+\-]?\d{1,6}/,Q=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J=/Z|[\+\-]\d\d:?\d\d/i,te=/T/i,ee=/[\+\-]?\d+(\.\d{1,3})?/,ne=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ie="YYYY-MM-DDTHH:mm:ssZ",re=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ae=/([\+\-]|\d\d)/gi,se="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),oe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},le={},de="DDD w W M D d".split(" "),ce="M D H h m s w W".split(" "),he={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};de.length;)L=de.pop(),he[L+"o"]=n(he[L],L);for(;ce.length;)L=ce.pop(),he[L+L]=e(he[L],2);for(he.DDDD=e(he.DDD,3),s(i.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=j.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=j([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return D(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),j=function(t,e,n){return P({_i:t,_f:e,_l:n,_isUTC:!1})},j.utc=function(t,e,n){return P({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e}).utc()},j.unix=function(t){return j(1e3*t)},j.duration=function(t,e){var n,i,r=j.isDuration(t),s="number"==typeof t,o=r?t._input:s?{}:t,u=H.exec(t);return s?e?o[e]=t:o.milliseconds=t:u&&(n="-"===u[1]?-1:1,o={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new a(o),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},j.version=R,j.defaultFormat=ie,j.updateOffset=function(){},j.lang=function(t,e){return t?(t=t.toLowerCase(),t=t.replace("_","-"),e?f(t,e):null===e?(p(t),t="en"):I[t]||m(t),void(j.duration.fn._lang=j.fn._lang=m(t))):j.fn._lang._abbr},j.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),m(t)},j.isMoment=function(t){return t instanceof r},j.isDuration=function(t){return t instanceof a},s(j.fn=r.prototype,{clone:function(){return j(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return g(j(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?j.utc(this._a):j(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var t,e=this._a,n=(this._isUTC?j.utc(this._a):j(this._a)).toArray();for(t=6;t>=0&&e[t]===n[t];--t);return t},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=g(this,t||j.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?j.duration(+e,t):j.duration(t,e),l(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?j.duration(+e,t):j.duration(t,e),l(this,n,-1),this},diff:function(t,e,n){var i,r,a=this._isUTC?j(t).zone(this._offset||0):j(t).local(),s=6e4*(this.zone()-a.zone());return e=h(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-j(this).startOf("month")-(a-j(a).startOf("month")))/i,r-=6e4*(this.zone()-j(this).startOf("month").zone()-(a.zone()-j(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:o(r)},from:function(t,e){return j.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(j(),t)},calendar:function(){var t=this.diff(j().zone(this.zone()).startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),j.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=h(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoweek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=h(t),this.startOf(t).add("isoweek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+j(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+j(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+j(t).startOf(e)
},min:function(t){return t=j.apply(null,arguments),this>t?this:t},max:function(t){return t=j.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=b(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&l(this,j.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(t){return t=t?j(t).zone():0,0===(this.zone()-t)%60},daysInMonth:function(){return j.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=Y((j(this).startOf("day")-j(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=D(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=D(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=D(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=h(t),this[t.toLowerCase()]()},set:function(t,e){t=h(t),this[t.toLowerCase()](e)},lang:function(e){return e===t?this._lang:(this._lang=m(e),this)}}),L=0;L<se.length;L++)z(se[L].toLowerCase().replace(/s$/,""),se[L]);z("year","FullYear"),j.fn.days=j.fn.day,j.fn.months=j.fn.month,j.fn.weeks=j.fn.week,j.fn.isoWeeks=j.fn.isoWeek,j.fn.toJSON=j.fn.toISOString,s(j.duration.fn=a.prototype,{_bubble:function(){var t,e,n,i,r=this._milliseconds,a=this._days,s=this._months,u=this._data;u.milliseconds=r%1e3,t=o(r/1e3),u.seconds=t%60,e=o(t/60),u.minutes=e%60,n=o(e/60),u.hours=n%24,a+=o(n/24),u.days=a%30,s+=o(a/30),u.months=s%12,i=o(s/12),u.years=i},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=A(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=j.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=j.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=h(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=h(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:j.fn.lang});for(L in oe)oe.hasOwnProperty(L)&&(N(L,oe[L]),$(L.toLowerCase()));N("Weeks",6048e5),j.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},j.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),V&&(module.exports=j),"undefined"==typeof ender&&(this.moment=j),"function"==typeof define&&define.amd&&define("moment",[],function(){return j})}.call(this),function(t,e){var n=1e3,i=!1,r=t([]),a=function(n,i){var a=n.data("livestampdata");"number"==typeof i&&(i*=1e3),n.removeAttr("data-livestamp").removeData("livestamp"),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(a=t.extend({},{original:n.contents()},a),a.moment=e(i),n.data("livestampdata",a).empty(),r.push(n[0]))},s=function(){i||(o.update(),setTimeout(s,n))},o={update:function(){t("[data-livestamp]").each(function(){var e=t(this);a(e,e.data("livestamp"))});var n=[];r.each(function(){var i=t(this),r=i.data("livestampdata");if(void 0===r)n.push(this);else if(e.isMoment(r.moment)){var a=i.html(),r=r.moment.fromNow();if(a!=r){var s=t.Event("change.livestamp");i.trigger(s,[a,r]),s.isDefaultPrevented()||i.html(r)}}}),r=r.not(n)},pause:function(){i=!0},resume:function(){i=!1,s()},interval:function(t){return void 0===t?n:void(n=t)}},u={add:function(n,i){return"number"==typeof i&&(i*=1e3),i=e(i),e.isMoment(i)&&!isNaN(+i)&&(n.each(function(){a(t(this),i)}),o.update()),n},destroy:function(e){return r=r.not(e),e.each(function(){var n=t(this),i=n.data("livestampdata");return void 0===i?e:void n.html(i.original?i.original:"").removeData("livestampdata")}),e},isLivestamp:function(t){return void 0!==t.data("livestampdata")}};t.livestamp=o,t(function(){o.resume()}),t.fn.livestamp=function(t,e){return u[t]||(e=t,t="add"),u[t](this,e)}}(jQuery,moment),!function(t){var e={attr:function(t,e,n){var i,r={},a=new RegExp("^"+e,"i");if("undefined"==typeof t||"undefined"==typeof t[0])return{};for(var s in t[0].attributes)if(i=t[0].attributes[s],"undefined"!=typeof i&&null!==i&&i.specified&&a.test(i.name)){if("undefined"!=typeof n&&new RegExp(n+"$","i").test(i.name))return!0;r[this.camelize(i.name.replace(e,""))]=this.deserializeValue(i.value)}return"undefined"==typeof n?r:!1},setAttr:function(t,e,n,i){t[0].setAttribute(this.dasherize(e+n),String(i))},get:function(t,e){for(var n=0,i=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[i[n++]],n===i.length)return t;return void 0},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(e){var n;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}},n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,n){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,n])},subscribe:function(e,n){return t.listenTo(this,e.toLowerCase(),n),this},unsubscribe:function(e){return t.unsubscribeTo(this,e.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return t.emit("parsley:field:reset",this);for(var e=0;e<this.fields.length;e++)t.emit("parsley:field:reset",this.fields[e]);t.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void t.emit("parsley:field:destroy",this);for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),t.emit("parsley:form:destroy",this)}},function(t){var e=function(t){return this.__class__="Validator",this.__version__="0.5.8",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};e.prototype={constructor:e,validate:function(t,e,n){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||s(t)?this._validateString(t,e,n):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,n)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new n(e),this},unbind:function(t){return"undefined"==typeof t._validatorjsConstraint?this:(delete t[this.bindingKey],this)},isBinded:function(t){return"undefined"!=typeof t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,n){var a,o=[];s(e)||(e=[e]);for(var u=0;u<e.length;u++){if(!(e[u]instanceof r))throw new Error("You must give an Assert or an Asserts array to validate a string");a=e[u].check(t,n),a instanceof i&&o.push(a)}return o.length?o:!0},_validateObject:function(t,e,i){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof n?e.check(t,i):new n(e).check(t,i)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},e.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(t,e){if(this.__class__="Constraint",this.options=e||{},this.nodes={},t)try{this._bootstrap(t)}catch(n){throw new Error("Should give a valid mapping object to Constraint",n,t)}return this};n.prototype={constructor:n,check:function(t,e){var n,i={};for(var o in this.options.strict?this.nodes:t)if(this.options.strict?this.has(o,t):this.has(o))n=this._check(o,t[o],e),(s(n)&&n.length>0||!s(n)&&!a(n))&&(i[o]=n);else if(this.options.strict)try{(new r).HaveProperty(o).validate(t)}catch(u){i[o]=u}return a(i)?!0:i},add:function(t,e){if(e instanceof r||s(e)&&e[0]instanceof r)return this.nodes[t]=e,this;if("object"==typeof e&&!s(e))return this.nodes[t]=e instanceof n?e:new n(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return e="undefined"!=typeof e?e:this.nodes,"undefined"!=typeof e[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var n in this.nodes)n!==t&&(e[n]=this.nodes[n]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof n)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,i){if(this.nodes[t]instanceof r)return this._checkAsserts(e,[this.nodes[t]],i);if(s(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],i);if(this.nodes[t]instanceof n)return this.nodes[t].check(e,i);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,n){for(var i,r=[],a=0;a<e.length;a++)i=e[a].check(t,n),"undefined"!=typeof i&&!0!==i&&r.push(i);return r}};var i=function(t,e,n){if(this.__class__="Violation",!(t instanceof r))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,"undefined"!=typeof n&&(this.violation=n)};i.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var r=function(t){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof t&&this.addGroup(t),this};r.prototype={construct:r,check:function(t,e){if(!(e&&!this.hasGroup(e)||!e&&this.hasGroups()))try{return this.validate(t,e)}catch(n){return n}},hasGroup:function(t){return s(t)?this.hasOneOf(t):"Any"===t?!0:this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(t){return s(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],n=0;n<this.groups.length;n++)t!==this.groups[n]&&e.push(this.groups[n]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if("undefined"==typeof t[this.node])throw new i(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new i(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!s(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,n=0;n<e.length;n++)if(t===e[n])return!0;throw new i(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint="undefined"!=typeof t?new n(t):!1,this.validate=function(t,n){var r,o=new e,u=0,l={},d=this.groups.length?this.groups:n;if(!s(t))throw new i(this,array,{value:e.errorCode.must_be_an_array});for(var c=0;c<t.length;c++)r=this.constraint?o.validate(t[c],this.constraint,d):o.validate(t[c],d),a(r)||(l[u]=r),u++;return a(l)?!0:l},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!s(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});var n="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(n)))throw new Error("Count must be a valid interger",n);if(n!==t.length)throw new i(this,t,{count:n});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Eql:function(t){if(this.__class__="Eql","undefined"==typeof t)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=t,this.validate=function(t){var e="function"==typeof this.eql?this.eql(t):this.eql;if(!o.eql(e,t))throw new i(this,t,{eql:e});return!0},this},EqualTo:function(t){if(this.__class__="EqualTo","undefined"==typeof t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new i(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>=t)throw new i(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>t)throw new i(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf","undefined"==typeof t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new i(this,t,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(t){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!s(t))throw new i(this,t,{value:e.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&t.length!==this.min)throw new i(this,t,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&t.length>this.max)throw new i(this,t,{max:this.max});if("undefined"!=typeof this.min&&t.length<this.min)throw new i(this,t,{min:this.min});return!0},this},LessThan:function(t){if(this.__class__="LessThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<=t)throw new i(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new i(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<t)throw new i(this,t,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(t){var n=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!n.test(t))throw new i(this,t);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null===t||"undefined"==typeof t)throw new i(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new i(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new i(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range","undefined"==typeof t||"undefined"==typeof e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(t){try{return"string"==typeof t&&isNaN(Number(t))||s(t)?(new r).Length({min:this.min,max:this.max}).validate(t):(new r).GreaterThanOrEqual(this.min).validate(t)&&(new r).LessThanOrEqual(this.max).validate(t),!0}catch(e){throw new i(this,t,e.violation)}return!0},this},Regexp:function(t,n){if(this.__class__="Regexp","undefined"==typeof t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=n||"",this.validate=function(t){if("string"!=typeof t)throw new i(this,t,{value:e.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new i(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(t){if("undefined"==typeof t)throw new i(this,t);try{"string"==typeof t?(new r).NotNull().validate(t)&&(new r).NotBlank().validate(t):!0===s(t)&&(new r).Length({min:1}).validate(t)}catch(e){throw new i(this,t)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var n,r=[];if(!s(t))throw new i(this,t,{value:e.errorCode.must_be_an_array});for(var a=0;a<t.length;a++)if(n="object"==typeof t[a]?t[a][this.key]:t[a],"undefined"!=typeof n){if(-1!==r.indexOf(n))throw new i(this,t,{value:n});r.push(n)}return!0},this}},t.Assert=r,t.Validator=e,t.Violation=i,t.Constraint=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1});var a=function(t){for(var e in t)return!1;return!0},s=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o={eql:function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:this.objEquiv(t,e)},isUndefinedOrNull:function(t){return null===t||"undefined"==typeof t},isArguments:function(t){return"[object Arguments]"==Object.prototype.toString.call(t)},keys:function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},objEquiv:function(t,e){if(this.isUndefinedOrNull(t)||this.isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(this.isArguments(t))return this.isArguments(e)?eql(pSlice.call(t),pSlice.call(e)):!1;try{var n,i,r=this.keys(t),a=this.keys(e);if(r.length!==a.length)return!1;for(r.sort(),a.sort(),i=r.length-1;i>=0;i--)if(r[i]!=a[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!this.eql(t[n],e[n]))return!1;return!0}catch(s){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return t})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var r=function(t,e){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(t||{},e||{})};r.prototype={init:function(e,n){this.catalog=n;for(var i in e)this.addValidator(i,e[i].fn,e[i].priority);t.emit("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return void 0===typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=n,this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(e,n,i){return this.validators[e.toLowerCase()]=function(e){return t.extend((new Validator.Assert).Callback(n,e),{priority:i})},this},updateValidator:function(t,e,n){return addValidator(t,e,n)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements),""!==e?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:function(){return t.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return t.extend((new Validator.Assert).Required(),{priority:512})},type:function(e){var n;switch(e){case"email":n=(new Validator.Assert).Email();break;case"number":n=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":n=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":n=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":n=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":n=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+e+"` is not supported")}return t.extend(n,{priority:256})},pattern:function(e){var n="";return/^\/.*\/(?:[gimy]*)$/.test(e)&&(n=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+n+"$"),"$1")),t.extend((new Validator.Assert).Regexp(e,n),{priority:64})},minlength:function(e){return t.extend((new Validator.Assert).Length({min:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},maxlength:function(e){return t.extend((new Validator.Assert).Length({max:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},length:function(e){return t.extend((new Validator.Assert).Length({min:e[0],max:e[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(e){return t.extend((new Validator.Assert).GreaterThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},max:function(e){return t.extend((new Validator.Assert).LessThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},range:function(e){return t.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(e){return t.extend((new Validator.Assert).EqualTo(e),{priority:256,requirementsTransformer:function(){return t(e).length?t(e).val():e}})}}};var a=function(){this.__class__="ParsleyUI"};a.prototype={listen:function(){return t.listen("parsley:form:init",this,this.setupForm),t.listen("parsley:field:init",this,this.setupField),t.listen("parsley:field:validated",this,this.reflow),t.listen("parsley:form:validated",this,this.focus),t.listen("parsley:field:reset",this,this.reset),t.listen("parsley:form:destroy",this,this.destroy),t.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&"undefined"==typeof t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],n=0;n<t.validationResult.length;n++)e.push(this._getErrorMessage(t,t.validationResult[n].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,n){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return n.added.length||n.kept.length?(0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<n.removed.length;i++)this.removeError(e,n.removed[i].assert.name,!0);for(i=0;i<n.added.length;i++)this.addError(e,n.added[i].assert.name,void 0,n.added[i].assert,!0);for(i=0;i<n.kept.length;i++)this.updateError(e,n.kept[i].assert.name,void 0,n.kept[i].assert,!0)}},addError:function(e,n,i,r,a){e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+n).html(i||this._getErrorMessage(e,r))),!0!==a&&this._errorClass(e)},updateError:function(t,e,n,i,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(t,i)),!0!==r&&this._errorClass(t)},removeError:function(t,e,n){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==n&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&t.fields[e].validationResult.length>0&&"undefined"==typeof t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var n=e.name+"Message";return"undefined"!=typeof t.options[n]?window.ParsleyValidator.formatMessage(t.options[n],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,n){for(var i=[],r=[],a=0;a<t.length;a++){for(var s=!1,o=0;o<e.length;o++)if(t[a].assert.name===e[o].assert.name){s=!0;break}s?r.push(t[a]):i.push(t[a])}return{kept:r,added:i,removed:n?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var n={active:!1};!1!==e.options.uiEnabled&&(n.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),n.$errorClassHandler=this._manageClassHandler(e),n.errorsWrapperId="parsley-id-"+("undefined"!=typeof e.options.multiple?"multiple-"+e.options.multiple:e.__id__),n.$errorsWrapper=t(e.options.errorsWrapper).attr("id",n.errorsWrapperId),n.lastValidationResult=[],n.validatedOnce=!1,n.validationInformationVisible=!1,e._ui=n,this._insertErrorWrapper(e),this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);var n=e.options.classHandler(e);return"undefined"!=typeof n&&n.length?n:"undefined"==typeof e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var n;if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer+"").length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}return"function"==typeof e.options.errorsContainer&&(n=e.options.errorsContainer(e)),"undefined"!=typeof n&&n.length?n.append(e._ui.$errorsWrapper):"undefined"==typeof e.options.multiple?e.$element.after(e._ui.$errorsWrapper):e.$element.parent().after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var n=this;if(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).off(".Parsley")}):e.$element.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(e.options.multiple?t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){t(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:n.eventValidate,e))}):e.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.children().each(function(){t(this).remove()}),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)
},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var s=function(n,i,r,a){this.__class__="OptionsFactory",this.__id__=e.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=t.extend(!0,{},n,i,r,{namespace:a})};s.prototype={get:function(t){if("undefined"==typeof t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(n){return this.formOptions=e.attr(n.$element,this.staticOptions.namespace),t.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(n){return this.fieldOptions=e.attr(n.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof n.parent&&(this.formOptions=this.getFormOptions(n.parent)),t.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var o=function(n,i){if(this.__class__="ParsleyForm",this.__id__=e.hash(4),"OptionsFactory"!==e.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=t(n),this.validationResult=null,this.options=this.OptionsFactory.get(this)};o.prototype={onSubmitValidate:function(e){return this.validate(void 0,void 0,e),!1===this.validationResult&&e instanceof t.Event&&(e.stopImmediatePropagation(),e.preventDefault()),this},validate:function(e,n,i){this.submitEvent=i,this.validationResult=!0;var r=[];this._refreshFields(),t.emit("parsley:form:validate",this);for(var a=0;a<this.fields.length;a++)e&&e!==this.fields[a].options.group||(r=this.fields[a].validate(n),!0!==r&&r.length>0&&this.validationResult&&(this.validationResult=!1));return t.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var n=0;n<this.fields.length;n++)if((!t||t===this.fields[n].options.group)&&!1===this.fields[n].isValid(e))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var e=new window.Parsley(this,{},t);"ParsleyField"!==e.__class__&&"ParsleyFieldMultiple"!==e.__class__||e.$element.is(e.options.excluded)||"undefined"==typeof t.fieldsMappedById[e.__class__+"-"+e.__id__]&&(t.fieldsMappedById[e.__class__+"-"+e.__id__]=e,t.fields.push(e))}),this}};var u=function(n,i,r,a,s){if(!new RegExp("ParsleyField").test(e.get(n,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](r).__parentClass__)throw new Error("Valid validator expected");var o=function(t,n){return"undefined"!=typeof t.options[n+"Priority"]?t.options[n+"Priority"]:e.get(window.ParsleyValidator.validators[n](r),"priority")||2};return a=a||o(n,i),"function"==typeof window.ParsleyValidator.validators[i](r).requirementsTransformer&&(r=window.ParsleyValidator.validators[i](r).requirementsTransformer()),t.extend(window.ParsleyValidator.validators[i](r),{name:i,requirements:r,priority:a,groups:[a],isDomConstraint:s||e.attr(n.$element,n.options.namespace,i)})},l=function(n,i,r){this.__class__="ParsleyField",this.__id__=e.hash(4),this.$element=t(n),"undefined"!=typeof r?(this.parent=r,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};l.prototype={validate:function(e){return this.value=this.getValue(),t.emit("parsley:field:validate",this),t.emit("parsley:field:"+(this.isValid(e,this.value)?"success":"error"),this),t.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var n=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var i=0;i<n.length;i++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,n[i])))return!1;return!0},getValue:function(){var t;return t="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var r=new u(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);this.constraints=t;for(var n in this.options)this.addConstraint(n,this.options[n]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var d=function(){this.__class__="ParsleyFieldMultiple"};d.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++){t=this.$elements[e].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<t.length;n++)this.addConstraint(t[n].name,t[n].requirements,t[n].priority,t[n].isDomConstraint)}return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return t("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){e.push(t(this).val())}),e.length?e:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var c=t({}),h={};t.listen=function(t){if("undefined"==typeof h[t]&&(h[t]=[]),"function"==typeof arguments[1])return h[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return h[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},t.listenTo=function(t,e,n){if("undefined"==typeof h[e]&&(h[e]=[]),!(t instanceof l||t instanceof o))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof n)throw new Error("Wrong parameters");h[e].push({instance:t,fn:n})},t.unsubscribe=function(t,e){if("undefined"!=typeof h[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var n=0;n<h[t].length;n++)if(h[t][n].fn===e)return h[t].splice(n,1)}},t.unsubscribeTo=function(t,e){if("undefined"!=typeof h[e]){if(!(t instanceof l||t instanceof o))throw new Error("Must give Parsley instance");for(var n=0;n<h[e].length;n++)if("undefined"!=typeof h[e][n].instance&&h[e][n].instance.__id__===t.__id__)return h[e].splice(n,1)}},t.unsubscribeAll=function(t){"undefined"!=typeof h[t]&&delete h[t]},t.emit=function(t,e){if("undefined"!=typeof h[t])for(var n=0;n<h[t].length;n++)if("undefined"!=typeof h[t][n].instance){if(e instanceof l||e instanceof o)if(h[t][n].instance.__id__!==e.__id__){if(h[t][n].instance instanceof o&&e instanceof l)for(var i=0;i<h[t][n].instance.fields.length;i++)if(h[t][n].instance.fields[i].__id__===e.__id__){h[t][n].fn.apply(c,Array.prototype.slice.call(arguments,1));continue}}else h[t][n].fn.apply(c,Array.prototype.slice.call(arguments,1))}else h[t][n].fn.apply("undefined"!=typeof h[t][n].ctxt?h[t][n].ctxt:c,Array.prototype.slice.call(arguments,1))},t.subscribed=function(){return h},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=t.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var f=function(n,i,r){if(this.__class__="Parsley",this.__version__="2.0.0",this.__id__=e.hash(4),"undefined"==typeof n)throw new Error("You must give an element");if("undefined"!=typeof r&&"ParsleyForm"!==r.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(t(n),i,r)};f.prototype={init:function(t,i,r){if(!t.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=t,this.$element.data("Parsley")){var a=this.$element.data("Parsley");return"undefined"!=typeof r&&(a.parent=r),a}return this.OptionsFactory=new s(n,e.get(window,"ParsleyConfig")||{},i,this.getNamespace(i)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||e.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(r):this.bind("parsleyField",r):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(n){var i,r,a,s=this;if(this.options=t.extend(this.options,n?n.OptionsFactory.get(n):{},e.attr(this.$element,this.options.namespace)),this.options.multiple?r=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?r=i=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(r=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",n,r||this.__id__);if("undefined"==typeof r)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(r=r.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof i&&t('input[name="'+i+'"]').each(function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(s.options.namespace+"multiple",r)}),t("["+this.options.namespace+"multiple="+r+"]").length)for(var o=0;o<t("["+this.options.namespace+"multiple="+r+"]").length;o++)if("undefined"!=typeof t(t("["+this.options.namespace+"multiple="+r+"]").get(o)).data("Parsley")){a=t(t("["+this.options.namespace+"multiple="+r+"]").get(o)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(a.addElement(this.$element),this.$element.attr(this.options.namespace+"id",a.__id__));break}return this.bind("parsleyField",n,r,!0),a||this.bind("parsleyFieldMultiple",n,r)},getNamespace:function(t){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof e.get(t,"namespace")?t.namespace:"undefined"!=typeof e.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:n.namespace},bind:function(n,r,a,s){var u;switch(n){case"parsleyForm":u=t.extend(new o(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":u=t.extend(new l(this.$element,this.OptionsFactory,r),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":u=t.extend(new l(this.$element,this.OptionsFactory,r),new i,new d,window.ParsleyExtend)._init(a);break;default:throw new Error(n+"is not a supported Parsley type")}return"undefined"!=typeof a&&e.setAttr(this.$element,this.options.namespace,"multiple",a),"undefined"!=typeof s?(this.$element.data("ParsleyFieldMultiple",u),u):(new RegExp("ParsleyF","i").test(u.__class__)&&(this.$element.data("Parsley",u),t.emit("parsley:"+("parsleyForm"===n?"form":"field")+":init",u)),u)}},t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new f(this,e):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof e.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new a).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=f,window.ParsleyUtils=e,window.ParsleyValidator=new r(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==e.get(window,"ParsleyConfig.autoBind")&&t(document).ready(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()}),"function"==typeof define&&define.amd&&define("parsley",function(){return window.Parsley})}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e={className:"",text:"Drop a file",previewImage:!0,value:null,classes:{main:"ezdz-dropzone",enter:"ezdz-enter",reject:"ezdz-reject",accept:"ezdz-accept",focus:"ezdz-focus"},validators:{maxSize:null,width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},init:function(){},enter:function(){},leave:function(){},reject:function(){},accept:function(){},format:function(t){return t}};t.ezdz=function(n,i){this.settings=t.extend(!0,{},e,t.ezdz.defaults,i),this.$input=t(n);var r=this,a=r.settings,s=r.$input;if(s.is('input[type="file"]')&&t.ezdz.isBrowserCompatible()){var o=function(){var e,n,i;n=t('<div class="'+a.classes.main+'" />').on("dragover.ezdz",function(){t(this).addClass(a.classes.enter),t.isFunction(a.enter)&&a.enter.apply(this)}).on("dragleave.ezdz",function(){t(this).removeClass(a.classes.enter),t.isFunction(a.leaved)&&a.leaved.apply(this)}).addClass(a.className),s.wrap(n).before("<div>"+a.text+"</div>"),e=s.parent("."+a.classes.main),i=a.value||s.data("value"),i&&r.preview(i),t.isFunction(a.init)&&a.init.apply(s,[i]),s.on("focus.ezdz",function(){e.addClass(a.classes.focus)}).on("blur.ezdz",function(){e.removeClass(a.classes.focus)}).on("change.ezdz",function(){var n=this.files[0];if(n){var i=n.name.replace(/\\/g,"/").replace(/.*\//,""),r=n.name.split(".").pop(),o=a.format(i);n.extension=r;var u=s.attr("accept"),l=!1;if(valid=!0,errors={mimeType:!1,maxSize:!1,width:!1,minWidth:!1,maxWidth:!1,height:!1,minHeight:!1,maxHeight:!1},u){var d=u.split(/[,|]/);t.each(d,function(e,i){if(i=t.trim(i),n.type==i)return l=!0,!1;if(i.indexOf("/*")!==!1){var r=i.replace("/*",""),a=n.type.replace(/(\/.*)$/g,"");if(r===a)return l=!0,!1}}),l===!1&&(errors.mimeType=!0)}else l=!0;if(e.removeClass(a.classes.reject+" "+a.classes.accept),l!==!0)return s.val(""),e.addClass(a.classes.reject),t.isFunction(a.reject)&&a.reject.apply(s,[n,errors]),!1;var c=new FileReader(n);c.readAsDataURL(n),c.onload=function(i){var r,u=new Image;n.data=i.target.result,u.src=n.data,setTimeout(function(){r=u.width&&u.height,a.validators.maxSize&&n.size>a.validators.maxSize&&(valid=!1,errors.maxSize=!0),r&&(n.width=u.width,n.height=u.height,a.validators.width&&u.width!=a.validators.width&&(valid=!1,errors.width=!0),a.validators.maxWidth&&u.width>a.validators.maxWidth&&(valid=!1,errors.maxWidth=!0),a.validators.minWidth&&u.width<a.validators.minWidth&&(valid=!1,errors.minWidth=!0),a.validators.height&&u.height!=a.validators.height&&(valid=!1,errors.height=!0),a.validators.maxHeight&&u.height>a.validators.maxHeight&&(valid=!1,errors.maxHeight=!0),a.validators.minHeight&&u.height<a.validators.minHeight&&(valid=!1,errors.minHeight=!0)),valid===!0?(e.find("img").remove(),e.find("div").html(r&&a.previewImage===!0?t(u).fadeIn():"<span>"+o+"</span>"),e.addClass(a.classes.accept),t.isFunction(a.accept)&&a.accept.apply(s,[n])):(s.val(""),e.addClass(a.classes.reject),t.isFunction(a.reject)&&a.reject.apply(s,[n,errors]))},250)}}})};o()}},t.ezdz.prototype.preview=function(e,n){var i=this.settings,r=this.$input,a=r.parent("."+i.classes.main);basename=e.replace(/\\/g,"/").replace(/.*\//,""),formatted=i.format(basename);var s=new Image;s.src=e,s.onload=function(){a.find("div").html(t(s).fadeIn()),t.isFunction(n)&&n.apply(this)},s.onerror=function(){a.find("div").html("<span>"+formatted+"</span>"),t.isFunction(n)&&n.apply(this)},a.addClass(i.classes.accept)},t.ezdz.prototype.destroy=function(){var t=this.settings,e=this.$input;e.parent("."+t.classes.main).replaceWith(e),e.off("*.ezdz"),e.removeData("ezdz")},t.ezdz.prototype.options=function(e){var n=this.settings;return e?void t.extend(!0,this.settings,e):n},t.ezdz.prototype.container=function(){var t=this.settings,e=this.$input;return e.parent("."+t.classes.main)},t.ezdz.isBrowserCompatible=function(){return!!(window.File&&window.FileList&&window.FileReader)},t.ezdz.defaults=e,t.fn.ezdz=function(e){var n=arguments,i=t(this).data("ezdz");return i?i[e]?i[e].apply(i,Array.prototype.slice.call(n,1)):void t.error("Ezdz error - Method "+e+" does not exist."):t(this).data("ezdz",new t.ezdz(this,e))}}),function(t){"function"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):this.NProgress=t()}(function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,i){var r;return r="translate3d"===l.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===l.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},r.transition="all "+n+"ms "+i,r}function i(t,e){var n="string"==typeof t?t:s(t);return n.indexOf(" "+e+" ")>=0}function r(t,e){var n=s(t),r=n+e;i(n,e)||(t.className=r.substring(1))}function a(t,e){var n,r=s(t);i(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function o(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var u={};u.version="0.1.3";var l=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(l[e]=n);return this},u.status=null,u.set=function(e){var i=u.isStarted();e=t(e,l.minimum,1),u.status=1===e?null:e;var r=u.render(!i),a=r.querySelector(l.barSelector),s=l.speed,o=l.easing;return r.offsetWidth,d(function(t){""===l.positionUsing&&(l.positionUsing=u.getPositioningCSS()),c(a,n(e,s,o)),1===e?(c(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){c(r,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},s)},s)):setTimeout(t,s)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var t=function(){setTimeout(function(){u.status&&(u.trickle(),t())},l.trickleSpeed)};return l.trickle&&t(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var n=u.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*l.trickleRate)},function(){var t=0,e=0;u.promise=function(n){return n&&"resolved"!=n.state()?(0==e&&u.start(),t++,e++,n.always(function(){e--,0==e?(t=0,u.done()):u.set((t-e)/t)}),this):this}}(),u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=l.template;var i,a=n.querySelector(l.barSelector),s=t?"-100":e(u.status||0);return c(a,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),l.showSpinner||(i=n.querySelector(l.spinnerSelector),i&&o(i)),document.body.appendChild(n),n},u.remove=function(){a(document.documentElement,"nprogress-busy");var t=document.getElementById("nprogress");t&&o(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var d=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),c=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,i=r.length,a=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(n=r[i]+a,n in e)return n;return t}function n(n){return n=t(n),a[n]||(a[n]=e(n))}function i(t,e,i){e=n(e),t.style[e]=i}var r=["Webkit","O","Moz","ms"],a={};return function(t,e){var n,r,a=arguments;if(2==a.length)for(n in e)r=e[n],void 0!==r&&e.hasOwnProperty(n)&&i(t,n,r);else i(t,a[1],a[2])}}();return u}),$(function(){$(document).on("page:fetch",function(){NProgress.start()}),$(document).on("page:change",function(){NProgress.done()}),$(document).on("page:restore",function(){NProgress.remove()})}),function(t){"use strict";function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Function}function i(t){return!n(t)&&t instanceof Object}function r(t,n){var a;for(a in n)i(n[a])||e(n[a])?(i(n[a])&&!i(t[a])&&(t[a]={}),e(n[a])&&!e(t[a])&&(t[a]=[]),r(t[a],n[a])):void 0!==n[a]&&(t[a]=n[a])}function a(t,e){var n={};return r(n,t),r(n,e),n}function s(t){var e,n,i,r,a,s,o,u,l,d,c;return d=Object.prototype.toString.call(t),"[object Date]"===d?t:"[object String]"===d&&(i=t.match(S))?(c=parseInt(i[1],10),s=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),a=i[9]?parseInt(i[9],10):0,l=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(A+i[12].slice(1)):0,u=Date.UTC(c,s,e,n,a,l,r),i[13]&&i[14]&&(o=60*i[15],i[17]&&(o+=parseInt(i[17],10)),o*="-"===i[14]?-1:1,u-=60*o*1e3),new Date(u)):void 0}function o(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function u(t,e,n,i,r){return function(s,u,l){var d=a({},t);return d=a(d,l||{}),u.hideLegend&&e(d),"min"in u?n(d,u.min):o(s)||n(d,0),"max"in u&&i(d,u.max),u.stacked&&r(d),u.colors&&(d.colors=u.colors),d=a(d,u.library||{})}}function l(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function d(t,e){l(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function c(t,e,n){P.ajax({dataType:"json",url:e,success:n,error:function(e,n,i){var r="string"==typeof i?i:i.message;d(t,r)}})}function h(t,e){try{e(t)}catch(n){throw d(t.element,n.message),n}}function f(t,e){"string"==typeof t.dataSource?c(t.element,t.dataSource,function(n){t.data=n,h(t,e)}):(t.data=t.dataSource,h(t,e))}function p(t){return""+t}function m(t){return parseFloat(t)}function y(t){if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{var e=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=s(e)||new Date(t)}return t}function v(t){if(!e(t)){var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push([n,t[n]]);t=i}return t}function g(t,e){return t[0].getTime()-e[0].getTime()}function _(t,e){var i,r,a;for(a="render"+t+"Chart",i=0;i<D.length;i++)if(r=D[i],n(r[a]))return r[a](e);throw new Error("No adapter found")}function w(t,n,i){var r,a,s,o,u;for(!e(t)||"object"!=typeof t[0]||e(t[0])?(t=[{name:"Value",data:t}],n.hideLegend=!0):n.hideLegend=!1,n.discrete&&(i=!1),r=0;r<t.length;r++){for(s=v(t[r].data),o=[],a=0;a<s.length;a++)u=s[a][0],u=i?y(u):p(u),o.push([u,m(s[a][1])]);i&&o.sort(g),t[r].data=o}return t}function b(t){var e,n=v(t);for(e=0;e<n.length;e++)n[e]=[p(n[e][0]),m(n[e][1])];return n}function C(t){t.data=w(t.data,t.options,!0),_("Line",t)}function x(t){t.data=w(t.data,t.options,!1),_("Column",t)}function F(t){t.data=b(t.data),_("Pie",t)}function k(t){t.data=w(t.data,t.options,!1),_("Bar",t)}function E(t){t.data=w(t.data,t.options,!0),_("Area",t)}function O(t){t.data=b(t.data),_("Geo",t)}function T(t,e,n,i,r){"string"==typeof e&&(e=document.getElementById(e)),t.element=e,t.options=i||{},t.dataSource=n,M.charts[e.id]=t,f(t,r)}var M,S,A,D=[],P=t.jQuery||t.Zepto||t.$;if(S=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i,A=String(1.5).charAt(1),"Highcharts"in t){var z=new function(){var e=t.Highcharts,n={chart:{},xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},i=function(t){t.legend.enabled=!1},r=function(t,e){t.yAxis.min=e},s=function(t,e){t.yAxis.max=e},o=function(t){t.plotOptions.series.stacking="normal"},l=u(n,i,r,s,o);this.renderLineChart=function(t,n){n=n||"spline";var i={};"areaspline"===n&&(i={plotOptions:{areaspline:{stacking:"normal"},series:{marker:{enabled:!1}}}});var r,a,s,o=l(t.data,t.options,i);o.xAxis.type=t.options.discrete?"category":"datetime",o.chart.type=n,o.chart.renderTo=t.element.id;var u=t.data;for(a=0;a<u.length;a++){if(r=u[a].data,!t.options.discrete)for(s=0;s<r.length;s++)r[s][0]=r[s][0].getTime();u[a].marker={symbol:"circle"}}o.series=u,new e.Chart(o)},this.renderPieChart=function(t){var i={};t.options.colors&&(i.colors=t.options.colors);var r=a(a(n,i),t.options.library||{});r.chart.renderTo=t.element.id,r.series=[{type:"pie",name:"Value",data:t.data}],new e.Chart(r)},this.renderColumnChart=function(t,n){var i,r,a,s,n=n||"column",o=t.data,u=l(o,t.options),d=[];for(u.chart.type=n,u.chart.renderTo=t.element.id,i=0;i<o.length;i++)for(a=o[i],r=0;r<a.data.length;r++)s=a.data[r],d[s[0]]||(d[s[0]]=new Array(o.length)),d[s[0]][i]=s[1];var c=[];for(i in d)d.hasOwnProperty(i)&&c.push(i);u.xAxis.categories=c;var h=[];for(i=0;i<o.length;i++){for(s=[],r=0;r<c.length;r++)s.push(d[c[r]][i]||0);h.push({name:o[i].name,data:s})}u.series=h,new e.Chart(u)};var d=this;this.renderBarChart=function(t){d.renderColumnChart(t,"bar")},this.renderAreaChart=function(t){d.renderLineChart(t,"areaspline")}};D.push(z)}if(t.google&&t.google.setOnLoadCallback){var $=new function(){var e=t.google,n=!1;e.setOnLoadCallback(function(){n=!0}),e.load("visualization","1.0",{packages:["corechart"]});var i=function(t){e.setOnLoadCallback(t),n&&t()},r={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},s=function(t){t.legend.position="none"},o=function(t,e){t.vAxis.viewWindow.min=e},l=function(t,e){t.vAxis.viewWindow.max=e},d=function(t,e){t.hAxis.viewWindow.min=e},c=function(t,e){t.hAxis.viewWindow.max=e},h=function(t){t.isStacked=!0},f=u(r,s,o,l,h),p=function(t,n){var i=new e.visualization.DataTable;i.addColumn(n,"");var r,a,s,o,u,l=[];for(r=0;r<t.length;r++)for(s=t[r],i.addColumn("number",s.name),a=0;a<s.data.length;a++)o=s.data[a],u="datetime"===n?o[0].getTime():o[0],l[u]||(l[u]=new Array(t.length)),l[u][r]=m(o[1]);var d=[];for(r in l)l.hasOwnProperty(r)&&d.push(["datetime"===n?new Date(m(r)):r].concat(l[r]));return"datetime"===n&&d.sort(g),i.addRows(d),i},y=function(e){t.attachEvent?t.attachEvent("onresize",e):t.addEventListener&&t.addEventListener("resize",e,!0),e()};this.renderLineChart=function(t){i(function(){var n=f(t.data,t.options),i=p(t.data,t.options.discrete?"string":"datetime");t.chart=new e.visualization.LineChart(t.element),y(function(){t.chart.draw(i,n)})})},this.renderPieChart=function(t){i(function(){var n={chartArea:{top:"10%",height:"80%"}};t.options.colors&&(n.colors=t.options.colors);var i=a(a(r,n),t.options.library||{}),s=new e.visualization.DataTable;s.addColumn("string",""),s.addColumn("number","Value"),s.addRows(t.data),t.chart=new e.visualization.PieChart(t.element),y(function(){t.chart.draw(s,i)})})},this.renderColumnChart=function(t){i(function(){var n=f(t.data,t.options),i=p(t.data,"string");t.chart=new e.visualization.ColumnChart(t.element),y(function(){t.chart.draw(i,n)})})},this.renderBarChart=function(t){i(function(){var n={hAxis:{gridlines:{color:"#ccc"}}},i=u(r,s,d,c,h)(t.data,t.options,n),a=p(t.data,"string");t.chart=new e.visualization.BarChart(t.element),y(function(){t.chart.draw(a,i)})})},this.renderAreaChart=function(t){i(function(){var n={isStacked:!0,pointSize:0,areaOpacity:.5},i=f(t.data,t.options,n),r=p(t.data,t.options.discrete?"string":"datetime");t.chart=new e.visualization.AreaChart(t.element),y(function(){t.chart.draw(r,i)})})},this.renderGeoChart=function(t){i(function(){var n={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},i=a(a(r,n),t.options.library||{}),s=new e.visualization.DataTable;s.addColumn("string",""),s.addColumn("number","Value"),s.addRows(t.data),t.chart=new e.visualization.GeoChart(t.element),y(function(){t.chart.draw(s,i)})})}};D.push($)}M={LineChart:function(t,e,n){T(this,t,e,n,C)},PieChart:function(t,e,n){T(this,t,e,n,F)},ColumnChart:function(t,e,n){T(this,t,e,n,x)},BarChart:function(t,e,n){T(this,t,e,n,k)},AreaChart:function(t,e,n){T(this,t,e,n,E)},GeoChart:function(t,e,n){T(this,t,e,n,O)},charts:{}},t.Chartkick=M}(window),function(){var t,e,n,i,r,a,s,o,u,l,d,c,h,f,p,m,y,v,g,_,w,b,C,x,F,k,E,O,T,M,S,A,D,P,z,$,N,j,L,R,Y,I,V,q,H,W,U,K,B,G=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;
return-1},Z={}.hasOwnProperty,X=function(t,e){function n(){this.constructor=t}for(var i in e)Z.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Q=[].slice;T={},c=10,q=!1,m=null,O=null,z=null,p=null,K=null,_=function(t){var e;return t=new n(t),R(),d(),$(t),q&&(e=H(t.absolute))?(w(e),b(t)):b(t,V)},H=function(t){var e;return e=T[t],e&&!e.transitionCacheDisabled?e:void 0},y=function(t){return null==t&&(t=!0),q=t},b=function(t,e){return null==e&&(e=function(){return function(){}}(this)),W("page:fetch",{url:t.absolute}),null!=K&&K.abort(),K=new XMLHttpRequest,K.open("GET",t.withoutHashForIE10compatibility(),!0),K.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),K.setRequestHeader("X-XHR-Referer",z),K.onload=function(){var n;return W("page:receive"),(n=D())?(h.apply(null,g(n)),N(),e(),W("page:load")):document.location.href=t.absolute},K.onloadend=function(){return K=null},K.onerror=function(){return document.location.href=t.absolute},K.send()},w=function(t){return null!=K&&K.abort(),h(t.title,t.body),P(t),W("page:restore")},d=function(){var t;return t=new n(m.url),T[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},f(c)},S=function(t){return null==t&&(t=c),/^[\d]+$/.test(t)?c=parseInt(t):void 0},f=function(t){var e,n,i,r,a,s;for(i=Object.keys(T),e=i.map(function(t){return T[t].cachedAt}).sort(function(t,e){return e-t}),s=[],r=0,a=i.length;a>r;r++)n=i[r],T[n].cachedAt<=e[t]&&(W("page:expire",T[n]),s.push(delete T[n]));return s},h=function(e,n,i,r){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=i&&t.update(i),r&&v(),m=window.history.state,W("page:change"),W("page:update")},v=function(){var t,e,n,i,r,a,s,o,u,l,d,c;for(a=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),s=0,u=a.length;u>s;s++)if(r=a[s],""===(d=r.type)||"text/javascript"===d){for(e=document.createElement("script"),c=r.attributes,o=0,l=c.length;l>o;o++)t=c[o],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(e,n)}},Y=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},$=function(t){return(t=new n(t)).absolute!==z?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},N=function(){var t,e;return(t=K.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(m,"",t.href+e)):void 0},R=function(){return z=document.location.href},L=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},j=function(){return m=window.history.state},P=function(t){return window.scrollTo(t.positionX,t.positionY)},V=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},A=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},W=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},M=function(){return!W("page:before-change")},D=function(){var t,e,n,i,r,a;return e=function(){var t;return 400<=(t=K.status)&&600>t},a=function(){return K.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(t){var e,n,i,r,a;for(r=t.head.childNodes,a=[],n=0,i=r.length;i>n;n++)e=r[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&a.push(e.getAttribute("src")||e.getAttribute("href"));return a},t=function(t){var e;return O||(O=i(document)),e=i(t),e.length!==O.length||r(e,O).length!==O.length},r=function(t,e){var n,i,r,a,s;for(t.length>e.length&&(a=[e,t],t=a[0],e=a[1]),s=[],i=0,r=t.length;r>i;i++)n=t[i],G.call(e,n)>=0&&s.push(n);return s},!e()&&a()&&(n=p(K.responseText),n&&!t(n))?n:void 0},g=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,Y(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},r=function(){var t,e,n,i,r,a;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return r=e("<html><body><p>test"),e}catch(s){return i=s,r=t("<html><body><p>test"),t}finally{if(1!==(null!=r&&null!=(a=r.body)?a.childNodes.length:void 0))return n}},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),i=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,void e.__super__.constructor.apply(this,arguments))}return X(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,i,r;for(n=1<=arguments.length?Q.call(arguments,0):[],i=0,r=n.length;r>i;i++)t=n[i],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._crossOrigin=function(){return this.origin!==(new n).origin},e.prototype._anchored=function(){var t;return(this.hash&&this.withoutHash())===(t=new n).withoutHash()||this.href===t.href+"#"},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.link;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(M()||U(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new i(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),l=function(t){return setTimeout(t,500)},F=function(){return document.addEventListener("DOMContentLoaded",function(){return W("page:change"),W("page:update")},!0)},E=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?W("page:update"):void 0}):void 0},k=function(t){var e,i;return(null!=(i=t.state)?i.turbolinks:void 0)?(e=T[new n(t.state.url).absolute])?(d(),w(e)):U(t.target.location.href):void 0},x=function(){return L(),j(),p=r(),document.addEventListener("click",e.installHandlerLast,!0),l(function(){return window.addEventListener("popstate",k,!1)})},C=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),o=window.history&&window.history.pushState&&window.history.replaceState&&C,a=!navigator.userAgent.match(/CriOS\//),I="GET"===(B=A("request_method"))||""===B,u=o&&a&&I,s=document.addEventListener&&document.createEvent,s&&(F(),E()),u?(U=_,x()):U=function(t){return document.location.href=t},this.Turbolinks={visit:U,pagesCached:S,enableTransitionCache:y,allowLinkExtensions:i.allowExtensions,supported:u}}.call(this);